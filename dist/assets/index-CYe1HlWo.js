(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();function Pm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Rm(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var n=i.default;if(typeof n=="function"){var s=function o(){var l=!1;try{l=this instanceof o}catch{}return l?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var l=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(s,o,l.get?l:{enumerable:!0,get:function(){return i[o]}})}),s}var sl={exports:{}},Ps={},il={exports:{}},fe={};var Wd;function Im(){if(Wd)return fe;Wd=1;var i=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=x&&P[x]||P["@@iterator"],typeof P=="function"?P:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function C(P,M,de){this.props=P,this.context=M,this.refs=N,this.updater=de||k}C.prototype.isReactComponent={},C.prototype.setState=function(P,M){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,M,"setState")},C.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function $(){}$.prototype=C.prototype;function T(P,M,de){this.props=P,this.context=M,this.refs=N,this.updater=de||k}var A=T.prototype=new $;A.constructor=T,j(A,C.prototype),A.isPureReactComponent=!0;var B=Array.isArray,H=Object.prototype.hasOwnProperty,L={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function V(P,M,de){var he,ge={},ve=null,Ee=null;if(M!=null)for(he in M.ref!==void 0&&(Ee=M.ref),M.key!==void 0&&(ve=""+M.key),M)H.call(M,he)&&!K.hasOwnProperty(he)&&(ge[he]=M[he]);var be=arguments.length-2;if(be===1)ge.children=de;else if(1<be){for(var Te=Array(be),Ue=0;Ue<be;Ue++)Te[Ue]=arguments[Ue+2];ge.children=Te}if(P&&P.defaultProps)for(he in be=P.defaultProps,be)ge[he]===void 0&&(ge[he]=be[he]);return{$$typeof:i,type:P,key:ve,ref:Ee,props:ge,_owner:L.current}}function D(P,M){return{$$typeof:i,type:P.type,key:M,ref:P.ref,props:P.props,_owner:P._owner}}function F(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function Y(P){var M={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(de){return M[de]})}var ae=/\/+/g;function ue(P,M){return typeof P=="object"&&P!==null&&P.key!=null?Y(""+P.key):M.toString(36)}function we(P,M,de,he,ge){var ve=typeof P;(ve==="undefined"||ve==="boolean")&&(P=null);var Ee=!1;if(P===null)Ee=!0;else switch(ve){case"string":case"number":Ee=!0;break;case"object":switch(P.$$typeof){case i:case n:Ee=!0}}if(Ee)return Ee=P,ge=ge(Ee),P=he===""?"."+ue(Ee,0):he,B(ge)?(de="",P!=null&&(de=P.replace(ae,"$&/")+"/"),we(ge,M,de,"",function(Ue){return Ue})):ge!=null&&(F(ge)&&(ge=D(ge,de+(!ge.key||Ee&&Ee.key===ge.key?"":(""+ge.key).replace(ae,"$&/")+"/")+P)),M.push(ge)),1;if(Ee=0,he=he===""?".":he+":",B(P))for(var be=0;be<P.length;be++){ve=P[be];var Te=he+ue(ve,be);Ee+=we(ve,M,de,Te,ge)}else if(Te=b(P),typeof Te=="function")for(P=Te.call(P),be=0;!(ve=P.next()).done;)ve=ve.value,Te=he+ue(ve,be++),Ee+=we(ve,M,de,Te,ge);else if(ve==="object")throw M=String(P),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return Ee}function ke(P,M,de){if(P==null)return P;var he=[],ge=0;return we(P,he,"","",function(ve){return M.call(de,ve,ge++)}),he}function Ne(P){if(P._status===-1){var M=P._result;M=M(),M.then(function(de){(P._status===0||P._status===-1)&&(P._status=1,P._result=de)},function(de){(P._status===0||P._status===-1)&&(P._status=2,P._result=de)}),P._status===-1&&(P._status=0,P._result=M)}if(P._status===1)return P._result.default;throw P._result}var ye={current:null},G={transition:null},ne={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:G,ReactCurrentOwner:L};function J(){throw Error("act(...) is not supported in production builds of React.")}return fe.Children={map:ke,forEach:function(P,M,de){ke(P,function(){M.apply(this,arguments)},de)},count:function(P){var M=0;return ke(P,function(){M++}),M},toArray:function(P){return ke(P,function(M){return M})||[]},only:function(P){if(!F(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},fe.Component=C,fe.Fragment=s,fe.Profiler=l,fe.PureComponent=T,fe.StrictMode=o,fe.Suspense=m,fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,fe.act=J,fe.cloneElement=function(P,M,de){if(P==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+P+".");var he=j({},P.props),ge=P.key,ve=P.ref,Ee=P._owner;if(M!=null){if(M.ref!==void 0&&(ve=M.ref,Ee=L.current),M.key!==void 0&&(ge=""+M.key),P.type&&P.type.defaultProps)var be=P.type.defaultProps;for(Te in M)H.call(M,Te)&&!K.hasOwnProperty(Te)&&(he[Te]=M[Te]===void 0&&be!==void 0?be[Te]:M[Te])}var Te=arguments.length-2;if(Te===1)he.children=de;else if(1<Te){be=Array(Te);for(var Ue=0;Ue<Te;Ue++)be[Ue]=arguments[Ue+2];he.children=be}return{$$typeof:i,type:P.type,key:ge,ref:ve,props:he,_owner:Ee}},fe.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},P.Provider={$$typeof:u,_context:P},P.Consumer=P},fe.createElement=V,fe.createFactory=function(P){var M=V.bind(null,P);return M.type=P,M},fe.createRef=function(){return{current:null}},fe.forwardRef=function(P){return{$$typeof:p,render:P}},fe.isValidElement=F,fe.lazy=function(P){return{$$typeof:g,_payload:{_status:-1,_result:P},_init:Ne}},fe.memo=function(P,M){return{$$typeof:y,type:P,compare:M===void 0?null:M}},fe.startTransition=function(P){var M=G.transition;G.transition={};try{P()}finally{G.transition=M}},fe.unstable_act=J,fe.useCallback=function(P,M){return ye.current.useCallback(P,M)},fe.useContext=function(P){return ye.current.useContext(P)},fe.useDebugValue=function(){},fe.useDeferredValue=function(P){return ye.current.useDeferredValue(P)},fe.useEffect=function(P,M){return ye.current.useEffect(P,M)},fe.useId=function(){return ye.current.useId()},fe.useImperativeHandle=function(P,M,de){return ye.current.useImperativeHandle(P,M,de)},fe.useInsertionEffect=function(P,M){return ye.current.useInsertionEffect(P,M)},fe.useLayoutEffect=function(P,M){return ye.current.useLayoutEffect(P,M)},fe.useMemo=function(P,M){return ye.current.useMemo(P,M)},fe.useReducer=function(P,M,de){return ye.current.useReducer(P,M,de)},fe.useRef=function(P){return ye.current.useRef(P)},fe.useState=function(P){return ye.current.useState(P)},fe.useSyncExternalStore=function(P,M,de){return ye.current.useSyncExternalStore(P,M,de)},fe.useTransition=function(){return ye.current.useTransition()},fe.version="18.3.1",fe}var Hd;function Ml(){return Hd||(Hd=1,il.exports=Im()),il.exports}var qd;function Om(){if(qd)return Ps;qd=1;var i=Ml(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(p,m,y){var g,x={},b=null,k=null;y!==void 0&&(b=""+y),m.key!==void 0&&(b=""+m.key),m.ref!==void 0&&(k=m.ref);for(g in m)o.call(m,g)&&!u.hasOwnProperty(g)&&(x[g]=m[g]);if(p&&p.defaultProps)for(g in m=p.defaultProps,m)x[g]===void 0&&(x[g]=m[g]);return{$$typeof:n,type:p,key:b,ref:k,props:x,_owner:l.current}}return Ps.Fragment=s,Ps.jsx=h,Ps.jsxs=h,Ps}var Vd;function Am(){return Vd||(Vd=1,sl.exports=Om()),sl.exports}var c=Am(),_=Ml(),Yi={},ol={exports:{}},mt={},al={exports:{}},ll={};var Gd;function Lm(){return Gd||(Gd=1,(function(i){function n(G,ne){var J=G.length;G.push(ne);e:for(;0<J;){var P=J-1>>>1,M=G[P];if(0<l(M,ne))G[P]=ne,G[J]=M,J=P;else break e}}function s(G){return G.length===0?null:G[0]}function o(G){if(G.length===0)return null;var ne=G[0],J=G.pop();if(J!==ne){G[0]=J;e:for(var P=0,M=G.length,de=M>>>1;P<de;){var he=2*(P+1)-1,ge=G[he],ve=he+1,Ee=G[ve];if(0>l(ge,J))ve<M&&0>l(Ee,ge)?(G[P]=Ee,G[ve]=J,P=ve):(G[P]=ge,G[he]=J,P=he);else if(ve<M&&0>l(Ee,J))G[P]=Ee,G[ve]=J,P=ve;else break e}}return ne}function l(G,ne){var J=G.sortIndex-ne.sortIndex;return J!==0?J:G.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();i.unstable_now=function(){return h.now()-p}}var m=[],y=[],g=1,x=null,b=3,k=!1,j=!1,N=!1,C=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(G){for(var ne=s(y);ne!==null;){if(ne.callback===null)o(y);else if(ne.startTime<=G)o(y),ne.sortIndex=ne.expirationTime,n(m,ne);else break;ne=s(y)}}function B(G){if(N=!1,A(G),!j)if(s(m)!==null)j=!0,Ne(H);else{var ne=s(y);ne!==null&&ye(B,ne.startTime-G)}}function H(G,ne){j=!1,N&&(N=!1,$(V),V=-1),k=!0;var J=b;try{for(A(ne),x=s(m);x!==null&&(!(x.expirationTime>ne)||G&&!Y());){var P=x.callback;if(typeof P=="function"){x.callback=null,b=x.priorityLevel;var M=P(x.expirationTime<=ne);ne=i.unstable_now(),typeof M=="function"?x.callback=M:x===s(m)&&o(m),A(ne)}else o(m);x=s(m)}if(x!==null)var de=!0;else{var he=s(y);he!==null&&ye(B,he.startTime-ne),de=!1}return de}finally{x=null,b=J,k=!1}}var L=!1,K=null,V=-1,D=5,F=-1;function Y(){return!(i.unstable_now()-F<D)}function ae(){if(K!==null){var G=i.unstable_now();F=G;var ne=!0;try{ne=K(!0,G)}finally{ne?ue():(L=!1,K=null)}}else L=!1}var ue;if(typeof T=="function")ue=function(){T(ae)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,ke=we.port2;we.port1.onmessage=ae,ue=function(){ke.postMessage(null)}}else ue=function(){C(ae,0)};function Ne(G){K=G,L||(L=!0,ue())}function ye(G,ne){V=C(function(){G(i.unstable_now())},ne)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_continueExecution=function(){j||k||(j=!0,Ne(H))},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_getFirstCallbackNode=function(){return s(m)},i.unstable_next=function(G){switch(b){case 1:case 2:case 3:var ne=3;break;default:ne=b}var J=b;b=ne;try{return G()}finally{b=J}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var J=b;b=G;try{return ne()}finally{b=J}},i.unstable_scheduleCallback=function(G,ne,J){var P=i.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?P+J:P):J=P,G){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=J+M,G={id:g++,callback:ne,priorityLevel:G,startTime:J,expirationTime:M,sortIndex:-1},J>P?(G.sortIndex=J,n(y,G),s(m)===null&&G===s(y)&&(N?($(V),V=-1):N=!0,ye(B,J-P))):(G.sortIndex=M,n(m,G),j||k||(j=!0,Ne(H))),G},i.unstable_shouldYield=Y,i.unstable_wrapCallback=function(G){var ne=b;return function(){var J=b;b=ne;try{return G.apply(this,arguments)}finally{b=J}}}})(ll)),ll}var Kd;function $m(){return Kd||(Kd=1,al.exports=Lm()),al.exports}var Jd;function Mm(){if(Jd)return mt;Jd=1;var i=Ml(),n=$m();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(l[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},x={};function b(e){return m.call(x,e)?!0:m.call(g,e)?!1:y.test(e)?x[e]=!0:(g[e]=!0,!1)}function k(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function j(e,t,r,a){if(t===null||typeof t>"u"||k(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function N(e,t,r,a,d,f,v){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=d,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=v}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){C[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];C[t]=new N(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){C[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){C[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){C[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){C[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){C[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){C[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){C[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function T(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($,T);C[t]=new N(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($,T);C[t]=new N(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($,T);C[t]=new N(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){C[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),C.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){C[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function A(e,t,r,a){var d=C.hasOwnProperty(t)?C[t]:null;(d!==null?d.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(j(t,r,d,a)&&(r=null),a||d===null?b(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):d.mustUseProperty?e[d.propertyName]=r===null?d.type===3?!1:"":r:(t=d.attributeName,a=d.attributeNamespace,r===null?e.removeAttribute(t):(d=d.type,r=d===3||d===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var B=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),L=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),Y=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),G=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,P;function M(e){if(P===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return`
`+P+e}var de=!1;function he(e,t){if(!e||de)return"";de=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(O){var a=O}Reflect.construct(e,[],t)}else{try{t.call()}catch(O){a=O}e.call(t.prototype)}else{try{throw Error()}catch(O){a=O}e()}}catch(O){if(O&&a&&typeof O.stack=="string"){for(var d=O.stack.split(`
`),f=a.stack.split(`
`),v=d.length-1,w=f.length-1;1<=v&&0<=w&&d[v]!==f[w];)w--;for(;1<=v&&0<=w;v--,w--)if(d[v]!==f[w]){if(v!==1||w!==1)do if(v--,w--,0>w||d[v]!==f[w]){var S=`
`+d[v].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=v&&0<=w);break}}}finally{de=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?M(e):""}function ge(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=he(e.type,!1),e;case 11:return e=he(e.type.render,!1),e;case 1:return e=he(e.type,!0),e;default:return""}}function ve(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case L:return"Portal";case D:return"Profiler";case V:return"StrictMode";case ue:return"Suspense";case we:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Y:return(e.displayName||"Context")+".Consumer";case F:return(e._context.displayName||"Context")+".Provider";case ae:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ke:return t=e.displayName||null,t!==null?t:ve(e.type)||"Memo";case Ne:t=e._payload,e=e._init;try{return ve(e(t))}catch{}}return null}function Ee(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(t);case 8:return t===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function be(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Te(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ue(e){var t=Te(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var d=r.get,f=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function re(e){e._valueTracker||(e._valueTracker=Ue(e))}function Ce(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=Te(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function me(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Pe(e,t){var r=t.checked;return J({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function We(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=be(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ut(e,t){t=t.checked,t!=null&&A(e,"checked",t,!1)}function gt(e,t){Ut(e,t);var r=be(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qr(e,t.type,r):t.hasOwnProperty("defaultValue")&&qr(e,t.type,be(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function it(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function qr(e,t,r){(t!=="number"||me(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Kt=Array.isArray;function ln(e,t,r,a){if(e=e.options,t){t={};for(var d=0;d<r.length;d++)t["$"+r[d]]=!0;for(r=0;r<e.length;r++)d=t.hasOwnProperty("$"+e[r].value),e[r].selected!==d&&(e[r].selected=d),d&&a&&(e[r].defaultSelected=!0)}else{for(r=""+be(r),t=null,d=0;d<e.length;d++){if(e[d].value===r){e[d].selected=!0,a&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function vt(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return J({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xn(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(s(92));if(Kt(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:be(r)}}function eu(e,t){var r=be(t.value),a=be(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function tu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ws,ru=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,d){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,d)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ws=Ws||document.createElement("div"),Ws.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ws.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Af=["Webkit","ms","Moz","O"];Object.keys(Gr).forEach(function(e){Af.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gr[t]=Gr[e]})});function su(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Gr.hasOwnProperty(e)&&Gr[e]?(""+t).trim():t+"px"}function iu(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,d=su(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,d):e[r]=d}}var Lf=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function go(e,t){if(t){if(Lf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function vo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yo=null;function xo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wo=null,er=null,tr=null;function ou(e){if(e=ms(e)){if(typeof wo!="function")throw Error(s(280));var t=e.stateNode;t&&(t=hi(t),wo(e.stateNode,e.type,t))}}function au(e){er?tr?tr.push(e):tr=[e]:er=e}function lu(){if(er){var e=er,t=tr;if(tr=er=null,ou(e),t)for(e=0;e<t.length;e++)ou(t[e])}}function uu(e,t){return e(t)}function cu(){}var bo=!1;function du(e,t,r){if(bo)return e(t,r);bo=!0;try{return uu(e,t,r)}finally{bo=!1,(er!==null||tr!==null)&&(cu(),lu())}}function Kr(e,t){var r=e.stateNode;if(r===null)return null;var a=hi(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,t,typeof r));return r}var _o=!1;if(p)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){_o=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{_o=!1}function $f(e,t,r,a,d,f,v,w,S){var O=Array.prototype.slice.call(arguments,3);try{t.apply(r,O)}catch(z){this.onError(z)}}var Qr=!1,Hs=null,qs=!1,ko=null,Mf={onError:function(e){Qr=!0,Hs=e}};function Df(e,t,r,a,d,f,v,w,S){Qr=!1,Hs=null,$f.apply(Mf,arguments)}function Uf(e,t,r,a,d,f,v,w,S){if(Df.apply(this,arguments),Qr){if(Qr){var O=Hs;Qr=!1,Hs=null}else throw Error(s(198));qs||(qs=!0,ko=O)}}function On(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function hu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fu(e){if(On(e)!==e)throw Error(s(188))}function zf(e){var t=e.alternate;if(!t){if(t=On(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,a=t;;){var d=r.return;if(d===null)break;var f=d.alternate;if(f===null){if(a=d.return,a!==null){r=a;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===r)return fu(d),e;if(f===a)return fu(d),t;f=f.sibling}throw Error(s(188))}if(r.return!==a.return)r=d,a=f;else{for(var v=!1,w=d.child;w;){if(w===r){v=!0,r=d,a=f;break}if(w===a){v=!0,a=d,r=f;break}w=w.sibling}if(!v){for(w=f.child;w;){if(w===r){v=!0,r=f,a=d;break}if(w===a){v=!0,a=f,r=d;break}w=w.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==a)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function pu(e){return e=zf(e),e!==null?mu(e):null}function mu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mu(e);if(t!==null)return t;e=e.sibling}return null}var gu=n.unstable_scheduleCallback,vu=n.unstable_cancelCallback,Ff=n.unstable_shouldYield,Bf=n.unstable_requestPaint,Fe=n.unstable_now,Wf=n.unstable_getCurrentPriorityLevel,jo=n.unstable_ImmediatePriority,yu=n.unstable_UserBlockingPriority,Vs=n.unstable_NormalPriority,Hf=n.unstable_LowPriority,xu=n.unstable_IdlePriority,Gs=null,zt=null;function qf(e){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Gs,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Kf,Vf=Math.log,Gf=Math.LN2;function Kf(e){return e>>>=0,e===0?32:31-(Vf(e)/Gf|0)|0}var Ks=64,Js=4194304;function Yr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Qs(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,d=e.suspendedLanes,f=e.pingedLanes,v=r&268435455;if(v!==0){var w=v&~d;w!==0?a=Yr(w):(f&=v,f!==0&&(a=Yr(f)))}else v=r&~d,v!==0?a=Yr(v):f!==0&&(a=Yr(f));if(a===0)return 0;if(t!==0&&t!==a&&(t&d)===0&&(d=a&-a,f=t&-t,d>=f||d===16&&(f&4194240)!==0))return t;if((a&4)!==0&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-Pt(t),d=1<<r,a|=e[r],t&=~d;return a}function Jf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qf(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var v=31-Pt(f),w=1<<v,S=d[v];S===-1?((w&r)===0||(w&a)!==0)&&(d[v]=Jf(w,t)):S<=t&&(e.expiredLanes|=w),f&=~w}}function So(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wu(){var e=Ks;return Ks<<=1,(Ks&4194240)===0&&(Ks=64),e}function No(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Zr(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=r}function Yf(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var d=31-Pt(r),f=1<<d;t[d]=0,a[d]=-1,e[d]=-1,r&=~f}}function Eo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-Pt(r),d=1<<a;d&t|e[a]&t&&(e[a]|=t),r&=~d}}var Se=0;function bu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var _u,Co,ku,ju,Su,To=!1,Ys=[],un=null,cn=null,dn=null,Xr=new Map,es=new Map,hn=[],Zf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nu(e,t){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":Xr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":es.delete(t.pointerId)}}function ts(e,t,r,a,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:f,targetContainers:[d]},t!==null&&(t=ms(t),t!==null&&Co(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function Xf(e,t,r,a,d){switch(t){case"focusin":return un=ts(un,e,t,r,a,d),!0;case"dragenter":return cn=ts(cn,e,t,r,a,d),!0;case"mouseover":return dn=ts(dn,e,t,r,a,d),!0;case"pointerover":var f=d.pointerId;return Xr.set(f,ts(Xr.get(f)||null,e,t,r,a,d)),!0;case"gotpointercapture":return f=d.pointerId,es.set(f,ts(es.get(f)||null,e,t,r,a,d)),!0}return!1}function Eu(e){var t=An(e.target);if(t!==null){var r=On(t);if(r!==null){if(t=r.tag,t===13){if(t=hu(r),t!==null){e.blockedOn=t,Su(e.priority,function(){ku(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ro(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);yo=a,r.target.dispatchEvent(a),yo=null}else return t=ms(r),t!==null&&Co(t),e.blockedOn=r,!1;t.shift()}return!0}function Cu(e,t,r){Zs(e)&&r.delete(t)}function ep(){To=!1,un!==null&&Zs(un)&&(un=null),cn!==null&&Zs(cn)&&(cn=null),dn!==null&&Zs(dn)&&(dn=null),Xr.forEach(Cu),es.forEach(Cu)}function ns(e,t){e.blockedOn===t&&(e.blockedOn=null,To||(To=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,ep)))}function rs(e){function t(d){return ns(d,e)}if(0<Ys.length){ns(Ys[0],e);for(var r=1;r<Ys.length;r++){var a=Ys[r];a.blockedOn===e&&(a.blockedOn=null)}}for(un!==null&&ns(un,e),cn!==null&&ns(cn,e),dn!==null&&ns(dn,e),Xr.forEach(t),es.forEach(t),r=0;r<hn.length;r++)a=hn[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<hn.length&&(r=hn[0],r.blockedOn===null);)Eu(r),r.blockedOn===null&&hn.shift()}var nr=B.ReactCurrentBatchConfig,Xs=!0;function tp(e,t,r,a){var d=Se,f=nr.transition;nr.transition=null;try{Se=1,Po(e,t,r,a)}finally{Se=d,nr.transition=f}}function np(e,t,r,a){var d=Se,f=nr.transition;nr.transition=null;try{Se=4,Po(e,t,r,a)}finally{Se=d,nr.transition=f}}function Po(e,t,r,a){if(Xs){var d=Ro(e,t,r,a);if(d===null)Ko(e,t,a,ei,r),Nu(e,a);else if(Xf(d,e,t,r,a))a.stopPropagation();else if(Nu(e,a),t&4&&-1<Zf.indexOf(e)){for(;d!==null;){var f=ms(d);if(f!==null&&_u(f),f=Ro(e,t,r,a),f===null&&Ko(e,t,a,ei,r),f===d)break;d=f}d!==null&&a.stopPropagation()}else Ko(e,t,a,null,r)}}var ei=null;function Ro(e,t,r,a){if(ei=null,e=xo(a),e=An(e),e!==null)if(t=On(e),t===null)e=null;else if(r=t.tag,r===13){if(e=hu(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ei=e,null}function Tu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wf()){case jo:return 1;case yu:return 4;case Vs:case Hf:return 16;case xu:return 536870912;default:return 16}default:return 16}}var fn=null,Io=null,ti=null;function Pu(){if(ti)return ti;var e,t=Io,r=t.length,a,d="value"in fn?fn.value:fn.textContent,f=d.length;for(e=0;e<r&&t[e]===d[e];e++);var v=r-e;for(a=1;a<=v&&t[r-a]===d[f-a];a++);return ti=d.slice(e,1<a?1-a:void 0)}function ni(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ri(){return!0}function Ru(){return!1}function yt(e){function t(r,a,d,f,v){this._reactName=r,this._targetInst=d,this.type=a,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(r=e[w],this[w]=r?r(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ri:Ru,this.isPropagationStopped=Ru,this}return J(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),t}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oo=yt(rr),ss=J({},rr,{view:0,detail:0}),rp=yt(ss),Ao,Lo,is,si=J({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==is&&(is&&e.type==="mousemove"?(Ao=e.screenX-is.screenX,Lo=e.screenY-is.screenY):Lo=Ao=0,is=e),Ao)},movementY:function(e){return"movementY"in e?e.movementY:Lo}}),Iu=yt(si),sp=J({},si,{dataTransfer:0}),ip=yt(sp),op=J({},ss,{relatedTarget:0}),$o=yt(op),ap=J({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),lp=yt(ap),up=J({},rr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cp=yt(up),dp=J({},rr,{data:0}),Ou=yt(dp),hp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pp[e])?!!t[e]:!1}function Mo(){return mp}var gp=J({},ss,{key:function(e){if(e.key){var t=hp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ni(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mo,charCode:function(e){return e.type==="keypress"?ni(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ni(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vp=yt(gp),yp=J({},si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Au=yt(yp),xp=J({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mo}),wp=yt(xp),bp=J({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_p=yt(bp),kp=J({},si,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jp=yt(kp),Sp=[9,13,27,32],Do=p&&"CompositionEvent"in window,os=null;p&&"documentMode"in document&&(os=document.documentMode);var Np=p&&"TextEvent"in window&&!os,Lu=p&&(!Do||os&&8<os&&11>=os),$u=" ",Mu=!1;function Du(e,t){switch(e){case"keyup":return Sp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var sr=!1;function Ep(e,t){switch(e){case"compositionend":return Uu(t);case"keypress":return t.which!==32?null:(Mu=!0,$u);case"textInput":return e=t.data,e===$u&&Mu?null:e;default:return null}}function Cp(e,t){if(sr)return e==="compositionend"||!Do&&Du(e,t)?(e=Pu(),ti=Io=fn=null,sr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lu&&t.locale!=="ko"?null:t.data;default:return null}}var Tp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tp[e.type]:t==="textarea"}function Fu(e,t,r,a){au(a),t=ui(t,"onChange"),0<t.length&&(r=new Oo("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var as=null,ls=null;function Pp(e){ic(e,0)}function ii(e){var t=ur(e);if(Ce(t))return e}function Rp(e,t){if(e==="change")return t}var Bu=!1;if(p){var Uo;if(p){var zo="oninput"in document;if(!zo){var Wu=document.createElement("div");Wu.setAttribute("oninput","return;"),zo=typeof Wu.oninput=="function"}Uo=zo}else Uo=!1;Bu=Uo&&(!document.documentMode||9<document.documentMode)}function Hu(){as&&(as.detachEvent("onpropertychange",qu),ls=as=null)}function qu(e){if(e.propertyName==="value"&&ii(ls)){var t=[];Fu(t,ls,e,xo(e)),du(Pp,t)}}function Ip(e,t,r){e==="focusin"?(Hu(),as=t,ls=r,as.attachEvent("onpropertychange",qu)):e==="focusout"&&Hu()}function Op(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ii(ls)}function Ap(e,t){if(e==="click")return ii(t)}function Lp(e,t){if(e==="input"||e==="change")return ii(t)}function $p(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:$p;function us(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var d=r[a];if(!m.call(t,d)||!Rt(e[d],t[d]))return!1}return!0}function Vu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gu(e,t){var r=Vu(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vu(r)}}function Ku(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ku(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ju(){for(var e=window,t=me();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=me(e.document)}return t}function Fo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Mp(e){var t=Ju(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ku(r.ownerDocument.documentElement,r)){if(a!==null&&Fo(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=r.textContent.length,f=Math.min(a.start,d);a=a.end===void 0?f:Math.min(a.end,d),!e.extend&&f>a&&(d=a,a=f,f=d),d=Gu(r,f);var v=Gu(r,a);d&&v&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),f>a?(e.addRange(t),e.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Dp=p&&"documentMode"in document&&11>=document.documentMode,ir=null,Bo=null,cs=null,Wo=!1;function Qu(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wo||ir==null||ir!==me(a)||(a=ir,"selectionStart"in a&&Fo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),cs&&us(cs,a)||(cs=a,a=ui(Bo,"onSelect"),0<a.length&&(t=new Oo("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=ir)))}function oi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var or={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionend:oi("Transition","TransitionEnd")},Ho={},Yu={};p&&(Yu=document.createElement("div").style,"AnimationEvent"in window||(delete or.animationend.animation,delete or.animationiteration.animation,delete or.animationstart.animation),"TransitionEvent"in window||delete or.transitionend.transition);function ai(e){if(Ho[e])return Ho[e];if(!or[e])return e;var t=or[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Yu)return Ho[e]=t[r];return e}var Zu=ai("animationend"),Xu=ai("animationiteration"),ec=ai("animationstart"),tc=ai("transitionend"),nc=new Map,rc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pn(e,t){nc.set(e,t),u(t,[e])}for(var qo=0;qo<rc.length;qo++){var Vo=rc[qo],Up=Vo.toLowerCase(),zp=Vo[0].toUpperCase()+Vo.slice(1);pn(Up,"on"+zp)}pn(Zu,"onAnimationEnd"),pn(Xu,"onAnimationIteration"),pn(ec,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(tc,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fp=new Set("cancel close invalid load scroll toggle".split(" ").concat(ds));function sc(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,Uf(a,t,void 0,e),e.currentTarget=null}function ic(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],d=a.event;a=a.listeners;e:{var f=void 0;if(t)for(var v=a.length-1;0<=v;v--){var w=a[v],S=w.instance,O=w.currentTarget;if(w=w.listener,S!==f&&d.isPropagationStopped())break e;sc(d,w,O),f=S}else for(v=0;v<a.length;v++){if(w=a[v],S=w.instance,O=w.currentTarget,w=w.listener,S!==f&&d.isPropagationStopped())break e;sc(d,w,O),f=S}}}if(qs)throw e=ko,qs=!1,ko=null,e}function Oe(e,t){var r=t[ea];r===void 0&&(r=t[ea]=new Set);var a=e+"__bubble";r.has(a)||(oc(t,e,2,!1),r.add(a))}function Go(e,t,r){var a=0;t&&(a|=4),oc(r,e,a,t)}var li="_reactListening"+Math.random().toString(36).slice(2);function hs(e){if(!e[li]){e[li]=!0,o.forEach(function(r){r!=="selectionchange"&&(Fp.has(r)||Go(r,!1,e),Go(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[li]||(t[li]=!0,Go("selectionchange",!1,t))}}function oc(e,t,r,a){switch(Tu(t)){case 1:var d=tp;break;case 4:d=np;break;default:d=Po}r=d.bind(null,t,r,e),d=void 0,!_o||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),a?d!==void 0?e.addEventListener(t,r,{capture:!0,passive:d}):e.addEventListener(t,r,!0):d!==void 0?e.addEventListener(t,r,{passive:d}):e.addEventListener(t,r,!1)}function Ko(e,t,r,a,d){var f=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var v=a.tag;if(v===3||v===4){var w=a.stateNode.containerInfo;if(w===d||w.nodeType===8&&w.parentNode===d)break;if(v===4)for(v=a.return;v!==null;){var S=v.tag;if((S===3||S===4)&&(S=v.stateNode.containerInfo,S===d||S.nodeType===8&&S.parentNode===d))return;v=v.return}for(;w!==null;){if(v=An(w),v===null)return;if(S=v.tag,S===5||S===6){a=f=v;continue e}w=w.parentNode}}a=a.return}du(function(){var O=f,z=xo(r),W=[];e:{var U=nc.get(e);if(U!==void 0){var Q=Oo,X=e;switch(e){case"keypress":if(ni(r)===0)break e;case"keydown":case"keyup":Q=vp;break;case"focusin":X="focus",Q=$o;break;case"focusout":X="blur",Q=$o;break;case"beforeblur":case"afterblur":Q=$o;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ip;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=wp;break;case Zu:case Xu:case ec:Q=lp;break;case tc:Q=_p;break;case"scroll":Q=rp;break;case"wheel":Q=jp;break;case"copy":case"cut":case"paste":Q=cp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Au}var ee=(t&4)!==0,Be=!ee&&e==="scroll",R=ee?U!==null?U+"Capture":null:U;ee=[];for(var E=O,I;E!==null;){I=E;var q=I.stateNode;if(I.tag===5&&q!==null&&(I=q,R!==null&&(q=Kr(E,R),q!=null&&ee.push(fs(E,q,I)))),Be)break;E=E.return}0<ee.length&&(U=new Q(U,X,null,r,z),W.push({event:U,listeners:ee}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",U&&r!==yo&&(X=r.relatedTarget||r.fromElement)&&(An(X)||X[Jt]))break e;if((Q||U)&&(U=z.window===z?z:(U=z.ownerDocument)?U.defaultView||U.parentWindow:window,Q?(X=r.relatedTarget||r.toElement,Q=O,X=X?An(X):null,X!==null&&(Be=On(X),X!==Be||X.tag!==5&&X.tag!==6)&&(X=null)):(Q=null,X=O),Q!==X)){if(ee=Iu,q="onMouseLeave",R="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(ee=Au,q="onPointerLeave",R="onPointerEnter",E="pointer"),Be=Q==null?U:ur(Q),I=X==null?U:ur(X),U=new ee(q,E+"leave",Q,r,z),U.target=Be,U.relatedTarget=I,q=null,An(z)===O&&(ee=new ee(R,E+"enter",X,r,z),ee.target=I,ee.relatedTarget=Be,q=ee),Be=q,Q&&X)t:{for(ee=Q,R=X,E=0,I=ee;I;I=ar(I))E++;for(I=0,q=R;q;q=ar(q))I++;for(;0<E-I;)ee=ar(ee),E--;for(;0<I-E;)R=ar(R),I--;for(;E--;){if(ee===R||R!==null&&ee===R.alternate)break t;ee=ar(ee),R=ar(R)}ee=null}else ee=null;Q!==null&&ac(W,U,Q,ee,!1),X!==null&&Be!==null&&ac(W,Be,X,ee,!0)}}e:{if(U=O?ur(O):window,Q=U.nodeName&&U.nodeName.toLowerCase(),Q==="select"||Q==="input"&&U.type==="file")var te=Rp;else if(zu(U))if(Bu)te=Lp;else{te=Op;var ie=Ip}else(Q=U.nodeName)&&Q.toLowerCase()==="input"&&(U.type==="checkbox"||U.type==="radio")&&(te=Ap);if(te&&(te=te(e,O))){Fu(W,te,r,z);break e}ie&&ie(e,U,O),e==="focusout"&&(ie=U._wrapperState)&&ie.controlled&&U.type==="number"&&qr(U,"number",U.value)}switch(ie=O?ur(O):window,e){case"focusin":(zu(ie)||ie.contentEditable==="true")&&(ir=ie,Bo=O,cs=null);break;case"focusout":cs=Bo=ir=null;break;case"mousedown":Wo=!0;break;case"contextmenu":case"mouseup":case"dragend":Wo=!1,Qu(W,r,z);break;case"selectionchange":if(Dp)break;case"keydown":case"keyup":Qu(W,r,z)}var oe;if(Do)e:{switch(e){case"compositionstart":var le="onCompositionStart";break e;case"compositionend":le="onCompositionEnd";break e;case"compositionupdate":le="onCompositionUpdate";break e}le=void 0}else sr?Du(e,r)&&(le="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(le="onCompositionStart");le&&(Lu&&r.locale!=="ko"&&(sr||le!=="onCompositionStart"?le==="onCompositionEnd"&&sr&&(oe=Pu()):(fn=z,Io="value"in fn?fn.value:fn.textContent,sr=!0)),ie=ui(O,le),0<ie.length&&(le=new Ou(le,e,null,r,z),W.push({event:le,listeners:ie}),oe?le.data=oe:(oe=Uu(r),oe!==null&&(le.data=oe)))),(oe=Np?Ep(e,r):Cp(e,r))&&(O=ui(O,"onBeforeInput"),0<O.length&&(z=new Ou("onBeforeInput","beforeinput",null,r,z),W.push({event:z,listeners:O}),z.data=oe))}ic(W,t)})}function fs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ui(e,t){for(var r=t+"Capture",a=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Kr(e,r),f!=null&&a.unshift(fs(e,f,d)),f=Kr(e,t),f!=null&&a.push(fs(e,f,d))),e=e.return}return a}function ar(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ac(e,t,r,a,d){for(var f=t._reactName,v=[];r!==null&&r!==a;){var w=r,S=w.alternate,O=w.stateNode;if(S!==null&&S===a)break;w.tag===5&&O!==null&&(w=O,d?(S=Kr(r,f),S!=null&&v.unshift(fs(r,S,w))):d||(S=Kr(r,f),S!=null&&v.push(fs(r,S,w)))),r=r.return}v.length!==0&&e.push({event:t,listeners:v})}var Bp=/\r\n?/g,Wp=/\u0000|\uFFFD/g;function lc(e){return(typeof e=="string"?e:""+e).replace(Bp,`
`).replace(Wp,"")}function ci(e,t,r){if(t=lc(t),lc(e)!==t&&r)throw Error(s(425))}function di(){}var Jo=null,Qo=null;function Yo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zo=typeof setTimeout=="function"?setTimeout:void 0,Hp=typeof clearTimeout=="function"?clearTimeout:void 0,uc=typeof Promise=="function"?Promise:void 0,qp=typeof queueMicrotask=="function"?queueMicrotask:typeof uc<"u"?function(e){return uc.resolve(null).then(e).catch(Vp)}:Zo;function Vp(e){setTimeout(function(){throw e})}function Xo(e,t){var r=t,a=0;do{var d=r.nextSibling;if(e.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"){if(a===0){e.removeChild(d),rs(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=d}while(r);rs(t)}function mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var lr=Math.random().toString(36).slice(2),Ft="__reactFiber$"+lr,ps="__reactProps$"+lr,Jt="__reactContainer$"+lr,ea="__reactEvents$"+lr,Gp="__reactListeners$"+lr,Kp="__reactHandles$"+lr;function An(e){var t=e[Ft];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Jt]||r[Ft]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=cc(e);e!==null;){if(r=e[Ft])return r;e=cc(e)}return t}e=r,r=e.parentNode}return null}function ms(e){return e=e[Ft]||e[Jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ur(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function hi(e){return e[ps]||null}var ta=[],cr=-1;function gn(e){return{current:e}}function Ae(e){0>cr||(e.current=ta[cr],ta[cr]=null,cr--)}function Re(e,t){cr++,ta[cr]=e.current,e.current=t}var vn={},tt=gn(vn),ct=gn(!1),Ln=vn;function dr(e,t){var r=e.type.contextTypes;if(!r)return vn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in r)d[f]=t[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function dt(e){return e=e.childContextTypes,e!=null}function fi(){Ae(ct),Ae(tt)}function dc(e,t,r){if(tt.current!==vn)throw Error(s(168));Re(tt,t),Re(ct,r)}function hc(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var d in a)if(!(d in t))throw Error(s(108,Ee(e)||"Unknown",d));return J({},r,a)}function pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vn,Ln=tt.current,Re(tt,e),Re(ct,ct.current),!0}function fc(e,t,r){var a=e.stateNode;if(!a)throw Error(s(169));r?(e=hc(e,t,Ln),a.__reactInternalMemoizedMergedChildContext=e,Ae(ct),Ae(tt),Re(tt,e)):Ae(ct),Re(ct,r)}var Qt=null,mi=!1,na=!1;function pc(e){Qt===null?Qt=[e]:Qt.push(e)}function Jp(e){mi=!0,pc(e)}function yn(){if(!na&&Qt!==null){na=!0;var e=0,t=Se;try{var r=Qt;for(Se=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}Qt=null,mi=!1}catch(d){throw Qt!==null&&(Qt=Qt.slice(e+1)),gu(jo,yn),d}finally{Se=t,na=!1}}return null}var hr=[],fr=0,gi=null,vi=0,kt=[],jt=0,$n=null,Yt=1,Zt="";function Mn(e,t){hr[fr++]=vi,hr[fr++]=gi,gi=e,vi=t}function mc(e,t,r){kt[jt++]=Yt,kt[jt++]=Zt,kt[jt++]=$n,$n=e;var a=Yt;e=Zt;var d=32-Pt(a)-1;a&=~(1<<d),r+=1;var f=32-Pt(t)+d;if(30<f){var v=d-d%5;f=(a&(1<<v)-1).toString(32),a>>=v,d-=v,Yt=1<<32-Pt(t)+d|r<<d|a,Zt=f+e}else Yt=1<<f|r<<d|a,Zt=e}function ra(e){e.return!==null&&(Mn(e,1),mc(e,1,0))}function sa(e){for(;e===gi;)gi=hr[--fr],hr[fr]=null,vi=hr[--fr],hr[fr]=null;for(;e===$n;)$n=kt[--jt],kt[jt]=null,Zt=kt[--jt],kt[jt]=null,Yt=kt[--jt],kt[jt]=null}var xt=null,wt=null,Le=!1,It=null;function gc(e,t){var r=Ct(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function vc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,wt=mn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=$n!==null?{id:Yt,overflow:Zt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ct(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xt=e,wt=null,!0):!1;default:return!1}}function ia(e){return(e.mode&1)!==0&&(e.flags&128)===0}function oa(e){if(Le){var t=wt;if(t){var r=t;if(!vc(e,t)){if(ia(e))throw Error(s(418));t=mn(r.nextSibling);var a=xt;t&&vc(e,t)?gc(a,r):(e.flags=e.flags&-4097|2,Le=!1,xt=e)}}else{if(ia(e))throw Error(s(418));e.flags=e.flags&-4097|2,Le=!1,xt=e}}}function yc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function yi(e){if(e!==xt)return!1;if(!Le)return yc(e),Le=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yo(e.type,e.memoizedProps)),t&&(t=wt)){if(ia(e))throw xc(),Error(s(418));for(;t;)gc(e,t),t=mn(t.nextSibling)}if(yc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){wt=mn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=xt?mn(e.stateNode.nextSibling):null;return!0}function xc(){for(var e=wt;e;)e=mn(e.nextSibling)}function pr(){wt=xt=null,Le=!1}function aa(e){It===null?It=[e]:It.push(e)}var Qp=B.ReactCurrentBatchConfig;function gs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(s(309));var a=r.stateNode}if(!a)throw Error(s(147,e));var d=a,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(v){var w=d.refs;v===null?delete w[f]:w[f]=v},t._stringRef=f,t)}if(typeof e!="string")throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function xi(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wc(e){var t=e._init;return t(e._payload)}function bc(e){function t(R,E){if(e){var I=R.deletions;I===null?(R.deletions=[E],R.flags|=16):I.push(E)}}function r(R,E){if(!e)return null;for(;E!==null;)t(R,E),E=E.sibling;return null}function a(R,E){for(R=new Map;E!==null;)E.key!==null?R.set(E.key,E):R.set(E.index,E),E=E.sibling;return R}function d(R,E){return R=Nn(R,E),R.index=0,R.sibling=null,R}function f(R,E,I){return R.index=I,e?(I=R.alternate,I!==null?(I=I.index,I<E?(R.flags|=2,E):I):(R.flags|=2,E)):(R.flags|=1048576,E)}function v(R){return e&&R.alternate===null&&(R.flags|=2),R}function w(R,E,I,q){return E===null||E.tag!==6?(E=Za(I,R.mode,q),E.return=R,E):(E=d(E,I),E.return=R,E)}function S(R,E,I,q){var te=I.type;return te===K?z(R,E,I.props.children,q,I.key):E!==null&&(E.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Ne&&wc(te)===E.type)?(q=d(E,I.props),q.ref=gs(R,E,I),q.return=R,q):(q=Wi(I.type,I.key,I.props,null,R.mode,q),q.ref=gs(R,E,I),q.return=R,q)}function O(R,E,I,q){return E===null||E.tag!==4||E.stateNode.containerInfo!==I.containerInfo||E.stateNode.implementation!==I.implementation?(E=Xa(I,R.mode,q),E.return=R,E):(E=d(E,I.children||[]),E.return=R,E)}function z(R,E,I,q,te){return E===null||E.tag!==7?(E=qn(I,R.mode,q,te),E.return=R,E):(E=d(E,I),E.return=R,E)}function W(R,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Za(""+E,R.mode,I),E.return=R,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case H:return I=Wi(E.type,E.key,E.props,null,R.mode,I),I.ref=gs(R,null,E),I.return=R,I;case L:return E=Xa(E,R.mode,I),E.return=R,E;case Ne:var q=E._init;return W(R,q(E._payload),I)}if(Kt(E)||ne(E))return E=qn(E,R.mode,I,null),E.return=R,E;xi(R,E)}return null}function U(R,E,I,q){var te=E!==null?E.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return te!==null?null:w(R,E,""+I,q);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case H:return I.key===te?S(R,E,I,q):null;case L:return I.key===te?O(R,E,I,q):null;case Ne:return te=I._init,U(R,E,te(I._payload),q)}if(Kt(I)||ne(I))return te!==null?null:z(R,E,I,q,null);xi(R,I)}return null}function Q(R,E,I,q,te){if(typeof q=="string"&&q!==""||typeof q=="number")return R=R.get(I)||null,w(E,R,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case H:return R=R.get(q.key===null?I:q.key)||null,S(E,R,q,te);case L:return R=R.get(q.key===null?I:q.key)||null,O(E,R,q,te);case Ne:var ie=q._init;return Q(R,E,I,ie(q._payload),te)}if(Kt(q)||ne(q))return R=R.get(I)||null,z(E,R,q,te,null);xi(E,q)}return null}function X(R,E,I,q){for(var te=null,ie=null,oe=E,le=E=0,Ye=null;oe!==null&&le<I.length;le++){oe.index>le?(Ye=oe,oe=null):Ye=oe.sibling;var _e=U(R,oe,I[le],q);if(_e===null){oe===null&&(oe=Ye);break}e&&oe&&_e.alternate===null&&t(R,oe),E=f(_e,E,le),ie===null?te=_e:ie.sibling=_e,ie=_e,oe=Ye}if(le===I.length)return r(R,oe),Le&&Mn(R,le),te;if(oe===null){for(;le<I.length;le++)oe=W(R,I[le],q),oe!==null&&(E=f(oe,E,le),ie===null?te=oe:ie.sibling=oe,ie=oe);return Le&&Mn(R,le),te}for(oe=a(R,oe);le<I.length;le++)Ye=Q(oe,R,le,I[le],q),Ye!==null&&(e&&Ye.alternate!==null&&oe.delete(Ye.key===null?le:Ye.key),E=f(Ye,E,le),ie===null?te=Ye:ie.sibling=Ye,ie=Ye);return e&&oe.forEach(function(En){return t(R,En)}),Le&&Mn(R,le),te}function ee(R,E,I,q){var te=ne(I);if(typeof te!="function")throw Error(s(150));if(I=te.call(I),I==null)throw Error(s(151));for(var ie=te=null,oe=E,le=E=0,Ye=null,_e=I.next();oe!==null&&!_e.done;le++,_e=I.next()){oe.index>le?(Ye=oe,oe=null):Ye=oe.sibling;var En=U(R,oe,_e.value,q);if(En===null){oe===null&&(oe=Ye);break}e&&oe&&En.alternate===null&&t(R,oe),E=f(En,E,le),ie===null?te=En:ie.sibling=En,ie=En,oe=Ye}if(_e.done)return r(R,oe),Le&&Mn(R,le),te;if(oe===null){for(;!_e.done;le++,_e=I.next())_e=W(R,_e.value,q),_e!==null&&(E=f(_e,E,le),ie===null?te=_e:ie.sibling=_e,ie=_e);return Le&&Mn(R,le),te}for(oe=a(R,oe);!_e.done;le++,_e=I.next())_e=Q(oe,R,le,_e.value,q),_e!==null&&(e&&_e.alternate!==null&&oe.delete(_e.key===null?le:_e.key),E=f(_e,E,le),ie===null?te=_e:ie.sibling=_e,ie=_e);return e&&oe.forEach(function(Tm){return t(R,Tm)}),Le&&Mn(R,le),te}function Be(R,E,I,q){if(typeof I=="object"&&I!==null&&I.type===K&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case H:e:{for(var te=I.key,ie=E;ie!==null;){if(ie.key===te){if(te=I.type,te===K){if(ie.tag===7){r(R,ie.sibling),E=d(ie,I.props.children),E.return=R,R=E;break e}}else if(ie.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Ne&&wc(te)===ie.type){r(R,ie.sibling),E=d(ie,I.props),E.ref=gs(R,ie,I),E.return=R,R=E;break e}r(R,ie);break}else t(R,ie);ie=ie.sibling}I.type===K?(E=qn(I.props.children,R.mode,q,I.key),E.return=R,R=E):(q=Wi(I.type,I.key,I.props,null,R.mode,q),q.ref=gs(R,E,I),q.return=R,R=q)}return v(R);case L:e:{for(ie=I.key;E!==null;){if(E.key===ie)if(E.tag===4&&E.stateNode.containerInfo===I.containerInfo&&E.stateNode.implementation===I.implementation){r(R,E.sibling),E=d(E,I.children||[]),E.return=R,R=E;break e}else{r(R,E);break}else t(R,E);E=E.sibling}E=Xa(I,R.mode,q),E.return=R,R=E}return v(R);case Ne:return ie=I._init,Be(R,E,ie(I._payload),q)}if(Kt(I))return X(R,E,I,q);if(ne(I))return ee(R,E,I,q);xi(R,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,E!==null&&E.tag===6?(r(R,E.sibling),E=d(E,I),E.return=R,R=E):(r(R,E),E=Za(I,R.mode,q),E.return=R,R=E),v(R)):r(R,E)}return Be}var mr=bc(!0),_c=bc(!1),wi=gn(null),bi=null,gr=null,la=null;function ua(){la=gr=bi=null}function ca(e){var t=wi.current;Ae(wi),e._currentValue=t}function da(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function vr(e,t){bi=e,la=gr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ht=!0),e.firstContext=null)}function St(e){var t=e._currentValue;if(la!==e)if(e={context:e,memoizedValue:t,next:null},gr===null){if(bi===null)throw Error(s(308));gr=e,bi.dependencies={lanes:0,firstContext:e}}else gr=gr.next=e;return t}var Dn=null;function ha(e){Dn===null?Dn=[e]:Dn.push(e)}function kc(e,t,r,a){var d=t.interleaved;return d===null?(r.next=r,ha(t)):(r.next=d.next,d.next=r),t.interleaved=r,Xt(e,a)}function Xt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var xn=!1;function fa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function en(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wn(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(xe&2)!==0){var d=a.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),a.pending=t,Xt(e,r)}return d=a.interleaved,d===null?(t.next=t,ha(a)):(t.next=d.next,d.next=t),a.interleaved=t,Xt(e,r)}function _i(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,Eo(e,r)}}function Sc(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var d=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};f===null?d=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?d=f=t:f=f.next=t}else d=f=t;r={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ki(e,t,r,a){var d=e.updateQueue;xn=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var S=w,O=S.next;S.next=null,v===null?f=O:v.next=O,v=S;var z=e.alternate;z!==null&&(z=z.updateQueue,w=z.lastBaseUpdate,w!==v&&(w===null?z.firstBaseUpdate=O:w.next=O,z.lastBaseUpdate=S))}if(f!==null){var W=d.baseState;v=0,z=O=S=null,w=f;do{var U=w.lane,Q=w.eventTime;if((a&U)===U){z!==null&&(z=z.next={eventTime:Q,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var X=e,ee=w;switch(U=t,Q=r,ee.tag){case 1:if(X=ee.payload,typeof X=="function"){W=X.call(Q,W,U);break e}W=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=ee.payload,U=typeof X=="function"?X.call(Q,W,U):X,U==null)break e;W=J({},W,U);break e;case 2:xn=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,U=d.effects,U===null?d.effects=[w]:U.push(w))}else Q={eventTime:Q,lane:U,tag:w.tag,payload:w.payload,callback:w.callback,next:null},z===null?(O=z=Q,S=W):z=z.next=Q,v|=U;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;U=w,w=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);if(z===null&&(S=W),d.baseState=S,d.firstBaseUpdate=O,d.lastBaseUpdate=z,t=d.shared.interleaved,t!==null){d=t;do v|=d.lane,d=d.next;while(d!==t)}else f===null&&(d.shared.lanes=0);Fn|=v,e.lanes=v,e.memoizedState=W}}function Nc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],d=a.callback;if(d!==null){if(a.callback=null,a=r,typeof d!="function")throw Error(s(191,d));d.call(a)}}}var vs={},Bt=gn(vs),ys=gn(vs),xs=gn(vs);function Un(e){if(e===vs)throw Error(s(174));return e}function pa(e,t){switch(Re(xs,t),Re(ys,e),Re(Bt,vs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mo(t,e)}Ae(Bt),Re(Bt,t)}function yr(){Ae(Bt),Ae(ys),Ae(xs)}function Ec(e){Un(xs.current);var t=Un(Bt.current),r=mo(t,e.type);t!==r&&(Re(ys,e),Re(Bt,r))}function ma(e){ys.current===e&&(Ae(Bt),Ae(ys))}var Me=gn(0);function ji(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ga=[];function va(){for(var e=0;e<ga.length;e++)ga[e]._workInProgressVersionPrimary=null;ga.length=0}var Si=B.ReactCurrentDispatcher,ya=B.ReactCurrentBatchConfig,zn=0,De=null,qe=null,Je=null,Ni=!1,ws=!1,bs=0,Yp=0;function nt(){throw Error(s(321))}function xa(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Rt(e[r],t[r]))return!1;return!0}function wa(e,t,r,a,d,f){if(zn=f,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Si.current=e===null||e.memoizedState===null?tm:nm,e=r(a,d),ws){f=0;do{if(ws=!1,bs=0,25<=f)throw Error(s(301));f+=1,Je=qe=null,t.updateQueue=null,Si.current=rm,e=r(a,d)}while(ws)}if(Si.current=Ti,t=qe!==null&&qe.next!==null,zn=0,Je=qe=De=null,Ni=!1,t)throw Error(s(300));return e}function ba(){var e=bs!==0;return bs=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?De.memoizedState=Je=e:Je=Je.next=e,Je}function Nt(){if(qe===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=Je===null?De.memoizedState:Je.next;if(t!==null)Je=t,qe=e;else{if(e===null)throw Error(s(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Je===null?De.memoizedState=Je=e:Je=Je.next=e}return Je}function _s(e,t){return typeof t=="function"?t(e):t}function _a(e){var t=Nt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var a=qe,d=a.baseQueue,f=r.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}a.baseQueue=d=f,r.pending=null}if(d!==null){f=d.next,a=a.baseState;var w=v=null,S=null,O=f;do{var z=O.lane;if((zn&z)===z)S!==null&&(S=S.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),a=O.hasEagerState?O.eagerState:e(a,O.action);else{var W={lane:z,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};S===null?(w=S=W,v=a):S=S.next=W,De.lanes|=z,Fn|=z}O=O.next}while(O!==null&&O!==f);S===null?v=a:S.next=w,Rt(a,t.memoizedState)||(ht=!0),t.memoizedState=a,t.baseState=v,t.baseQueue=S,r.lastRenderedState=a}if(e=r.interleaved,e!==null){d=e;do f=d.lane,De.lanes|=f,Fn|=f,d=d.next;while(d!==e)}else d===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ka(e){var t=Nt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var a=r.dispatch,d=r.pending,f=t.memoizedState;if(d!==null){r.pending=null;var v=d=d.next;do f=e(f,v.action),v=v.next;while(v!==d);Rt(f,t.memoizedState)||(ht=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),r.lastRenderedState=f}return[f,a]}function Cc(){}function Tc(e,t){var r=De,a=Nt(),d=t(),f=!Rt(a.memoizedState,d);if(f&&(a.memoizedState=d,ht=!0),a=a.queue,ja(Ic.bind(null,r,a,e),[e]),a.getSnapshot!==t||f||Je!==null&&Je.memoizedState.tag&1){if(r.flags|=2048,ks(9,Rc.bind(null,r,a,d,t),void 0,null),Qe===null)throw Error(s(349));(zn&30)!==0||Pc(r,t,d)}return d}function Pc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Rc(e,t,r,a){t.value=r,t.getSnapshot=a,Oc(t)&&Ac(e)}function Ic(e,t,r){return r(function(){Oc(t)&&Ac(e)})}function Oc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Rt(e,r)}catch{return!0}}function Ac(e){var t=Xt(e,1);t!==null&&$t(t,e,1,-1)}function Lc(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=em.bind(null,De,e),[t.memoizedState,e]}function ks(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function $c(){return Nt().memoizedState}function Ei(e,t,r,a){var d=Wt();De.flags|=e,d.memoizedState=ks(1|t,r,void 0,a===void 0?null:a)}function Ci(e,t,r,a){var d=Nt();a=a===void 0?null:a;var f=void 0;if(qe!==null){var v=qe.memoizedState;if(f=v.destroy,a!==null&&xa(a,v.deps)){d.memoizedState=ks(t,r,f,a);return}}De.flags|=e,d.memoizedState=ks(1|t,r,f,a)}function Mc(e,t){return Ei(8390656,8,e,t)}function ja(e,t){return Ci(2048,8,e,t)}function Dc(e,t){return Ci(4,2,e,t)}function Uc(e,t){return Ci(4,4,e,t)}function zc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fc(e,t,r){return r=r!=null?r.concat([e]):null,Ci(4,4,zc.bind(null,t,e),r)}function Sa(){}function Bc(e,t){var r=Nt();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&xa(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function Wc(e,t){var r=Nt();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&xa(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function Hc(e,t,r){return(zn&21)===0?(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=r):(Rt(r,t)||(r=wu(),De.lanes|=r,Fn|=r,e.baseState=!0),t)}function Zp(e,t){var r=Se;Se=r!==0&&4>r?r:4,e(!0);var a=ya.transition;ya.transition={};try{e(!1),t()}finally{Se=r,ya.transition=a}}function qc(){return Nt().memoizedState}function Xp(e,t,r){var a=jn(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},Vc(e))Gc(t,r);else if(r=kc(e,t,r,a),r!==null){var d=at();$t(r,e,a,d),Kc(r,t,a)}}function em(e,t,r){var a=jn(e),d={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(Vc(e))Gc(t,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var v=t.lastRenderedState,w=f(v,r);if(d.hasEagerState=!0,d.eagerState=w,Rt(w,v)){var S=t.interleaved;S===null?(d.next=d,ha(t)):(d.next=S.next,S.next=d),t.interleaved=d;return}}catch{}r=kc(e,t,d,a),r!==null&&(d=at(),$t(r,e,a,d),Kc(r,t,a))}}function Vc(e){var t=e.alternate;return e===De||t!==null&&t===De}function Gc(e,t){ws=Ni=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Kc(e,t,r){if((r&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,Eo(e,r)}}var Ti={readContext:St,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useInsertionEffect:nt,useLayoutEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useMutableSource:nt,useSyncExternalStore:nt,useId:nt,unstable_isNewReconciler:!1},tm={readContext:St,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:St,useEffect:Mc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ei(4194308,4,zc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ei(4,2,e,t)},useMemo:function(e,t){var r=Wt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=Wt();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Xp.bind(null,De,e),[a.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:Lc,useDebugValue:Sa,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Lc(!1),t=e[0];return e=Zp.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=De,d=Wt();if(Le){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),Qe===null)throw Error(s(349));(zn&30)!==0||Pc(a,t,r)}d.memoizedState=r;var f={value:r,getSnapshot:t};return d.queue=f,Mc(Ic.bind(null,a,f,e),[e]),a.flags|=2048,ks(9,Rc.bind(null,a,f,r,t),void 0,null),r},useId:function(){var e=Wt(),t=Qe.identifierPrefix;if(Le){var r=Zt,a=Yt;r=(a&~(1<<32-Pt(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=bs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Yp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nm={readContext:St,useCallback:Bc,useContext:St,useEffect:ja,useImperativeHandle:Fc,useInsertionEffect:Dc,useLayoutEffect:Uc,useMemo:Wc,useReducer:_a,useRef:$c,useState:function(){return _a(_s)},useDebugValue:Sa,useDeferredValue:function(e){var t=Nt();return Hc(t,qe.memoizedState,e)},useTransition:function(){var e=_a(_s)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:Cc,useSyncExternalStore:Tc,useId:qc,unstable_isNewReconciler:!1},rm={readContext:St,useCallback:Bc,useContext:St,useEffect:ja,useImperativeHandle:Fc,useInsertionEffect:Dc,useLayoutEffect:Uc,useMemo:Wc,useReducer:ka,useRef:$c,useState:function(){return ka(_s)},useDebugValue:Sa,useDeferredValue:function(e){var t=Nt();return qe===null?t.memoizedState=e:Hc(t,qe.memoizedState,e)},useTransition:function(){var e=ka(_s)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:Cc,useSyncExternalStore:Tc,useId:qc,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=J({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Na(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:J({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Pi={isMounted:function(e){return(e=e._reactInternals)?On(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=at(),d=jn(e),f=en(a,d);f.payload=t,r!=null&&(f.callback=r),t=wn(e,f,d),t!==null&&($t(t,e,d,a),_i(t,e,d))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=at(),d=jn(e),f=en(a,d);f.tag=1,f.payload=t,r!=null&&(f.callback=r),t=wn(e,f,d),t!==null&&($t(t,e,d,a),_i(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=at(),a=jn(e),d=en(r,a);d.tag=2,t!=null&&(d.callback=t),t=wn(e,d,a),t!==null&&($t(t,e,a,r),_i(t,e,a))}};function Jc(e,t,r,a,d,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,v):t.prototype&&t.prototype.isPureReactComponent?!us(r,a)||!us(d,f):!0}function Qc(e,t,r){var a=!1,d=vn,f=t.contextType;return typeof f=="object"&&f!==null?f=St(f):(d=dt(t)?Ln:tt.current,a=t.contextTypes,f=(a=a!=null)?dr(e,d):vn),t=new t(r,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Pi,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),t}function Yc(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&Pi.enqueueReplaceState(t,t.state,null)}function Ea(e,t,r,a){var d=e.stateNode;d.props=r,d.state=e.memoizedState,d.refs={},fa(e);var f=t.contextType;typeof f=="object"&&f!==null?d.context=St(f):(f=dt(t)?Ln:tt.current,d.context=dr(e,f)),d.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(Na(e,t,f,r),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&Pi.enqueueReplaceState(d,d.state,null),ki(e,r,d,a),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function xr(e,t){try{var r="",a=t;do r+=ge(a),a=a.return;while(a);var d=r}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:d,digest:null}}function Ca(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ta(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var sm=typeof WeakMap=="function"?WeakMap:Map;function Zc(e,t,r){r=en(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){Mi||(Mi=!0,Ha=a),Ta(e,t)},r}function Xc(e,t,r){r=en(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var d=t.value;r.payload=function(){return a(d)},r.callback=function(){Ta(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(r.callback=function(){Ta(e,t),typeof a!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var v=t.stack;this.componentDidCatch(t.value,{componentStack:v!==null?v:""})}),r}function ed(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new sm;var d=new Set;a.set(t,d)}else d=a.get(t),d===void 0&&(d=new Set,a.set(t,d));d.has(r)||(d.add(r),e=ym.bind(null,e,t,r),t.then(e,e))}function td(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nd(e,t,r,a,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=en(-1,1),t.tag=2,wn(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var im=B.ReactCurrentOwner,ht=!1;function ot(e,t,r,a){t.child=e===null?_c(t,null,r,a):mr(t,e.child,r,a)}function rd(e,t,r,a,d){r=r.render;var f=t.ref;return vr(t,d),a=wa(e,t,r,a,f,d),r=ba(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,tn(e,t,d)):(Le&&r&&ra(t),t.flags|=1,ot(e,t,a,d),t.child)}function sd(e,t,r,a,d){if(e===null){var f=r.type;return typeof f=="function"&&!Ya(f)&&f.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=f,id(e,t,f,a,d)):(e=Wi(r.type,null,a,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&d)===0){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:us,r(v,a)&&e.ref===t.ref)return tn(e,t,d)}return t.flags|=1,e=Nn(f,a),e.ref=t.ref,e.return=t,t.child=e}function id(e,t,r,a,d){if(e!==null){var f=e.memoizedProps;if(us(f,a)&&e.ref===t.ref)if(ht=!1,t.pendingProps=a=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(ht=!0);else return t.lanes=e.lanes,tn(e,t,d)}return Pa(e,t,r,a,d)}function od(e,t,r){var a=t.pendingProps,d=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(br,bt),bt|=r;else{if((r&1073741824)===0)return e=f!==null?f.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(br,bt),bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:r,Re(br,bt),bt|=a}else f!==null?(a=f.baseLanes|r,t.memoizedState=null):a=r,Re(br,bt),bt|=a;return ot(e,t,d,r),t.child}function ad(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Pa(e,t,r,a,d){var f=dt(r)?Ln:tt.current;return f=dr(t,f),vr(t,d),r=wa(e,t,r,a,f,d),a=ba(),e!==null&&!ht?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,tn(e,t,d)):(Le&&a&&ra(t),t.flags|=1,ot(e,t,r,d),t.child)}function ld(e,t,r,a,d){if(dt(r)){var f=!0;pi(t)}else f=!1;if(vr(t,d),t.stateNode===null)Ii(e,t),Qc(t,r,a),Ea(t,r,a,d),a=!0;else if(e===null){var v=t.stateNode,w=t.memoizedProps;v.props=w;var S=v.context,O=r.contextType;typeof O=="object"&&O!==null?O=St(O):(O=dt(r)?Ln:tt.current,O=dr(t,O));var z=r.getDerivedStateFromProps,W=typeof z=="function"||typeof v.getSnapshotBeforeUpdate=="function";W||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==a||S!==O)&&Yc(t,v,a,O),xn=!1;var U=t.memoizedState;v.state=U,ki(t,a,v,d),S=t.memoizedState,w!==a||U!==S||ct.current||xn?(typeof z=="function"&&(Na(t,r,z,a),S=t.memoizedState),(w=xn||Jc(t,r,w,a,U,S,O))?(W||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(t.flags|=4194308)):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=S),v.props=a,v.state=S,v.context=O,a=w):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{v=t.stateNode,jc(e,t),w=t.memoizedProps,O=t.type===t.elementType?w:Ot(t.type,w),v.props=O,W=t.pendingProps,U=v.context,S=r.contextType,typeof S=="object"&&S!==null?S=St(S):(S=dt(r)?Ln:tt.current,S=dr(t,S));var Q=r.getDerivedStateFromProps;(z=typeof Q=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==W||U!==S)&&Yc(t,v,a,S),xn=!1,U=t.memoizedState,v.state=U,ki(t,a,v,d);var X=t.memoizedState;w!==W||U!==X||ct.current||xn?(typeof Q=="function"&&(Na(t,r,Q,a),X=t.memoizedState),(O=xn||Jc(t,r,O,a,U,X,S)||!1)?(z||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(a,X,S),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(a,X,S)),typeof v.componentDidUpdate=="function"&&(t.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=X),v.props=a,v.state=X,v.context=S,a=O):(typeof v.componentDidUpdate!="function"||w===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),a=!1)}return Ra(e,t,r,a,f,d)}function Ra(e,t,r,a,d,f){ad(e,t);var v=(t.flags&128)!==0;if(!a&&!v)return d&&fc(t,r,!1),tn(e,t,f);a=t.stateNode,im.current=t;var w=v&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&v?(t.child=mr(t,e.child,null,f),t.child=mr(t,null,w,f)):ot(e,t,w,f),t.memoizedState=a.state,d&&fc(t,r,!0),t.child}function ud(e){var t=e.stateNode;t.pendingContext?dc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dc(e,t.context,!1),pa(e,t.containerInfo)}function cd(e,t,r,a,d){return pr(),aa(d),t.flags|=256,ot(e,t,r,a),t.child}var Ia={dehydrated:null,treeContext:null,retryLane:0};function Oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function dd(e,t,r){var a=t.pendingProps,d=Me.current,f=!1,v=(t.flags&128)!==0,w;if((w=v)||(w=e!==null&&e.memoizedState===null?!1:(d&2)!==0),w?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),Re(Me,d&1),e===null)return oa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(v=a.children,e=a.fallback,f?(a=t.mode,f=t.child,v={mode:"hidden",children:v},(a&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=v):f=Hi(v,a,0,null),e=qn(e,a,r,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=Oa(r),t.memoizedState=Ia,e):Aa(t,v));if(d=e.memoizedState,d!==null&&(w=d.dehydrated,w!==null))return om(e,t,v,a,w,d,r);if(f){f=a.fallback,v=t.mode,d=e.child,w=d.sibling;var S={mode:"hidden",children:a.children};return(v&1)===0&&t.child!==d?(a=t.child,a.childLanes=0,a.pendingProps=S,t.deletions=null):(a=Nn(d,S),a.subtreeFlags=d.subtreeFlags&14680064),w!==null?f=Nn(w,f):(f=qn(f,v,r,null),f.flags|=2),f.return=t,a.return=t,a.sibling=f,t.child=a,a=f,f=t.child,v=e.child.memoizedState,v=v===null?Oa(r):{baseLanes:v.baseLanes|r,cachePool:null,transitions:v.transitions},f.memoizedState=v,f.childLanes=e.childLanes&~r,t.memoizedState=Ia,a}return f=e.child,e=f.sibling,a=Nn(f,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Aa(e,t){return t=Hi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ri(e,t,r,a){return a!==null&&aa(a),mr(t,e.child,null,r),e=Aa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function om(e,t,r,a,d,f,v){if(r)return t.flags&256?(t.flags&=-257,a=Ca(Error(s(422))),Ri(e,t,v,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=a.fallback,d=t.mode,a=Hi({mode:"visible",children:a.children},d,0,null),f=qn(f,d,v,null),f.flags|=2,a.return=t,f.return=t,a.sibling=f,t.child=a,(t.mode&1)!==0&&mr(t,e.child,null,v),t.child.memoizedState=Oa(v),t.memoizedState=Ia,f);if((t.mode&1)===0)return Ri(e,t,v,null);if(d.data==="$!"){if(a=d.nextSibling&&d.nextSibling.dataset,a)var w=a.dgst;return a=w,f=Error(s(419)),a=Ca(f,a,void 0),Ri(e,t,v,a)}if(w=(v&e.childLanes)!==0,ht||w){if(a=Qe,a!==null){switch(v&-v){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(a.suspendedLanes|v))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,Xt(e,d),$t(a,e,d,-1))}return Qa(),a=Ca(Error(s(421))),Ri(e,t,v,a)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=xm.bind(null,e),d._reactRetry=t,null):(e=f.treeContext,wt=mn(d.nextSibling),xt=t,Le=!0,It=null,e!==null&&(kt[jt++]=Yt,kt[jt++]=Zt,kt[jt++]=$n,Yt=e.id,Zt=e.overflow,$n=t),t=Aa(t,a.children),t.flags|=4096,t)}function hd(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),da(e.return,t,r)}function La(e,t,r,a,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:d}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=r,f.tailMode=d)}function fd(e,t,r){var a=t.pendingProps,d=a.revealOrder,f=a.tail;if(ot(e,t,a.children,r),a=Me.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hd(e,r,t);else if(e.tag===19)hd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Re(Me,a),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(r=t.child,d=null;r!==null;)e=r.alternate,e!==null&&ji(e)===null&&(d=r),r=r.sibling;r=d,r===null?(d=t.child,t.child=null):(d=r.sibling,r.sibling=null),La(t,!1,d,r,f);break;case"backwards":for(r=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&ji(e)===null){t.child=d;break}e=d.sibling,d.sibling=r,r=d,d=e}La(t,!0,r,null,f);break;case"together":La(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ii(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Fn|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=Nn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Nn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function am(e,t,r){switch(t.tag){case 3:ud(t),pr();break;case 5:Ec(t);break;case 1:dt(t.type)&&pi(t);break;case 4:pa(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,d=t.memoizedProps.value;Re(wi,a._currentValue),a._currentValue=d;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Re(Me,Me.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?dd(e,t,r):(Re(Me,Me.current&1),e=tn(e,t,r),e!==null?e.sibling:null);Re(Me,Me.current&1);break;case 19:if(a=(r&t.childLanes)!==0,(e.flags&128)!==0){if(a)return fd(e,t,r);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Re(Me,Me.current),a)break;return null;case 22:case 23:return t.lanes=0,od(e,t,r)}return tn(e,t,r)}var pd,$a,md,gd;pd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},$a=function(){},md=function(e,t,r,a){var d=e.memoizedProps;if(d!==a){e=t.stateNode,Un(Bt.current);var f=null;switch(r){case"input":d=Pe(e,d),a=Pe(e,a),f=[];break;case"select":d=J({},d,{value:void 0}),a=J({},a,{value:void 0}),f=[];break;case"textarea":d=vt(e,d),a=vt(e,a),f=[];break;default:typeof d.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=di)}go(r,a);var v;r=null;for(O in d)if(!a.hasOwnProperty(O)&&d.hasOwnProperty(O)&&d[O]!=null)if(O==="style"){var w=d[O];for(v in w)w.hasOwnProperty(v)&&(r||(r={}),r[v]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(l.hasOwnProperty(O)?f||(f=[]):(f=f||[]).push(O,null));for(O in a){var S=a[O];if(w=d?.[O],a.hasOwnProperty(O)&&S!==w&&(S!=null||w!=null))if(O==="style")if(w){for(v in w)!w.hasOwnProperty(v)||S&&S.hasOwnProperty(v)||(r||(r={}),r[v]="");for(v in S)S.hasOwnProperty(v)&&w[v]!==S[v]&&(r||(r={}),r[v]=S[v])}else r||(f||(f=[]),f.push(O,r)),r=S;else O==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,w=w?w.__html:void 0,S!=null&&w!==S&&(f=f||[]).push(O,S)):O==="children"?typeof S!="string"&&typeof S!="number"||(f=f||[]).push(O,""+S):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(l.hasOwnProperty(O)?(S!=null&&O==="onScroll"&&Oe("scroll",e),f||w===S||(f=[])):(f=f||[]).push(O,S))}r&&(f=f||[]).push("style",r);var O=f;(t.updateQueue=O)&&(t.flags|=4)}},gd=function(e,t,r,a){r!==a&&(t.flags|=4)};function js(e,t){if(!Le)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var d=e.child;d!==null;)r|=d.lanes|d.childLanes,a|=d.subtreeFlags&14680064,a|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)r|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function lm(e,t,r){var a=t.pendingProps;switch(sa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(t),null;case 1:return dt(t.type)&&fi(),rt(t),null;case 3:return a=t.stateNode,yr(),Ae(ct),Ae(tt),va(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(yi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,It!==null&&(Ga(It),It=null))),$a(e,t),rt(t),null;case 5:ma(t);var d=Un(xs.current);if(r=t.type,e!==null&&t.stateNode!=null)md(e,t,r,a,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(s(166));return rt(t),null}if(e=Un(Bt.current),yi(t)){a=t.stateNode,r=t.type;var f=t.memoizedProps;switch(a[Ft]=t,a[ps]=f,e=(t.mode&1)!==0,r){case"dialog":Oe("cancel",a),Oe("close",a);break;case"iframe":case"object":case"embed":Oe("load",a);break;case"video":case"audio":for(d=0;d<ds.length;d++)Oe(ds[d],a);break;case"source":Oe("error",a);break;case"img":case"image":case"link":Oe("error",a),Oe("load",a);break;case"details":Oe("toggle",a);break;case"input":We(a,f),Oe("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},Oe("invalid",a);break;case"textarea":Xn(a,f),Oe("invalid",a)}go(r,f),d=null;for(var v in f)if(f.hasOwnProperty(v)){var w=f[v];v==="children"?typeof w=="string"?a.textContent!==w&&(f.suppressHydrationWarning!==!0&&ci(a.textContent,w,e),d=["children",w]):typeof w=="number"&&a.textContent!==""+w&&(f.suppressHydrationWarning!==!0&&ci(a.textContent,w,e),d=["children",""+w]):l.hasOwnProperty(v)&&w!=null&&v==="onScroll"&&Oe("scroll",a)}switch(r){case"input":re(a),it(a,f,!0);break;case"textarea":re(a),tu(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=di)}a=d,t.updateQueue=a,a!==null&&(t.flags|=4)}else{v=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nu(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=v.createElement(r,{is:a.is}):(e=v.createElement(r),r==="select"&&(v=e,a.multiple?v.multiple=!0:a.size&&(v.size=a.size))):e=v.createElementNS(e,r),e[Ft]=t,e[ps]=a,pd(e,t,!1,!1),t.stateNode=e;e:{switch(v=vo(r,a),r){case"dialog":Oe("cancel",e),Oe("close",e),d=a;break;case"iframe":case"object":case"embed":Oe("load",e),d=a;break;case"video":case"audio":for(d=0;d<ds.length;d++)Oe(ds[d],e);d=a;break;case"source":Oe("error",e),d=a;break;case"img":case"image":case"link":Oe("error",e),Oe("load",e),d=a;break;case"details":Oe("toggle",e),d=a;break;case"input":We(e,a),d=Pe(e,a),Oe("invalid",e);break;case"option":d=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},d=J({},a,{value:void 0}),Oe("invalid",e);break;case"textarea":Xn(e,a),d=vt(e,a),Oe("invalid",e);break;default:d=a}go(r,d),w=d;for(f in w)if(w.hasOwnProperty(f)){var S=w[f];f==="style"?iu(e,S):f==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&ru(e,S)):f==="children"?typeof S=="string"?(r!=="textarea"||S!=="")&&Vr(e,S):typeof S=="number"&&Vr(e,""+S):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?S!=null&&f==="onScroll"&&Oe("scroll",e):S!=null&&A(e,f,S,v))}switch(r){case"input":re(e),it(e,a,!1);break;case"textarea":re(e),tu(e);break;case"option":a.value!=null&&e.setAttribute("value",""+be(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?ln(e,!!a.multiple,f,!1):a.defaultValue!=null&&ln(e,!!a.multiple,a.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=di)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return rt(t),null;case 6:if(e&&t.stateNode!=null)gd(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(r=Un(xs.current),Un(Bt.current),yi(t)){if(a=t.stateNode,r=t.memoizedProps,a[Ft]=t,(f=a.nodeValue!==r)&&(e=xt,e!==null))switch(e.tag){case 3:ci(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ci(a.nodeValue,r,(e.mode&1)!==0)}f&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[Ft]=t,t.stateNode=a}return rt(t),null;case 13:if(Ae(Me),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Le&&wt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)xc(),pr(),t.flags|=98560,f=!1;else if(f=yi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ft]=t}else pr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;rt(t),f=!1}else It!==null&&(Ga(It),It=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Me.current&1)!==0?Ve===0&&(Ve=3):Qa())),t.updateQueue!==null&&(t.flags|=4),rt(t),null);case 4:return yr(),$a(e,t),e===null&&hs(t.stateNode.containerInfo),rt(t),null;case 10:return ca(t.type._context),rt(t),null;case 17:return dt(t.type)&&fi(),rt(t),null;case 19:if(Ae(Me),f=t.memoizedState,f===null)return rt(t),null;if(a=(t.flags&128)!==0,v=f.rendering,v===null)if(a)js(f,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(v=ji(e),v!==null){for(t.flags|=128,js(f,!1),a=v.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)f=r,e=a,f.flags&=14680066,v=f.alternate,v===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=v.childLanes,f.lanes=v.lanes,f.child=v.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=v.memoizedProps,f.memoizedState=v.memoizedState,f.updateQueue=v.updateQueue,f.type=v.type,e=v.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Re(Me,Me.current&1|2),t.child}e=e.sibling}f.tail!==null&&Fe()>_r&&(t.flags|=128,a=!0,js(f,!1),t.lanes=4194304)}else{if(!a)if(e=ji(v),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),js(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!Le)return rt(t),null}else 2*Fe()-f.renderingStartTime>_r&&r!==1073741824&&(t.flags|=128,a=!0,js(f,!1),t.lanes=4194304);f.isBackwards?(v.sibling=t.child,t.child=v):(r=f.last,r!==null?r.sibling=v:t.child=v,f.last=v)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Fe(),t.sibling=null,r=Me.current,Re(Me,a?r&1|2:r&1),t):(rt(t),null);case 22:case 23:return Ja(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(bt&1073741824)!==0&&(rt(t),t.subtreeFlags&6&&(t.flags|=8192)):rt(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function um(e,t){switch(sa(t),t.tag){case 1:return dt(t.type)&&fi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yr(),Ae(ct),Ae(tt),va(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ma(t),null;case 13:if(Ae(Me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));pr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ae(Me),null;case 4:return yr(),null;case 10:return ca(t.type._context),null;case 22:case 23:return Ja(),null;case 24:return null;default:return null}}var Oi=!1,st=!1,cm=typeof WeakSet=="function"?WeakSet:Set,Z=null;function wr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){ze(e,t,a)}else r.current=null}function Ma(e,t,r){try{r()}catch(a){ze(e,t,a)}}var vd=!1;function dm(e,t){if(Jo=Xs,e=Ju(),Fo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var d=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var v=0,w=-1,S=-1,O=0,z=0,W=e,U=null;t:for(;;){for(var Q;W!==r||d!==0&&W.nodeType!==3||(w=v+d),W!==f||a!==0&&W.nodeType!==3||(S=v+a),W.nodeType===3&&(v+=W.nodeValue.length),(Q=W.firstChild)!==null;)U=W,W=Q;for(;;){if(W===e)break t;if(U===r&&++O===d&&(w=v),U===f&&++z===a&&(S=v),(Q=W.nextSibling)!==null)break;W=U,U=W.parentNode}W=Q}r=w===-1||S===-1?null:{start:w,end:S}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qo={focusedElem:e,selectionRange:r},Xs=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var X=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(X!==null){var ee=X.memoizedProps,Be=X.memoizedState,R=t.stateNode,E=R.getSnapshotBeforeUpdate(t.elementType===t.type?ee:Ot(t.type,ee),Be);R.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(q){ze(t,t.return,q)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return X=vd,vd=!1,X}function Ss(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var d=a=a.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&Ma(t,r,f)}d=d.next}while(d!==a)}}function Ai(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function Da(e){var t=e.ref;if(t!==null){var r=e.stateNode;e.tag,e=r,typeof t=="function"?t(e):t.current=e}}function yd(e){var t=e.alternate;t!==null&&(e.alternate=null,yd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ft],delete t[ps],delete t[ea],delete t[Gp],delete t[Kp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xd(e){return e.tag===5||e.tag===3||e.tag===4}function wd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ua(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=di));else if(a!==4&&(e=e.child,e!==null))for(Ua(e,t,r),e=e.sibling;e!==null;)Ua(e,t,r),e=e.sibling}function za(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(za(e,t,r),e=e.sibling;e!==null;)za(e,t,r),e=e.sibling}var Xe=null,At=!1;function bn(e,t,r){for(r=r.child;r!==null;)bd(e,t,r),r=r.sibling}function bd(e,t,r){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Gs,r)}catch{}switch(r.tag){case 5:st||wr(r,t);case 6:var a=Xe,d=At;Xe=null,bn(e,t,r),Xe=a,At=d,Xe!==null&&(At?(e=Xe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Xe.removeChild(r.stateNode));break;case 18:Xe!==null&&(At?(e=Xe,r=r.stateNode,e.nodeType===8?Xo(e.parentNode,r):e.nodeType===1&&Xo(e,r),rs(e)):Xo(Xe,r.stateNode));break;case 4:a=Xe,d=At,Xe=r.stateNode.containerInfo,At=!0,bn(e,t,r),Xe=a,At=d;break;case 0:case 11:case 14:case 15:if(!st&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){d=a=a.next;do{var f=d,v=f.destroy;f=f.tag,v!==void 0&&((f&2)!==0||(f&4)!==0)&&Ma(r,t,v),d=d.next}while(d!==a)}bn(e,t,r);break;case 1:if(!st&&(wr(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(w){ze(r,t,w)}bn(e,t,r);break;case 21:bn(e,t,r);break;case 22:r.mode&1?(st=(a=st)||r.memoizedState!==null,bn(e,t,r),st=a):bn(e,t,r);break;default:bn(e,t,r)}}function _d(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new cm),t.forEach(function(a){var d=wm.bind(null,e,a);r.has(a)||(r.add(a),a.then(d,d))})}}function Lt(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var d=r[a];try{var f=e,v=t,w=v;e:for(;w!==null;){switch(w.tag){case 5:Xe=w.stateNode,At=!1;break e;case 3:Xe=w.stateNode.containerInfo,At=!0;break e;case 4:Xe=w.stateNode.containerInfo,At=!0;break e}w=w.return}if(Xe===null)throw Error(s(160));bd(f,v,d),Xe=null,At=!1;var S=d.alternate;S!==null&&(S.return=null),d.return=null}catch(O){ze(d,t,O)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kd(t,e),t=t.sibling}function kd(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),Ht(e),a&4){try{Ss(3,e,e.return),Ai(3,e)}catch(ee){ze(e,e.return,ee)}try{Ss(5,e,e.return)}catch(ee){ze(e,e.return,ee)}}break;case 1:Lt(t,e),Ht(e),a&512&&r!==null&&wr(r,r.return);break;case 5:if(Lt(t,e),Ht(e),a&512&&r!==null&&wr(r,r.return),e.flags&32){var d=e.stateNode;try{Vr(d,"")}catch(ee){ze(e,e.return,ee)}}if(a&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,v=r!==null?r.memoizedProps:f,w=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{w==="input"&&f.type==="radio"&&f.name!=null&&Ut(d,f),vo(w,v);var O=vo(w,f);for(v=0;v<S.length;v+=2){var z=S[v],W=S[v+1];z==="style"?iu(d,W):z==="dangerouslySetInnerHTML"?ru(d,W):z==="children"?Vr(d,W):A(d,z,W,O)}switch(w){case"input":gt(d,f);break;case"textarea":eu(d,f);break;case"select":var U=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var Q=f.value;Q!=null?ln(d,!!f.multiple,Q,!1):U!==!!f.multiple&&(f.defaultValue!=null?ln(d,!!f.multiple,f.defaultValue,!0):ln(d,!!f.multiple,f.multiple?[]:"",!1))}d[ps]=f}catch(ee){ze(e,e.return,ee)}}break;case 6:if(Lt(t,e),Ht(e),a&4){if(e.stateNode===null)throw Error(s(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(ee){ze(e,e.return,ee)}}break;case 3:if(Lt(t,e),Ht(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{rs(t.containerInfo)}catch(ee){ze(e,e.return,ee)}break;case 4:Lt(t,e),Ht(e);break;case 13:Lt(t,e),Ht(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Wa=Fe())),a&4&&_d(e);break;case 22:if(z=r!==null&&r.memoizedState!==null,e.mode&1?(st=(O=st)||z,Lt(t,e),st=O):Lt(t,e),Ht(e),a&8192){if(O=e.memoizedState!==null,(e.stateNode.isHidden=O)&&!z&&(e.mode&1)!==0)for(Z=e,z=e.child;z!==null;){for(W=Z=z;Z!==null;){switch(U=Z,Q=U.child,U.tag){case 0:case 11:case 14:case 15:Ss(4,U,U.return);break;case 1:wr(U,U.return);var X=U.stateNode;if(typeof X.componentWillUnmount=="function"){a=U,r=U.return;try{t=a,X.props=t.memoizedProps,X.state=t.memoizedState,X.componentWillUnmount()}catch(ee){ze(a,r,ee)}}break;case 5:wr(U,U.return);break;case 22:if(U.memoizedState!==null){Nd(W);continue}}Q!==null?(Q.return=U,Z=Q):Nd(W)}z=z.sibling}e:for(z=null,W=e;;){if(W.tag===5){if(z===null){z=W;try{d=W.stateNode,O?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(w=W.stateNode,S=W.memoizedProps.style,v=S!=null&&S.hasOwnProperty("display")?S.display:null,w.style.display=su("display",v))}catch(ee){ze(e,e.return,ee)}}}else if(W.tag===6){if(z===null)try{W.stateNode.nodeValue=O?"":W.memoizedProps}catch(ee){ze(e,e.return,ee)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===e)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===e)break e;for(;W.sibling===null;){if(W.return===null||W.return===e)break e;z===W&&(z=null),W=W.return}z===W&&(z=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:Lt(t,e),Ht(e),a&4&&_d(e);break;case 21:break;default:Lt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(xd(r)){var a=r;break e}r=r.return}throw Error(s(160))}switch(a.tag){case 5:var d=a.stateNode;a.flags&32&&(Vr(d,""),a.flags&=-33);var f=wd(e);za(e,f,d);break;case 3:case 4:var v=a.stateNode.containerInfo,w=wd(e);Ua(e,w,v);break;default:throw Error(s(161))}}catch(S){ze(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hm(e,t,r){Z=e,jd(e)}function jd(e,t,r){for(var a=(e.mode&1)!==0;Z!==null;){var d=Z,f=d.child;if(d.tag===22&&a){var v=d.memoizedState!==null||Oi;if(!v){var w=d.alternate,S=w!==null&&w.memoizedState!==null||st;w=Oi;var O=st;if(Oi=v,(st=S)&&!O)for(Z=d;Z!==null;)v=Z,S=v.child,v.tag===22&&v.memoizedState!==null?Ed(d):S!==null?(S.return=v,Z=S):Ed(d);for(;f!==null;)Z=f,jd(f),f=f.sibling;Z=d,Oi=w,st=O}Sd(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,Z=f):Sd(e)}}function Sd(e){for(;Z!==null;){var t=Z;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:st||Ai(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!st)if(r===null)a.componentDidMount();else{var d=t.elementType===t.type?r.memoizedProps:Ot(t.type,r.memoizedProps);a.componentDidUpdate(d,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&Nc(t,f,a);break;case 3:var v=t.updateQueue;if(v!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Nc(t,v,r)}break;case 5:var w=t.stateNode;if(r===null&&t.flags&4){r=w;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&r.focus();break;case"img":S.src&&(r.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var O=t.alternate;if(O!==null){var z=O.memoizedState;if(z!==null){var W=z.dehydrated;W!==null&&rs(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}st||t.flags&512&&Da(t)}catch(U){ze(t,t.return,U)}}if(t===e){Z=null;break}if(r=t.sibling,r!==null){r.return=t.return,Z=r;break}Z=t.return}}function Nd(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Z=r;break}Z=t.return}}function Ed(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ai(4,t)}catch(S){ze(t,r,S)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var d=t.return;try{a.componentDidMount()}catch(S){ze(t,d,S)}}var f=t.return;try{Da(t)}catch(S){ze(t,f,S)}break;case 5:var v=t.return;try{Da(t)}catch(S){ze(t,v,S)}}}catch(S){ze(t,t.return,S)}if(t===e){Z=null;break}var w=t.sibling;if(w!==null){w.return=t.return,Z=w;break}Z=t.return}}var fm=Math.ceil,Li=B.ReactCurrentDispatcher,Fa=B.ReactCurrentOwner,Et=B.ReactCurrentBatchConfig,xe=0,Qe=null,He=null,et=0,bt=0,br=gn(0),Ve=0,Ns=null,Fn=0,$i=0,Ba=0,Es=null,ft=null,Wa=0,_r=1/0,nn=null,Mi=!1,Ha=null,_n=null,Di=!1,kn=null,Ui=0,Cs=0,qa=null,zi=-1,Fi=0;function at(){return(xe&6)!==0?Fe():zi!==-1?zi:zi=Fe()}function jn(e){return(e.mode&1)===0?1:(xe&2)!==0&&et!==0?et&-et:Qp.transition!==null?(Fi===0&&(Fi=wu()),Fi):(e=Se,e!==0||(e=window.event,e=e===void 0?16:Tu(e.type)),e)}function $t(e,t,r,a){if(50<Cs)throw Cs=0,qa=null,Error(s(185));Zr(e,r,a),((xe&2)===0||e!==Qe)&&(e===Qe&&((xe&2)===0&&($i|=r),Ve===4&&Sn(e,et)),pt(e,a),r===1&&xe===0&&(t.mode&1)===0&&(_r=Fe()+500,mi&&yn()))}function pt(e,t){var r=e.callbackNode;Qf(e,t);var a=Qs(e,e===Qe?et:0);if(a===0)r!==null&&vu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&vu(r),t===1)e.tag===0?Jp(Td.bind(null,e)):pc(Td.bind(null,e)),qp(function(){(xe&6)===0&&yn()}),r=null;else{switch(bu(a)){case 1:r=jo;break;case 4:r=yu;break;case 16:r=Vs;break;case 536870912:r=xu;break;default:r=Vs}r=Md(r,Cd.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Cd(e,t){if(zi=-1,Fi=0,(xe&6)!==0)throw Error(s(327));var r=e.callbackNode;if(kr()&&e.callbackNode!==r)return null;var a=Qs(e,e===Qe?et:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Bi(e,a);else{t=a;var d=xe;xe|=2;var f=Rd();(Qe!==e||et!==t)&&(nn=null,_r=Fe()+500,Wn(e,t));do try{gm();break}catch(w){Pd(e,w)}while(!0);ua(),Li.current=f,xe=d,He!==null?t=0:(Qe=null,et=0,t=Ve)}if(t!==0){if(t===2&&(d=So(e),d!==0&&(a=d,t=Va(e,d))),t===1)throw r=Ns,Wn(e,0),Sn(e,a),pt(e,Fe()),r;if(t===6)Sn(e,a);else{if(d=e.current.alternate,(a&30)===0&&!pm(d)&&(t=Bi(e,a),t===2&&(f=So(e),f!==0&&(a=f,t=Va(e,f))),t===1))throw r=Ns,Wn(e,0),Sn(e,a),pt(e,Fe()),r;switch(e.finishedWork=d,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:Hn(e,ft,nn);break;case 3:if(Sn(e,a),(a&130023424)===a&&(t=Wa+500-Fe(),10<t)){if(Qs(e,0)!==0)break;if(d=e.suspendedLanes,(d&a)!==a){at(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=Zo(Hn.bind(null,e,ft,nn),t);break}Hn(e,ft,nn);break;case 4:if(Sn(e,a),(a&4194240)===a)break;for(t=e.eventTimes,d=-1;0<a;){var v=31-Pt(a);f=1<<v,v=t[v],v>d&&(d=v),a&=~f}if(a=d,a=Fe()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*fm(a/1960))-a,10<a){e.timeoutHandle=Zo(Hn.bind(null,e,ft,nn),a);break}Hn(e,ft,nn);break;case 5:Hn(e,ft,nn);break;default:throw Error(s(329))}}}return pt(e,Fe()),e.callbackNode===r?Cd.bind(null,e):null}function Va(e,t){var r=Es;return e.current.memoizedState.isDehydrated&&(Wn(e,t).flags|=256),e=Bi(e,t),e!==2&&(t=ft,ft=r,t!==null&&Ga(t)),e}function Ga(e){ft===null?ft=e:ft.push.apply(ft,e)}function pm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var d=r[a],f=d.getSnapshot;d=d.value;try{if(!Rt(f(),d))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sn(e,t){for(t&=~Ba,t&=~$i,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pt(t),a=1<<r;e[r]=-1,t&=~a}}function Td(e){if((xe&6)!==0)throw Error(s(327));kr();var t=Qs(e,0);if((t&1)===0)return pt(e,Fe()),null;var r=Bi(e,t);if(e.tag!==0&&r===2){var a=So(e);a!==0&&(t=a,r=Va(e,a))}if(r===1)throw r=Ns,Wn(e,0),Sn(e,t),pt(e,Fe()),r;if(r===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hn(e,ft,nn),pt(e,Fe()),null}function Ka(e,t){var r=xe;xe|=1;try{return e(t)}finally{xe=r,xe===0&&(_r=Fe()+500,mi&&yn())}}function Bn(e){kn!==null&&kn.tag===0&&(xe&6)===0&&kr();var t=xe;xe|=1;var r=Et.transition,a=Se;try{if(Et.transition=null,Se=1,e)return e()}finally{Se=a,Et.transition=r,xe=t,(xe&6)===0&&yn()}}function Ja(){bt=br.current,Ae(br)}function Wn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Hp(r)),He!==null)for(r=He.return;r!==null;){var a=r;switch(sa(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&fi();break;case 3:yr(),Ae(ct),Ae(tt),va();break;case 5:ma(a);break;case 4:yr();break;case 13:Ae(Me);break;case 19:Ae(Me);break;case 10:ca(a.type._context);break;case 22:case 23:Ja()}r=r.return}if(Qe=e,He=e=Nn(e.current,null),et=bt=t,Ve=0,Ns=null,Ba=$i=Fn=0,ft=Es=null,Dn!==null){for(t=0;t<Dn.length;t++)if(r=Dn[t],a=r.interleaved,a!==null){r.interleaved=null;var d=a.next,f=r.pending;if(f!==null){var v=f.next;f.next=d,a.next=v}r.pending=a}Dn=null}return e}function Pd(e,t){do{var r=He;try{if(ua(),Si.current=Ti,Ni){for(var a=De.memoizedState;a!==null;){var d=a.queue;d!==null&&(d.pending=null),a=a.next}Ni=!1}if(zn=0,Je=qe=De=null,ws=!1,bs=0,Fa.current=null,r===null||r.return===null){Ve=1,Ns=t,He=null;break}e:{var f=e,v=r.return,w=r,S=t;if(t=et,w.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var O=S,z=w,W=z.tag;if((z.mode&1)===0&&(W===0||W===11||W===15)){var U=z.alternate;U?(z.updateQueue=U.updateQueue,z.memoizedState=U.memoizedState,z.lanes=U.lanes):(z.updateQueue=null,z.memoizedState=null)}var Q=td(v);if(Q!==null){Q.flags&=-257,nd(Q,v,w,f,t),Q.mode&1&&ed(f,O,t),t=Q,S=O;var X=t.updateQueue;if(X===null){var ee=new Set;ee.add(S),t.updateQueue=ee}else X.add(S);break e}else{if((t&1)===0){ed(f,O,t),Qa();break e}S=Error(s(426))}}else if(Le&&w.mode&1){var Be=td(v);if(Be!==null){(Be.flags&65536)===0&&(Be.flags|=256),nd(Be,v,w,f,t),aa(xr(S,w));break e}}f=S=xr(S,w),Ve!==4&&(Ve=2),Es===null?Es=[f]:Es.push(f),f=v;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var R=Zc(f,S,t);Sc(f,R);break e;case 1:w=S;var E=f.type,I=f.stateNode;if((f.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(_n===null||!_n.has(I)))){f.flags|=65536,t&=-t,f.lanes|=t;var q=Xc(f,w,t);Sc(f,q);break e}}f=f.return}while(f!==null)}Od(r)}catch(te){t=te,He===r&&r!==null&&(He=r=r.return);continue}break}while(!0)}function Rd(){var e=Li.current;return Li.current=Ti,e===null?Ti:e}function Qa(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Qe===null||(Fn&268435455)===0&&($i&268435455)===0||Sn(Qe,et)}function Bi(e,t){var r=xe;xe|=2;var a=Rd();(Qe!==e||et!==t)&&(nn=null,Wn(e,t));do try{mm();break}catch(d){Pd(e,d)}while(!0);if(ua(),xe=r,Li.current=a,He!==null)throw Error(s(261));return Qe=null,et=0,Ve}function mm(){for(;He!==null;)Id(He)}function gm(){for(;He!==null&&!Ff();)Id(He)}function Id(e){var t=$d(e.alternate,e,bt);e.memoizedProps=e.pendingProps,t===null?Od(e):He=t,Fa.current=null}function Od(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=lm(r,t,bt),r!==null){He=r;return}}else{if(r=um(r,t),r!==null){r.flags&=32767,He=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,He=null;return}}if(t=t.sibling,t!==null){He=t;return}He=t=e}while(t!==null);Ve===0&&(Ve=5)}function Hn(e,t,r){var a=Se,d=Et.transition;try{Et.transition=null,Se=1,vm(e,t,r,a)}finally{Et.transition=d,Se=a}return null}function vm(e,t,r,a){do kr();while(kn!==null);if((xe&6)!==0)throw Error(s(327));r=e.finishedWork;var d=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var f=r.lanes|r.childLanes;if(Yf(e,f),e===Qe&&(He=Qe=null,et=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Di||(Di=!0,Md(Vs,function(){return kr(),null})),f=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||f){f=Et.transition,Et.transition=null;var v=Se;Se=1;var w=xe;xe|=4,Fa.current=null,dm(e,r),kd(r,e),Mp(Qo),Xs=!!Jo,Qo=Jo=null,e.current=r,hm(r),Bf(),xe=w,Se=v,Et.transition=f}else e.current=r;if(Di&&(Di=!1,kn=e,Ui=d),f=e.pendingLanes,f===0&&(_n=null),qf(r.stateNode),pt(e,Fe()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)d=t[r],a(d.value,{componentStack:d.stack,digest:d.digest});if(Mi)throw Mi=!1,e=Ha,Ha=null,e;return(Ui&1)!==0&&e.tag!==0&&kr(),f=e.pendingLanes,(f&1)!==0?e===qa?Cs++:(Cs=0,qa=e):Cs=0,yn(),null}function kr(){if(kn!==null){var e=bu(Ui),t=Et.transition,r=Se;try{if(Et.transition=null,Se=16>e?16:e,kn===null)var a=!1;else{if(e=kn,kn=null,Ui=0,(xe&6)!==0)throw Error(s(331));var d=xe;for(xe|=4,Z=e.current;Z!==null;){var f=Z,v=f.child;if((Z.flags&16)!==0){var w=f.deletions;if(w!==null){for(var S=0;S<w.length;S++){var O=w[S];for(Z=O;Z!==null;){var z=Z;switch(z.tag){case 0:case 11:case 15:Ss(8,z,f)}var W=z.child;if(W!==null)W.return=z,Z=W;else for(;Z!==null;){z=Z;var U=z.sibling,Q=z.return;if(yd(z),z===O){Z=null;break}if(U!==null){U.return=Q,Z=U;break}Z=Q}}}var X=f.alternate;if(X!==null){var ee=X.child;if(ee!==null){X.child=null;do{var Be=ee.sibling;ee.sibling=null,ee=Be}while(ee!==null)}}Z=f}}if((f.subtreeFlags&2064)!==0&&v!==null)v.return=f,Z=v;else e:for(;Z!==null;){if(f=Z,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Ss(9,f,f.return)}var R=f.sibling;if(R!==null){R.return=f.return,Z=R;break e}Z=f.return}}var E=e.current;for(Z=E;Z!==null;){v=Z;var I=v.child;if((v.subtreeFlags&2064)!==0&&I!==null)I.return=v,Z=I;else e:for(v=E;Z!==null;){if(w=Z,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:Ai(9,w)}}catch(te){ze(w,w.return,te)}if(w===v){Z=null;break e}var q=w.sibling;if(q!==null){q.return=w.return,Z=q;break e}Z=w.return}}if(xe=d,yn(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Gs,e)}catch{}a=!0}return a}finally{Se=r,Et.transition=t}}return!1}function Ad(e,t,r){t=xr(r,t),t=Zc(e,t,1),e=wn(e,t,1),t=at(),e!==null&&(Zr(e,1,t),pt(e,t))}function ze(e,t,r){if(e.tag===3)Ad(e,e,r);else for(;t!==null;){if(t.tag===3){Ad(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(_n===null||!_n.has(a))){e=xr(r,e),e=Xc(t,e,1),t=wn(t,e,1),e=at(),t!==null&&(Zr(t,1,e),pt(t,e));break}}t=t.return}}function ym(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&r,Qe===e&&(et&r)===r&&(Ve===4||Ve===3&&(et&130023424)===et&&500>Fe()-Wa?Wn(e,0):Ba|=r),pt(e,t)}function Ld(e,t){t===0&&((e.mode&1)===0?t=1:(t=Js,Js<<=1,(Js&130023424)===0&&(Js=4194304)));var r=at();e=Xt(e,t),e!==null&&(Zr(e,t,r),pt(e,r))}function xm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ld(e,r)}function wm(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,d=e.memoizedState;d!==null&&(r=d.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}a!==null&&a.delete(t),Ld(e,r)}var $d;$d=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)ht=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return ht=!1,am(e,t,r);ht=(e.flags&131072)!==0}else ht=!1,Le&&(t.flags&1048576)!==0&&mc(t,vi,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Ii(e,t),e=t.pendingProps;var d=dr(t,tt.current);vr(t,r),d=wa(null,t,a,e,d,r);var f=ba();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(a)?(f=!0,pi(t)):f=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,fa(t),d.updater=Pi,t.stateNode=d,d._reactInternals=t,Ea(t,a,e,r),t=Ra(null,t,a,!0,f,r)):(t.tag=0,Le&&f&&ra(t),ot(null,t,d,r),t=t.child),t;case 16:a=t.elementType;e:{switch(Ii(e,t),e=t.pendingProps,d=a._init,a=d(a._payload),t.type=a,d=t.tag=_m(a),e=Ot(a,e),d){case 0:t=Pa(null,t,a,e,r);break e;case 1:t=ld(null,t,a,e,r);break e;case 11:t=rd(null,t,a,e,r);break e;case 14:t=sd(null,t,a,Ot(a.type,e),r);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,d=t.pendingProps,d=t.elementType===a?d:Ot(a,d),Pa(e,t,a,d,r);case 1:return a=t.type,d=t.pendingProps,d=t.elementType===a?d:Ot(a,d),ld(e,t,a,d,r);case 3:e:{if(ud(t),e===null)throw Error(s(387));a=t.pendingProps,f=t.memoizedState,d=f.element,jc(e,t),ki(t,a,null,r);var v=t.memoizedState;if(a=v.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){d=xr(Error(s(423)),t),t=cd(e,t,a,r,d);break e}else if(a!==d){d=xr(Error(s(424)),t),t=cd(e,t,a,r,d);break e}else for(wt=mn(t.stateNode.containerInfo.firstChild),xt=t,Le=!0,It=null,r=_c(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(pr(),a===d){t=tn(e,t,r);break e}ot(e,t,a,r)}t=t.child}return t;case 5:return Ec(t),e===null&&oa(t),a=t.type,d=t.pendingProps,f=e!==null?e.memoizedProps:null,v=d.children,Yo(a,d)?v=null:f!==null&&Yo(a,f)&&(t.flags|=32),ad(e,t),ot(e,t,v,r),t.child;case 6:return e===null&&oa(t),null;case 13:return dd(e,t,r);case 4:return pa(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=mr(t,null,a,r):ot(e,t,a,r),t.child;case 11:return a=t.type,d=t.pendingProps,d=t.elementType===a?d:Ot(a,d),rd(e,t,a,d,r);case 7:return ot(e,t,t.pendingProps,r),t.child;case 8:return ot(e,t,t.pendingProps.children,r),t.child;case 12:return ot(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,d=t.pendingProps,f=t.memoizedProps,v=d.value,Re(wi,a._currentValue),a._currentValue=v,f!==null)if(Rt(f.value,v)){if(f.children===d.children&&!ct.current){t=tn(e,t,r);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var w=f.dependencies;if(w!==null){v=f.child;for(var S=w.firstContext;S!==null;){if(S.context===a){if(f.tag===1){S=en(-1,r&-r),S.tag=2;var O=f.updateQueue;if(O!==null){O=O.shared;var z=O.pending;z===null?S.next=S:(S.next=z.next,z.next=S),O.pending=S}}f.lanes|=r,S=f.alternate,S!==null&&(S.lanes|=r),da(f.return,r,t),w.lanes|=r;break}S=S.next}}else if(f.tag===10)v=f.type===t.type?null:f.child;else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=r,w=v.alternate,w!==null&&(w.lanes|=r),da(v,r,t),v=f.sibling}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}ot(e,t,d.children,r),t=t.child}return t;case 9:return d=t.type,a=t.pendingProps.children,vr(t,r),d=St(d),a=a(d),t.flags|=1,ot(e,t,a,r),t.child;case 14:return a=t.type,d=Ot(a,t.pendingProps),d=Ot(a.type,d),sd(e,t,a,d,r);case 15:return id(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,d=t.pendingProps,d=t.elementType===a?d:Ot(a,d),Ii(e,t),t.tag=1,dt(a)?(e=!0,pi(t)):e=!1,vr(t,r),Qc(t,a,d),Ea(t,a,d,r),Ra(null,t,a,!0,e,r);case 19:return fd(e,t,r);case 22:return od(e,t,r)}throw Error(s(156,t.tag))};function Md(e,t){return gu(e,t)}function bm(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,r,a){return new bm(e,t,r,a)}function Ya(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _m(e){if(typeof e=="function")return Ya(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ae)return 11;if(e===ke)return 14}return 2}function Nn(e,t){var r=e.alternate;return r===null?(r=Ct(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Wi(e,t,r,a,d,f){var v=2;if(a=e,typeof e=="function")Ya(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case K:return qn(r.children,d,f,t);case V:v=8,d|=8;break;case D:return e=Ct(12,r,t,d|2),e.elementType=D,e.lanes=f,e;case ue:return e=Ct(13,r,t,d),e.elementType=ue,e.lanes=f,e;case we:return e=Ct(19,r,t,d),e.elementType=we,e.lanes=f,e;case ye:return Hi(r,d,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case F:v=10;break e;case Y:v=9;break e;case ae:v=11;break e;case ke:v=14;break e;case Ne:v=16,a=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=Ct(v,r,t,d),t.elementType=e,t.type=a,t.lanes=f,t}function qn(e,t,r,a){return e=Ct(7,e,a,t),e.lanes=r,e}function Hi(e,t,r,a){return e=Ct(22,e,a,t),e.elementType=ye,e.lanes=r,e.stateNode={isHidden:!1},e}function Za(e,t,r){return e=Ct(6,e,null,t),e.lanes=r,e}function Xa(e,t,r){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function km(e,t,r,a,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=No(0),this.expirationTimes=No(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=No(0),this.identifierPrefix=a,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function el(e,t,r,a,d,f,v,w,S){return e=new km(e,t,r,w,S),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Ct(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},fa(f),e}function jm(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function Dd(e){if(!e)return vn;e=e._reactInternals;e:{if(On(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var r=e.type;if(dt(r))return hc(e,r,t)}return t}function Ud(e,t,r,a,d,f,v,w,S){return e=el(r,a,!0,e,d,f,v,w,S),e.context=Dd(null),r=e.current,a=at(),d=jn(r),f=en(a,d),f.callback=t??null,wn(r,f,d),e.current.lanes=d,Zr(e,d,a),pt(e,a),e}function qi(e,t,r,a){var d=t.current,f=at(),v=jn(d);return r=Dd(r),t.context===null?t.context=r:t.pendingContext=r,t=en(f,v),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=wn(d,t,v),e!==null&&($t(e,d,v,f),_i(e,d,v)),v}function Vi(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function zd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function tl(e,t){zd(e,t),(e=e.alternate)&&zd(e,t)}function Sm(){return null}var Fd=typeof reportError=="function"?reportError:function(e){console.error(e)};function nl(e){this._internalRoot=e}Gi.prototype.render=nl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));qi(e,t,null,null)},Gi.prototype.unmount=nl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bn(function(){qi(null,e,null,null)}),t[Jt]=null}};function Gi(e){this._internalRoot=e}Gi.prototype.unstable_scheduleHydration=function(e){if(e){var t=ju();e={blockedOn:null,target:e,priority:t};for(var r=0;r<hn.length&&t!==0&&t<hn[r].priority;r++);hn.splice(r,0,e),r===0&&Eu(e)}};function rl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ki(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bd(){}function Nm(e,t,r,a,d){if(d){if(typeof a=="function"){var f=a;a=function(){var O=Vi(v);f.call(O)}}var v=Ud(t,a,e,0,null,!1,!1,"",Bd);return e._reactRootContainer=v,e[Jt]=v.current,hs(e.nodeType===8?e.parentNode:e),Bn(),v}for(;d=e.lastChild;)e.removeChild(d);if(typeof a=="function"){var w=a;a=function(){var O=Vi(S);w.call(O)}}var S=el(e,0,!1,null,null,!1,!1,"",Bd);return e._reactRootContainer=S,e[Jt]=S.current,hs(e.nodeType===8?e.parentNode:e),Bn(function(){qi(t,S,r,a)}),S}function Ji(e,t,r,a,d){var f=r._reactRootContainer;if(f){var v=f;if(typeof d=="function"){var w=d;d=function(){var S=Vi(v);w.call(S)}}qi(t,v,e,d)}else v=Nm(r,t,e,d,a);return Vi(v)}_u=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Yr(t.pendingLanes);r!==0&&(Eo(t,r|1),pt(t,Fe()),(xe&6)===0&&(_r=Fe()+500,yn()))}break;case 13:Bn(function(){var a=Xt(e,1);if(a!==null){var d=at();$t(a,e,1,d)}}),tl(e,1)}},Co=function(e){if(e.tag===13){var t=Xt(e,134217728);if(t!==null){var r=at();$t(t,e,134217728,r)}tl(e,134217728)}},ku=function(e){if(e.tag===13){var t=jn(e),r=Xt(e,t);if(r!==null){var a=at();$t(r,e,t,a)}tl(e,t)}},ju=function(){return Se},Su=function(e,t){var r=Se;try{return Se=e,t()}finally{Se=r}},wo=function(e,t,r){switch(t){case"input":if(gt(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var d=hi(a);if(!d)throw Error(s(90));Ce(a),gt(a,d)}}}break;case"textarea":eu(e,r);break;case"select":t=r.value,t!=null&&ln(e,!!r.multiple,t,!1)}},uu=Ka,cu=Bn;var Em={usingClientEntryPoint:!1,Events:[ms,ur,hi,au,lu,Ka]},Ts={findFiberByHostInstance:An,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cm={bundleType:Ts.bundleType,version:Ts.version,rendererPackageName:Ts.rendererPackageName,rendererConfig:Ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pu(e),e===null?null:e.stateNode},findFiberByHostInstance:Ts.findFiberByHostInstance||Sm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qi.isDisabled&&Qi.supportsFiber)try{Gs=Qi.inject(Cm),zt=Qi}catch{}}return mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Em,mt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rl(t))throw Error(s(200));return jm(e,t,null,r)},mt.createRoot=function(e,t){if(!rl(e))throw Error(s(299));var r=!1,a="",d=Fd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=el(e,1,!1,null,null,r,!1,a,d),e[Jt]=t.current,hs(e.nodeType===8?e.parentNode:e),new nl(t)},mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=pu(t),e=e===null?null:e.stateNode,e},mt.flushSync=function(e){return Bn(e)},mt.hydrate=function(e,t,r){if(!Ki(t))throw Error(s(200));return Ji(null,e,t,!0,r)},mt.hydrateRoot=function(e,t,r){if(!rl(e))throw Error(s(405));var a=r!=null&&r.hydratedSources||null,d=!1,f="",v=Fd;if(r!=null&&(r.unstable_strictMode===!0&&(d=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),t=Ud(t,null,e,1,r??null,d,!1,f,v),e[Jt]=t.current,hs(e),a)for(e=0;e<a.length;e++)r=a[e],d=r._getVersion,d=d(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,d]:t.mutableSourceEagerHydrationData.push(r,d);return new Gi(t)},mt.render=function(e,t,r){if(!Ki(t))throw Error(s(200));return Ji(null,e,t,!1,r)},mt.unmountComponentAtNode=function(e){if(!Ki(e))throw Error(s(40));return e._reactRootContainer?(Bn(function(){Ji(null,null,e,!1,function(){e._reactRootContainer=null,e[Jt]=null})}),!0):!1},mt.unstable_batchedUpdates=Ka,mt.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!Ki(r))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Ji(e,t,r,!1,a)},mt.version="18.3.1-next-f1338f8080-20240426",mt}var Qd;function Dm(){if(Qd)return ol.exports;Qd=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),ol.exports=Mm(),ol.exports}var Yd;function Um(){if(Yd)return Yi;Yd=1;var i=Dm();return Yi.createRoot=i.createRoot,Yi.hydrateRoot=i.hydrateRoot,Yi}var zm=Um();var Zd="popstate";function Fm(i={}){function n(o,l){let{pathname:u,search:h,hash:p}=o.location;return bl("",{pathname:u,search:h,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(o,l){return typeof l=="string"?l:$s(l)}return Wm(n,s,null,i)}function $e(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function Tt(i,n){if(!i){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Bm(){return Math.random().toString(36).substring(2,10)}function Xd(i,n){return{usr:i.state,key:i.key,idx:n}}function bl(i,n,s=null,o){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof n=="string"?zr(n):n,state:s,key:n&&n.key||o||Bm()}}function $s({pathname:i="/",search:n="",hash:s=""}){return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(i+=s.charAt(0)==="#"?s:"#"+s),i}function zr(i){let n={};if(i){let s=i.indexOf("#");s>=0&&(n.hash=i.substring(s),i=i.substring(0,s));let o=i.indexOf("?");o>=0&&(n.search=i.substring(o),i=i.substring(0,o)),i&&(n.pathname=i)}return n}function Wm(i,n,s,o={}){let{window:l=document.defaultView,v5Compat:u=!1}=o,h=l.history,p="POP",m=null,y=g();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function g(){return(h.state||{idx:null}).idx}function x(){p="POP";let C=g(),$=C==null?null:C-y;y=C,m&&m({action:p,location:N.location,delta:$})}function b(C,$){p="PUSH";let T=bl(N.location,C,$);y=g()+1;let A=Xd(T,y),B=N.createHref(T);try{h.pushState(A,"",B)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;l.location.assign(B)}u&&m&&m({action:p,location:N.location,delta:1})}function k(C,$){p="REPLACE";let T=bl(N.location,C,$);y=g();let A=Xd(T,y),B=N.createHref(T);h.replaceState(A,"",B),u&&m&&m({action:p,location:N.location,delta:0})}function j(C){return Hm(C)}let N={get action(){return p},get location(){return i(l,h)},listen(C){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(Zd,x),m=C,()=>{l.removeEventListener(Zd,x),m=null}},createHref(C){return n(l,C)},createURL:j,encodeLocation(C){let $=j(C);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:b,replace:k,go(C){return h.go(C)}};return N}function Hm(i,n=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),$e(s,"No window.location.(origin|href) available to create URL");let o=typeof i=="string"?i:$s(i);return o=o.replace(/ $/,"%20"),!n&&o.startsWith("//")&&(o=s+o),new URL(o,s)}function Mh(i,n,s="/"){return qm(i,n,s,!1)}function qm(i,n,s,o){let l=typeof n=="string"?zr(n):n,u=an(l.pathname||"/",s);if(u==null)return null;let h=Dh(i);Vm(h);let p=null;for(let m=0;p==null&&m<h.length;++m){let y=r0(u);p=t0(h[m],y,o)}return p}function Dh(i,n=[],s=[],o="",l=!1){let u=(h,p,m=l,y)=>{let g={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(o)&&m)return;$e(g.relativePath.startsWith(o),`Absolute route path "${g.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(o.length)}let x=on([o,g.relativePath]),b=s.concat(g);h.children&&h.children.length>0&&($e(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),Dh(h.children,n,b,x,m)),!(h.path==null&&!h.index)&&n.push({path:x,score:Xm(x,h.index),routesMeta:b})};return i.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))u(h,p);else for(let m of Uh(h.path))u(h,p,!0,m)}),n}function Uh(i){let n=i.split("/");if(n.length===0)return[];let[s,...o]=n,l=s.endsWith("?"),u=s.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let h=Uh(o.join("/")),p=[];return p.push(...h.map(m=>m===""?u:[u,m].join("/"))),l&&p.push(...h),p.map(m=>i.startsWith("/")&&m===""?"/":m)}function Vm(i){i.sort((n,s)=>n.score!==s.score?s.score-n.score:e0(n.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}var Gm=/^:[\w-]+$/,Km=3,Jm=2,Qm=1,Ym=10,Zm=-2,eh=i=>i==="*";function Xm(i,n){let s=i.split("/"),o=s.length;return s.some(eh)&&(o+=Zm),n&&(o+=Jm),s.filter(l=>!eh(l)).reduce((l,u)=>l+(Gm.test(u)?Km:u===""?Qm:Ym),o)}function e0(i,n){return i.length===n.length&&i.slice(0,-1).every((o,l)=>o===n[l])?i[i.length-1]-n[n.length-1]:0}function t0(i,n,s=!1){let{routesMeta:o}=i,l={},u="/",h=[];for(let p=0;p<o.length;++p){let m=o[p],y=p===o.length-1,g=u==="/"?n:n.slice(u.length)||"/",x=oo({path:m.relativePath,caseSensitive:m.caseSensitive,end:y},g),b=m.route;if(!x&&y&&s&&!o[o.length-1].route.index&&(x=oo({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!x)return null;Object.assign(l,x.params),h.push({params:l,pathname:on([u,x.pathname]),pathnameBase:a0(on([u,x.pathnameBase])),route:b}),x.pathnameBase!=="/"&&(u=on([u,x.pathnameBase]))}return h}function oo(i,n){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[s,o]=n0(i.path,i.caseSensitive,i.end),l=n.match(s);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:o.reduce((y,{paramName:g,isOptional:x},b)=>{if(g==="*"){let j=p[b]||"";h=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const k=p[b];return x&&!k?y[g]=void 0:y[g]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:i}}function n0(i,n=!1,s=!0){Tt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let o=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,m)=>(o.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(o.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),o]}function r0(i){try{return i.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Tt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),i}}function an(i,n){if(n==="/")return i;if(!i.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,o=i.charAt(s);return o&&o!=="/"?null:i.slice(s)||"/"}var zh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,s0=i=>zh.test(i);function i0(i,n="/"){let{pathname:s,search:o="",hash:l=""}=typeof i=="string"?zr(i):i,u;if(s)if(s0(s))u=s;else{if(s.includes("//")){let h=s;s=s.replace(/\/\/+/g,"/"),Tt(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${s}`)}s.startsWith("/")?u=th(s.substring(1),"/"):u=th(s,n)}else u=n;return{pathname:u,search:l0(o),hash:u0(l)}}function th(i,n){let s=n.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function ul(i,n,s,o){return`Cannot include a '${i}' character in a manually specified \`to.${n}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function o0(i){return i.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function Dl(i){let n=o0(i);return n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase)}function Ul(i,n,s,o=!1){let l;typeof i=="string"?l=zr(i):(l={...i},$e(!l.pathname||!l.pathname.includes("?"),ul("?","pathname","search",l)),$e(!l.pathname||!l.pathname.includes("#"),ul("#","pathname","hash",l)),$e(!l.search||!l.search.includes("#"),ul("#","search","hash",l)));let u=i===""||l.pathname==="",h=u?"/":l.pathname,p;if(h==null)p=s;else{let x=n.length-1;if(!o&&h.startsWith("..")){let b=h.split("/");for(;b[0]==="..";)b.shift(),x-=1;l.pathname=b.join("/")}p=x>=0?n[x]:"/"}let m=i0(l,p),y=h&&h!=="/"&&h.endsWith("/"),g=(u||h===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(y||g)&&(m.pathname+="/"),m}var on=i=>i.join("/").replace(/\/\/+/g,"/"),a0=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),l0=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,u0=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,c0=class{constructor(i,n,s,o=!1){this.status=i,this.statusText=n||"",this.internal=o,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function d0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function h0(i){return i.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Fh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Bh(i,n){let s=i;if(typeof s!="string"||!zh.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let o=s,l=!1;if(Fh)try{let u=new URL(window.location.href),h=s.startsWith("//")?new URL(u.protocol+s):new URL(s),p=an(h.pathname,n);h.origin===u.origin&&p!=null?s=p+h.search+h.hash:l=!0}catch{Tt(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:l,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Wh=["POST","PUT","PATCH","DELETE"];new Set(Wh);var f0=["GET",...Wh];new Set(f0);var Fr=_.createContext(null);Fr.displayName="DataRouter";var uo=_.createContext(null);uo.displayName="DataRouterState";var p0=_.createContext(!1),Hh=_.createContext({isTransitioning:!1});Hh.displayName="ViewTransition";var m0=_.createContext(new Map);m0.displayName="Fetchers";var g0=_.createContext(null);g0.displayName="Await";var _t=_.createContext(null);_t.displayName="Navigation";var zs=_.createContext(null);zs.displayName="Location";var Gt=_.createContext({outlet:null,matches:[],isDataRoute:!1});Gt.displayName="Route";var zl=_.createContext(null);zl.displayName="RouteError";var qh="REACT_ROUTER_ERROR",v0="REDIRECT",y0="ROUTE_ERROR_RESPONSE";function x0(i){if(i.startsWith(`${qh}:${v0}:{`))try{let n=JSON.parse(i.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function w0(i){if(i.startsWith(`${qh}:${y0}:{`))try{let n=JSON.parse(i.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new c0(n.status,n.statusText,n.data)}catch{}}function b0(i,{relative:n}={}){$e(Br(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:o}=_.useContext(_t),{hash:l,pathname:u,search:h}=Fs(i,{relative:n}),p=u;return s!=="/"&&(p=u==="/"?s:on([s,u])),o.createHref({pathname:p,search:h,hash:l})}function Br(){return _.useContext(zs)!=null}function Rn(){return $e(Br(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(zs).location}var Vh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gh(i){_.useContext(_t).static||_.useLayoutEffect(i)}function Wr(){let{isDataRoute:i}=_.useContext(Gt);return i?A0():_0()}function _0(){$e(Br(),"useNavigate() may be used only in the context of a <Router> component.");let i=_.useContext(Fr),{basename:n,navigator:s}=_.useContext(_t),{matches:o}=_.useContext(Gt),{pathname:l}=Rn(),u=JSON.stringify(Dl(o)),h=_.useRef(!1);return Gh(()=>{h.current=!0}),_.useCallback((m,y={})=>{if(Tt(h.current,Vh),!h.current)return;if(typeof m=="number"){s.go(m);return}let g=Ul(m,JSON.parse(u),l,y.relative==="path");i==null&&n!=="/"&&(g.pathname=g.pathname==="/"?n:on([n,g.pathname])),(y.replace?s.replace:s.push)(g,y.state,y)},[n,s,u,l,i])}_.createContext(null);function Fs(i,{relative:n}={}){let{matches:s}=_.useContext(Gt),{pathname:o}=Rn(),l=JSON.stringify(Dl(s));return _.useMemo(()=>Ul(i,JSON.parse(l),o,n==="path"),[i,l,o,n])}function k0(i,n){return Kh(i,n)}function Kh(i,n,s,o,l){$e(Br(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=_.useContext(_t),{matches:h}=_.useContext(Gt),p=h[h.length-1],m=p?p.params:{},y=p?p.pathname:"/",g=p?p.pathnameBase:"/",x=p&&p.route;{let T=x&&x.path||"";Qh(y,!x||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let b=Rn(),k;if(n){let T=typeof n=="string"?zr(n):n;$e(g==="/"||T.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${T.pathname}" was given in the \`location\` prop.`),k=T}else k=b;let j=k.pathname||"/",N=j;if(g!=="/"){let T=g.replace(/^\//,"").split("/");N="/"+j.replace(/^\//,"").split("/").slice(T.length).join("/")}let C=Mh(i,{pathname:N});Tt(x||C!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Tt(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=C0(C&&C.map(T=>Object.assign({},T,{params:Object.assign({},m,T.params),pathname:on([g,u.encodeLocation?u.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?g:on([g,u.encodeLocation?u.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),h,s,o,l);return n&&$?_.createElement(zs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},$):$}function j0(){let i=O0(),n=d0(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null,o="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:u},"ErrorBoundary")," or"," ",_.createElement("code",{style:u},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},n),s?_.createElement("pre",{style:l},s):null,h)}var S0=_.createElement(j0,null),Jh=class extends _.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,n){return n.location!==i.location||n.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:n.error,location:n.location,revalidation:i.revalidation||n.revalidation}}componentDidCatch(i,n){this.props.onError?this.props.onError(i,n):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const s=w0(i.digest);s&&(i=s)}let n=i!==void 0?_.createElement(Gt.Provider,{value:this.props.routeContext},_.createElement(zl.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?_.createElement(N0,{error:i},n):n}};Jh.contextType=p0;var cl=new WeakMap;function N0({children:i,error:n}){let{basename:s}=_.useContext(_t);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let o=x0(n.digest);if(o){let l=cl.get(n);if(l)throw l;let u=Bh(o.location,s);if(Fh&&!cl.get(n))if(u.isExternal||o.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:o.replace}));throw cl.set(n,h),h}return _.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function E0({routeContext:i,match:n,children:s}){let o=_.useContext(Fr);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(Gt.Provider,{value:i},s)}function C0(i,n=[],s=null,o=null,l=null){if(i==null){if(!s)return null;if(s.errors)i=s.matches;else if(n.length===0&&!s.initialized&&s.matches.length>0)i=s.matches;else return null}let u=i,h=s?.errors;if(h!=null){let g=u.findIndex(x=>x.route.id&&h?.[x.route.id]!==void 0);$e(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let p=!1,m=-1;if(s)for(let g=0;g<u.length;g++){let x=u[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=g),x.route.id){let{loaderData:b,errors:k}=s,j=x.route.loader&&!b.hasOwnProperty(x.route.id)&&(!k||k[x.route.id]===void 0);if(x.route.lazy||j){p=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let y=s&&o?(g,x)=>{o(g,{location:s.location,params:s.matches?.[0]?.params??{},unstable_pattern:h0(s.matches),errorInfo:x})}:void 0;return u.reduceRight((g,x,b)=>{let k,j=!1,N=null,C=null;s&&(k=h&&x.route.id?h[x.route.id]:void 0,N=x.route.errorElement||S0,p&&(m<0&&b===0?(Qh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,C=null):m===b&&(j=!0,C=x.route.hydrateFallbackElement||null)));let $=n.concat(u.slice(0,b+1)),T=()=>{let A;return k?A=N:j?A=C:x.route.Component?A=_.createElement(x.route.Component,null):x.route.element?A=x.route.element:A=g,_.createElement(E0,{match:x,routeContext:{outlet:g,matches:$,isDataRoute:s!=null},children:A})};return s&&(x.route.ErrorBoundary||x.route.errorElement||b===0)?_.createElement(Jh,{location:s.location,revalidation:s.revalidation,component:N,error:k,children:T(),routeContext:{outlet:null,matches:$,isDataRoute:!0},onError:y}):T()},null)}function Fl(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T0(i){let n=_.useContext(Fr);return $e(n,Fl(i)),n}function P0(i){let n=_.useContext(uo);return $e(n,Fl(i)),n}function R0(i){let n=_.useContext(Gt);return $e(n,Fl(i)),n}function Bl(i){let n=R0(i),s=n.matches[n.matches.length-1];return $e(s.route.id,`${i} can only be used on routes that contain a unique "id"`),s.route.id}function I0(){return Bl("useRouteId")}function O0(){let i=_.useContext(zl),n=P0("useRouteError"),s=Bl("useRouteError");return i!==void 0?i:n.errors?.[s]}function A0(){let{router:i}=T0("useNavigate"),n=Bl("useNavigate"),s=_.useRef(!1);return Gh(()=>{s.current=!0}),_.useCallback(async(l,u={})=>{Tt(s.current,Vh),s.current&&(typeof l=="number"?await i.navigate(l):await i.navigate(l,{fromRouteId:n,...u}))},[i,n])}var nh={};function Qh(i,n,s){!n&&!nh[i]&&(nh[i]=!0,Tt(!1,s))}_.memo(L0);function L0({routes:i,future:n,state:s,onError:o}){return Kh(i,void 0,s,o,n)}function _l({to:i,replace:n,state:s,relative:o}){$e(Br(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=_.useContext(_t);Tt(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=_.useContext(Gt),{pathname:h}=Rn(),p=Wr(),m=Ul(i,Dl(u),h,o==="path"),y=JSON.stringify(m);return _.useEffect(()=>{p(JSON.parse(y),{replace:n,state:s,relative:o})},[p,y,o,n,s]),null}function Ar(i){$e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $0({basename:i="/",children:n=null,location:s,navigationType:o="POP",navigator:l,static:u=!1,unstable_useTransitions:h}){$e(!Br(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=i.replace(/^\/*/,"/"),m=_.useMemo(()=>({basename:p,navigator:l,static:u,unstable_useTransitions:h,future:{}}),[p,l,u,h]);typeof s=="string"&&(s=zr(s));let{pathname:y="/",search:g="",hash:x="",state:b=null,key:k="default"}=s,j=_.useMemo(()=>{let N=an(y,p);return N==null?null:{location:{pathname:N,search:g,hash:x,state:b,key:k},navigationType:o}},[p,y,g,x,b,k,o]);return Tt(j!=null,`<Router basename="${p}"> is not able to match the URL "${y}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:_.createElement(_t.Provider,{value:m},_.createElement(zs.Provider,{children:n,value:j}))}function M0({children:i,location:n}){return k0(kl(i),n)}function kl(i,n=[]){let s=[];return _.Children.forEach(i,(o,l)=>{if(!_.isValidElement(o))return;let u=[...n,l];if(o.type===_.Fragment){s.push.apply(s,kl(o.props.children,u));return}$e(o.type===Ar,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$e(!o.props.index||!o.props.children,"An index route cannot have child routes.");let h={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=kl(o.props.children,u)),s.push(h)}),s}var so="get",io="application/x-www-form-urlencoded";function co(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function D0(i){return co(i)&&i.tagName.toLowerCase()==="button"}function U0(i){return co(i)&&i.tagName.toLowerCase()==="form"}function z0(i){return co(i)&&i.tagName.toLowerCase()==="input"}function F0(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function B0(i,n){return i.button===0&&(!n||n==="_self")&&!F0(i)}var Zi=null;function W0(){if(Zi===null)try{new FormData(document.createElement("form"),0),Zi=!1}catch{Zi=!0}return Zi}var H0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dl(i){return i!=null&&!H0.has(i)?(Tt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${io}"`),null):i}function q0(i,n){let s,o,l,u,h;if(U0(i)){let p=i.getAttribute("action");o=p?an(p,n):null,s=i.getAttribute("method")||so,l=dl(i.getAttribute("enctype"))||io,u=new FormData(i)}else if(D0(i)||z0(i)&&(i.type==="submit"||i.type==="image")){let p=i.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||p.getAttribute("action");if(o=m?an(m,n):null,s=i.getAttribute("formmethod")||p.getAttribute("method")||so,l=dl(i.getAttribute("formenctype"))||dl(p.getAttribute("enctype"))||io,u=new FormData(p,i),!W0()){let{name:y,type:g,value:x}=i;if(g==="image"){let b=y?`${y}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else y&&u.append(y,x)}}else{if(co(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=so,o=null,l=io,h=i}return u&&l==="text/plain"&&(h=u,u=void 0),{action:o,method:s.toLowerCase(),encType:l,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wl(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function V0(i,n,s,o){let l=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${o}`:l.pathname=`${l.pathname}.${o}`:l.pathname==="/"?l.pathname=`_root.${o}`:n&&an(l.pathname,n)==="/"?l.pathname=`${n.replace(/\/$/,"")}/_root.${o}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${o}`,l}async function G0(i,n){if(i.id in n)return n[i.id];try{let s=await import(i.module);return n[i.id]=s,s}catch(s){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K0(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function J0(i,n,s){let o=await Promise.all(i.map(async l=>{let u=n.routes[l.route.id];if(u){let h=await G0(u,s);return h.links?h.links():[]}return[]}));return X0(o.flat(1).filter(K0).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function rh(i,n,s,o,l,u){let h=(m,y)=>s[y]?m.route.id!==s[y].route.id:!0,p=(m,y)=>s[y].pathname!==m.pathname||s[y].route.path?.endsWith("*")&&s[y].params["*"]!==m.params["*"];return u==="assets"?n.filter((m,y)=>h(m,y)||p(m,y)):u==="data"?n.filter((m,y)=>{let g=o.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(h(m,y)||p(m,y))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Q0(i,n,{includeHydrateFallback:s}={}){return Y0(i.map(o=>{let l=n.routes[o.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),s&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function Y0(i){return[...new Set(i)]}function Z0(i){let n={},s=Object.keys(i).sort();for(let o of s)n[o]=i[o];return n}function X0(i,n){let s=new Set;return new Set(n),i.reduce((o,l)=>{let u=JSON.stringify(Z0(l));return s.has(u)||(s.add(u),o.push({key:u,link:l})),o},[])}function Yh(){let i=_.useContext(Fr);return Wl(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function eg(){let i=_.useContext(uo);return Wl(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Hl=_.createContext(void 0);Hl.displayName="FrameworkContext";function Zh(){let i=_.useContext(Hl);return Wl(i,"You must render this element inside a <HydratedRouter> element"),i}function tg(i,n){let s=_.useContext(Hl),[o,l]=_.useState(!1),[u,h]=_.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:y,onMouseLeave:g,onTouchStart:x}=n,b=_.useRef(null);_.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let N=$=>{$.forEach(T=>{h(T.isIntersecting)})},C=new IntersectionObserver(N,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[i]),_.useEffect(()=>{if(o){let N=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(N)}}},[o]);let k=()=>{l(!0)},j=()=>{l(!1),h(!1)};return s?i!=="intent"?[u,b,{}]:[u,b,{onFocus:Rs(p,k),onBlur:Rs(m,j),onMouseEnter:Rs(y,k),onMouseLeave:Rs(g,j),onTouchStart:Rs(x,k)}]:[!1,b,{}]}function Rs(i,n){return s=>{i&&i(s),s.defaultPrevented||n(s)}}function ng({page:i,...n}){let{router:s}=Yh(),o=_.useMemo(()=>Mh(s.routes,i,s.basename),[s.routes,i,s.basename]);return o?_.createElement(sg,{page:i,matches:o,...n}):null}function rg(i){let{manifest:n,routeModules:s}=Zh(),[o,l]=_.useState([]);return _.useEffect(()=>{let u=!1;return J0(i,n,s).then(h=>{u||l(h)}),()=>{u=!0}},[i,n,s]),o}function sg({page:i,matches:n,...s}){let o=Rn(),{future:l,manifest:u,routeModules:h}=Zh(),{basename:p}=Yh(),{loaderData:m,matches:y}=eg(),g=_.useMemo(()=>rh(i,n,y,u,o,"data"),[i,n,y,u,o]),x=_.useMemo(()=>rh(i,n,y,u,o,"assets"),[i,n,y,u,o]),b=_.useMemo(()=>{if(i===o.pathname+o.search+o.hash)return[];let N=new Set,C=!1;if(n.forEach(T=>{let A=u.routes[T.route.id];!A||!A.hasLoader||(!g.some(B=>B.route.id===T.route.id)&&T.route.id in m&&h[T.route.id]?.shouldRevalidate||A.hasClientLoader?C=!0:N.add(T.route.id))}),N.size===0)return[];let $=V0(i,p,l.unstable_trailingSlashAwareDataRequests,"data");return C&&N.size>0&&$.searchParams.set("_routes",n.filter(T=>N.has(T.route.id)).map(T=>T.route.id).join(",")),[$.pathname+$.search]},[p,l.unstable_trailingSlashAwareDataRequests,m,o,u,g,n,i,h]),k=_.useMemo(()=>Q0(x,u),[x,u]),j=rg(x);return _.createElement(_.Fragment,null,b.map(N=>_.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...s})),k.map(N=>_.createElement("link",{key:N,rel:"modulepreload",href:N,...s})),j.map(({key:N,link:C})=>_.createElement("link",{key:N,nonce:s.nonce,...C})))}function ig(...i){return n=>{i.forEach(s=>{typeof s=="function"?s(n):s!=null&&(s.current=n)})}}var og=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{og&&(window.__reactRouterVersion="7.12.0")}catch{}function ag({basename:i,children:n,unstable_useTransitions:s,window:o}){let l=_.useRef();l.current==null&&(l.current=Fm({window:o,v5Compat:!0}));let u=l.current,[h,p]=_.useState({action:u.action,location:u.location}),m=_.useCallback(y=>{s===!1?p(y):_.startTransition(()=>p(y))},[s]);return _.useLayoutEffect(()=>u.listen(m),[u,m]),_.createElement($0,{basename:i,children:n,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:s})}var Xh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ef=_.forwardRef(function({onClick:n,discover:s="render",prefetch:o="none",relative:l,reloadDocument:u,replace:h,state:p,target:m,to:y,preventScrollReset:g,viewTransition:x,unstable_defaultShouldRevalidate:b,...k},j){let{basename:N,unstable_useTransitions:C}=_.useContext(_t),$=typeof y=="string"&&Xh.test(y),T=Bh(y,N);y=T.to;let A=b0(y,{relative:l}),[B,H,L]=tg(o,k),K=dg(y,{replace:h,state:p,target:m,preventScrollReset:g,relative:l,viewTransition:x,unstable_defaultShouldRevalidate:b,unstable_useTransitions:C});function V(F){n&&n(F),F.defaultPrevented||K(F)}let D=_.createElement("a",{...k,...L,href:T.absoluteURL||A,onClick:T.isExternal||u?n:V,ref:ig(j,H),target:m,"data-discover":!$&&s==="render"?"true":void 0});return B&&!$?_.createElement(_.Fragment,null,D,_.createElement(ng,{page:A})):D});ef.displayName="Link";var lg=_.forwardRef(function({"aria-current":n="page",caseSensitive:s=!1,className:o="",end:l=!1,style:u,to:h,viewTransition:p,children:m,...y},g){let x=Fs(h,{relative:y.relative}),b=Rn(),k=_.useContext(uo),{navigator:j,basename:N}=_.useContext(_t),C=k!=null&&gg(x)&&p===!0,$=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,T=b.pathname,A=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;s||(T=T.toLowerCase(),A=A?A.toLowerCase():null,$=$.toLowerCase()),A&&N&&(A=an(A,N)||A);const B=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let H=T===$||!l&&T.startsWith($)&&T.charAt(B)==="/",L=A!=null&&(A===$||!l&&A.startsWith($)&&A.charAt($.length)==="/"),K={isActive:H,isPending:L,isTransitioning:C},V=H?n:void 0,D;typeof o=="function"?D=o(K):D=[o,H?"active":null,L?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let F=typeof u=="function"?u(K):u;return _.createElement(ef,{...y,"aria-current":V,className:D,ref:g,style:F,to:h,viewTransition:p},typeof m=="function"?m(K):m)});lg.displayName="NavLink";var ug=_.forwardRef(({discover:i="render",fetcherKey:n,navigate:s,reloadDocument:o,replace:l,state:u,method:h=so,action:p,onSubmit:m,relative:y,preventScrollReset:g,viewTransition:x,unstable_defaultShouldRevalidate:b,...k},j)=>{let{unstable_useTransitions:N}=_.useContext(_t),C=pg(),$=mg(p,{relative:y}),T=h.toLowerCase()==="get"?"get":"post",A=typeof p=="string"&&Xh.test(p),B=H=>{if(m&&m(H),H.defaultPrevented)return;H.preventDefault();let L=H.nativeEvent.submitter,K=L?.getAttribute("formmethod")||h,V=()=>C(L||H.currentTarget,{fetcherKey:n,method:K,navigate:s,replace:l,state:u,relative:y,preventScrollReset:g,viewTransition:x,unstable_defaultShouldRevalidate:b});N&&s!==!1?_.startTransition(()=>V()):V()};return _.createElement("form",{ref:j,method:T,action:$,onSubmit:o?m:B,...k,"data-discover":!A&&i==="render"?"true":void 0})});ug.displayName="Form";function cg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tf(i){let n=_.useContext(Fr);return $e(n,cg(i)),n}function dg(i,{target:n,replace:s,state:o,preventScrollReset:l,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:p,unstable_useTransitions:m}={}){let y=Wr(),g=Rn(),x=Fs(i,{relative:u});return _.useCallback(b=>{if(B0(b,n)){b.preventDefault();let k=s!==void 0?s:$s(g)===$s(x),j=()=>y(i,{replace:k,state:o,preventScrollReset:l,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:p});m?_.startTransition(()=>j()):j()}},[g,y,x,s,o,n,i,l,u,h,p,m])}var hg=0,fg=()=>`__${String(++hg)}__`;function pg(){let{router:i}=tf("useSubmit"),{basename:n}=_.useContext(_t),s=I0(),o=i.fetch,l=i.navigate;return _.useCallback(async(u,h={})=>{let{action:p,method:m,encType:y,formData:g,body:x}=q0(u,n);if(h.navigate===!1){let b=h.fetcherKey||fg();await o(b,s,h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:g,body:x,formMethod:h.method||m,formEncType:h.encType||y,flushSync:h.flushSync})}else await l(h.action||p,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:g,body:x,formMethod:h.method||m,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:s,flushSync:h.flushSync,viewTransition:h.viewTransition})},[o,l,n,s])}function mg(i,{relative:n}={}){let{basename:s}=_.useContext(_t),o=_.useContext(Gt);$e(o,"useFormAction must be used inside a RouteContext");let[l]=o.matches.slice(-1),u={...Fs(i||".",{relative:n})},h=Rn();if(i==null){u.search=h.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(g=>g==="")){p.delete("index"),m.filter(x=>x).forEach(x=>p.append("index",x));let g=p.toString();u.search=g?`?${g}`:""}}return(!i||i===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:on([s,u.pathname])),$s(u)}function gg(i,{relative:n}={}){let s=_.useContext(Hh);$e(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=tf("useViewTransitionState"),l=Fs(i,{relative:n});if(!s.isTransitioning)return!1;let u=an(s.currentLocation.pathname,o)||s.currentLocation.pathname,h=an(s.nextLocation.pathname,o)||s.nextLocation.pathname;return oo(l.pathname,h)!=null||oo(l.pathname,u)!=null}const vg="modulepreload",yg=function(i){return"/"+i},sh={},Yn=function(n,s,o){let l=Promise.resolve();if(s&&s.length>0){let m=function(y){return Promise.all(y.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=h?.nonce||h?.getAttribute("nonce");l=m(s.map(y=>{if(y=yg(y),y in sh)return;sh[y]=!0;const g=y.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${x}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":vg,g||(b.as="script"),b.crossOrigin="",b.href=y,p&&b.setAttribute("nonce",p),document.head.appendChild(b),g)return new Promise((k,j)=>{b.addEventListener("load",k),b.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return l.then(h=>{for(const p of h||[])p.status==="rejected"&&u(p.reason);return n().catch(u)})},xg=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...s)=>Yn(async()=>{const{default:o}=await Promise.resolve().then(()=>Hr);return{default:o}},[]).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)};class ql extends Error{constructor(n,s="FunctionsError",o){super(n),this.name=s,this.context=o}}class wg extends ql{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class ih extends ql{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class oh extends ql{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var jl;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(jl||(jl={}));var bg=function(i,n,s,o){function l(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function p(g){try{y(o.next(g))}catch(x){h(x)}}function m(g){try{y(o.throw(g))}catch(x){h(x)}}function y(g){g.done?u(g.value):l(g.value).then(p,m)}y((o=o.apply(i,n||[])).next())})};class _g{constructor(n,{headers:s={},customFetch:o,region:l=jl.Any}={}){this.url=n,this.headers=s,this.region=l,this.fetch=xg(o)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,s={}){var o;return bg(this,void 0,void 0,function*(){try{const{headers:l,method:u,body:h}=s;let p={},{region:m}=s;m||(m=this.region);const y=new URL(`${this.url}/${n}`);m&&m!=="any"&&(p["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let g;h&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=h):typeof h=="string"?(p["Content-Type"]="text/plain",g=h):typeof FormData<"u"&&h instanceof FormData?g=h:(p["Content-Type"]="application/json",g=JSON.stringify(h)));const x=yield this.fetch(y.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:g}).catch(N=>{throw new wg(N)}),b=x.headers.get("x-relay-error");if(b&&b==="true")throw new ih(x);if(!x.ok)throw new oh(x);let k=((o=x.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),j;return k==="application/json"?j=yield x.json():k==="application/octet-stream"?j=yield x.blob():k==="text/event-stream"?j=x:k==="multipart/form-data"?j=yield x.formData():j=yield x.text(),{data:j,error:null,response:x}}catch(l){return{data:null,error:l,response:l instanceof oh||l instanceof ih?l.context:void 0}}})}}var Ze={},jr={},Sr={},Nr={},Er={},Cr={},kg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mr=kg();const jg=Mr.fetch,nf=Mr.fetch.bind(Mr),rf=Mr.Headers,Sg=Mr.Request,Ng=Mr.Response,Hr=Object.freeze(Object.defineProperty({__proto__:null,Headers:rf,Request:Sg,Response:Ng,default:nf,fetch:jg},Symbol.toStringTag,{value:"Module"})),Eg=Rm(Hr);var Xi={},ah;function sf(){if(ah)return Xi;ah=1,Object.defineProperty(Xi,"__esModule",{value:!0});class i extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Xi.default=i,Xi}var lh;function of(){if(lh)return Cr;lh=1;var i=Cr&&Cr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Cr,"__esModule",{value:!0});const n=i(Eg),s=i(sf());class o{constructor(u){var h,p;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(h=u.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=u.signal,this.isMaybeSingle=(p=u.isMaybeSingle)!==null&&p!==void 0?p:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,h){return this.headers=new Headers(this.headers),this.headers.set(u,h),this}then(u,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const p=this.fetch;let m=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var g,x,b,k;let j=null,N=null,C=null,$=y.status,T=y.statusText;if(y.ok){if(this.method!=="HEAD"){const L=await y.text();L===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?N=L:N=JSON.parse(L))}const B=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),H=(b=y.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");B&&H&&H.length>1&&(C=parseInt(H[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(j={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,C=null,$=406,T="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const B=await y.text();try{j=JSON.parse(B),Array.isArray(j)&&y.status===404&&(N=[],j=null,$=200,T="OK")}catch{y.status===404&&B===""?($=204,T="No Content"):j={message:B}}if(j&&this.isMaybeSingle&&(!((k=j?.details)===null||k===void 0)&&k.includes("0 rows"))&&(j=null,$=200,T="OK"),j&&this.shouldThrowOnError)throw new s.default(j)}return{error:j,data:N,count:C,status:$,statusText:T}});return this.shouldThrowOnError||(m=m.catch(y=>{var g,x,b;return{error:{message:`${(g=y?.name)!==null&&g!==void 0?g:"FetchError"}: ${y?.message}`,details:`${(x=y?.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(b=y?.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),m.then(u,h)}returns(){return this}overrideTypes(){return this}}return Cr.default=o,Cr}var uh;function af(){if(uh)return Er;uh=1;var i=Er&&Er.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Er,"__esModule",{value:!0});const n=i(of());class s extends n.default{select(l){let u=!1;const h=(l??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:u=!0,nullsFirst:h,foreignTable:p,referencedTable:m=p}={}){const y=m?`${m}.order`:"order",g=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${g?`${g},`:""}${l}.${u?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:h=u}={}){const p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${l}`),this}range(l,u,{foreignTable:h,referencedTable:p=h}={}){const m=typeof p>"u"?"offset":`${p}.offset`,y=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(y,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:u=!1,settings:h=!1,buffers:p=!1,wal:m=!1,format:y="text"}={}){var g;const x=[l?"analyze":null,u?"verbose":null,h?"settings":null,p?"buffers":null,m?"wal":null].filter(Boolean).join("|"),b=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${b}"; options=${x};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return Er.default=s,Er}var ch;function Vl(){if(ch)return Nr;ch=1;var i=Nr&&Nr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Nr,"__esModule",{value:!0});const n=i(af());class s extends n.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const h=Array.from(new Set(u)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(l,`in.(${h})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:h,type:p}={}){let m="";p==="plain"?m="pl":p==="phrase"?m="ph":p==="websearch"&&(m="w");const y=h===void 0?"":`(${h})`;return this.url.searchParams.append(l,`${m}fts${y}.${u}`),this}match(l){return Object.entries(l).forEach(([u,h])=>{this.url.searchParams.append(u,`eq.${h}`)}),this}not(l,u,h){return this.url.searchParams.append(l,`not.${u}.${h}`),this}or(l,{foreignTable:u,referencedTable:h=u}={}){const p=h?`${h}.or`:"or";return this.url.searchParams.append(p,`(${l})`),this}filter(l,u,h){return this.url.searchParams.append(l,`${u}.${h}`),this}}return Nr.default=s,Nr}var dh;function lf(){if(dh)return Sr;dh=1;var i=Sr&&Sr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Sr,"__esModule",{value:!0});const n=i(Vl());class s{constructor(l,{headers:u={},schema:h,fetch:p}){this.url=l,this.headers=new Headers(u),this.schema=h,this.fetch=p}select(l,{head:u=!1,count:h}={}){const p=u?"HEAD":"GET";let m=!1;const y=(l??"*").split("").map(g=>/\s/.test(g)&&!m?"":(g==='"'&&(m=!m),g)).join("");return this.url.searchParams.set("select",y),h&&this.headers.append("Prefer",`count=${h}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:u,defaultToNull:h=!0}={}){var p;const m="POST";if(u&&this.headers.append("Prefer",`count=${u}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const y=l.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(y.length>0){const g=[...new Set(y)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(l,{onConflict:u,ignoreDuplicates:h=!1,count:p,defaultToNull:m=!0}={}){var y;const g="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),p&&this.headers.append("Prefer",`count=${p}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const x=l.reduce((b,k)=>b.concat(Object.keys(k)),[]);if(x.length>0){const b=[...new Set(x)].map(k=>`"${k}"`);this.url.searchParams.set("columns",b.join(","))}}return new n.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(l,{count:u}={}){var h;const p="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:l}={}){var u;const h="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Sr.default=s,Sr}var hh;function Cg(){if(hh)return jr;hh=1;var i=jr&&jr.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(jr,"__esModule",{value:!0});const n=i(lf()),s=i(Vl());class o{constructor(u,{headers:h={},schema:p,fetch:m}={}){this.url=u,this.headers=new Headers(h),this.schemaName=p,this.fetch=m}from(u){const h=new URL(`${this.url}/${u}`);return new n.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new o(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,h={},{head:p=!1,get:m=!1,count:y}={}){var g;let x;const b=new URL(`${this.url}/rpc/${u}`);let k;p||m?(x=p?"HEAD":"GET",Object.entries(h).filter(([N,C])=>C!==void 0).map(([N,C])=>[N,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([N,C])=>{b.searchParams.append(N,C)})):(x="POST",k=h);const j=new Headers(this.headers);return y&&j.set("Prefer",`count=${y}`),new s.default({method:x,url:b,headers:j,schema:this.schemaName,body:k,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return jr.default=o,jr}var fh;function Tg(){if(fh)return Ze;fh=1;var i=Ze&&Ze.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.PostgrestError=Ze.PostgrestBuilder=Ze.PostgrestTransformBuilder=Ze.PostgrestFilterBuilder=Ze.PostgrestQueryBuilder=Ze.PostgrestClient=void 0;const n=i(Cg());Ze.PostgrestClient=n.default;const s=i(lf());Ze.PostgrestQueryBuilder=s.default;const o=i(Vl());Ze.PostgrestFilterBuilder=o.default;const l=i(af());Ze.PostgrestTransformBuilder=l.default;const u=i(of());Ze.PostgrestBuilder=u.default;const h=i(sf());return Ze.PostgrestError=h.default,Ze.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:h.default},Ze}var Pg=Tg();const Rg=Pm(Pg),{PostgrestClient:Ig,PostgrestQueryBuilder:zx,PostgrestFilterBuilder:Fx,PostgrestTransformBuilder:Bx,PostgrestBuilder:Wx,PostgrestError:Hx}=Rg;class Og{static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const o=s.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const o=this.getWebSocketConstructor();return new o(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Ag="2.15.5",Lg=`realtime-js/${Ag}`,$g="1.0.0",Sl=1e4,Mg=1e3,Dg=100;var Os;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Os||(Os={}));var Ge;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Ge||(Ge={}));var Dt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Dt||(Dt={}));var Nl;(function(i){i.websocket="websocket"})(Nl||(Nl={}));var Jn;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Jn||(Jn={}));class Ug{constructor(){this.HEADER_LENGTH=1}decode(n,s){return n.constructor===ArrayBuffer?s(this._binaryDecode(n)):s(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const s=new DataView(n),o=new TextDecoder;return this._decodeBroadcast(n,s,o)}_decodeBroadcast(n,s,o){const l=s.getUint8(1),u=s.getUint8(2);let h=this.HEADER_LENGTH+2;const p=o.decode(n.slice(h,h+l));h=h+l;const m=o.decode(n.slice(h,h+u));h=h+u;const y=JSON.parse(o.decode(n.slice(h,n.byteLength)));return{ref:null,topic:p,event:m,payload:y}}}class uf{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ie||(Ie={}));const ph=(i,n,s={})=>{var o;const l=(o=s.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(n).reduce((u,h)=>(u[h]=zg(h,i,n,l),u),{})},zg=(i,n,s,o)=>{const l=n.find(p=>p.name===i),u=l?.type,h=s[i];return u&&!o.includes(u)?cf(u,h):El(h)},cf=(i,n)=>{if(i.charAt(0)==="_"){const s=i.slice(1,i.length);return Hg(n,s)}switch(i){case Ie.bool:return Fg(n);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return Bg(n);case Ie.json:case Ie.jsonb:return Wg(n);case Ie.timestamp:return qg(n);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return El(n);default:return El(n)}},El=i=>i,Fg=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Bg=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},Wg=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(n){return console.log(`JSON parse error: ${n}`),i}return i},Hg=(i,n)=>{if(typeof i!="string")return i;const s=i.length-1,o=i[s];if(i[0]==="{"&&o==="}"){let u;const h=i.slice(1,s);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(p=>cf(n,p))}return i},qg=i=>typeof i=="string"?i.replace(" ","T"):i,df=i=>{let n=i;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")+"/api/broadcast"};class hl{constructor(n,s,o={},l=Sl){this.channel=n,this.event=s,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var o;return this._hasReceived(n)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(o=>o.status===n).forEach(o=>o.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var mh;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(mh||(mh={}));class As{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:u,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=As.syncState(this.state,l,u,h),this.pendingDiffs.forEach(m=>{this.state=As.syncDiff(this.state,m,u,h)}),this.pendingDiffs=[],p()}),this.channel._on(o.diff,{},l=>{const{onJoin:u,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=As.syncDiff(this.state,l,u,h),p())}),this.onJoin((l,u,h)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:h})}),this.onLeave((l,u,h)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,o,l){const u=this.cloneDeep(n),h=this.transformState(s),p={},m={};return this.map(u,(y,g)=>{h[y]||(m[y]=g)}),this.map(h,(y,g)=>{const x=u[y];if(x){const b=g.map(C=>C.presence_ref),k=x.map(C=>C.presence_ref),j=g.filter(C=>k.indexOf(C.presence_ref)<0),N=x.filter(C=>b.indexOf(C.presence_ref)<0);j.length>0&&(p[y]=j),N.length>0&&(m[y]=N)}else p[y]=g}),this.syncDiff(u,{joins:p,leaves:m},o,l)}static syncDiff(n,s,o,l){const{joins:u,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(u,(p,m)=>{var y;const g=(y=n[p])!==null&&y!==void 0?y:[];if(n[p]=this.cloneDeep(m),g.length>0){const x=n[p].map(k=>k.presence_ref),b=g.filter(k=>x.indexOf(k.presence_ref)<0);n[p].unshift(...b)}o(p,g,m)}),this.map(h,(p,m)=>{let y=n[p];if(!y)return;const g=m.map(x=>x.presence_ref);y=y.filter(x=>g.indexOf(x.presence_ref)<0),n[p]=y,l(p,y,m),y.length===0&&delete n[p]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(o=>s(o,n[o]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,o)=>{const l=n[o];return"metas"in l?s[o]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[o]=l,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gh;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(gh||(gh={}));var Ls;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Ls||(Ls={}));var sn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(sn||(sn={}));class Gl{constructor(n,s={config:{}},o){this.topic=n,this.params=s,this.socket=o,this.bindings={},this.state=Ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new hl(this,Dt.join,this.params,this.timeout),this.rejoinTimer=new uf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ge.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dt.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new As(this),this.broadcastEndpointURL=df(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(n,s=this.timeout){var o,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Ge.closed){const{config:{broadcast:h,presence:p,private:m}}=this.params,y=(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(k=>k.filter))!==null&&l!==void 0?l:[],g=!!this.bindings[Ls.PRESENCE]&&this.bindings[Ls.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,x={},b={broadcast:h,presence:Object.assign(Object.assign({},p),{enabled:g}),postgres_changes:y,private:m};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(k=>n?.(sn.CHANNEL_ERROR,k)),this._onClose(()=>n?.(sn.CLOSED)),this.updateJoinPayload(Object.assign({config:b},x)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:k})=>{var j;if(this.socket.setAuth(),k===void 0){n?.(sn.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,C=(j=N?.length)!==null&&j!==void 0?j:0,$=[];for(let T=0;T<C;T++){const A=N[T],{filter:{event:B,schema:H,table:L,filter:K}}=A,V=k&&k[T];if(V&&V.event===B&&V.schema===H&&V.table===L&&V.filter===K)$.push(Object.assign(Object.assign({},A),{id:V.id}));else{this.unsubscribe(),this.state=Ge.errored,n?.(sn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=$,n&&n(sn.SUBSCRIBED);return}}).receive("error",k=>{this.state=Ge.errored,n?.(sn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(k).join(", ")||"error")))}).receive("timeout",()=>{n?.(sn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,o){return this.state===Ge.joined&&n===Ls.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,s,o)}async send(n,s={}){var o,l;if(!this._canPush()&&n.type==="broadcast"){const{event:u,payload:h}=n,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=y.body)===null||l===void 0?void 0:l.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,p,m;const y=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),y.receive("ok",()=>u("ok")),y.receive("error",()=>u("error")),y.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Ge.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dt.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new hl(this,Dt.leave,{},n),o.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ge.closed,this.bindings={}}async _fetchWithTimeout(n,s,o){const l=new AbortController,u=setTimeout(()=>l.abort(),o),h=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(u),h}_push(n,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new hl(this,n,s,o);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Dg){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,o){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,o){var l,u;const h=n.toLocaleLowerCase(),{close:p,error:m,leave:y,join:g}=Dt;if(o&&[p,m,y,g].indexOf(h)>=0&&o!==this._joinRef())return;let b=this._onMessage(h,s,o);if(s&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(k=>{var j,N,C;return((j=k.filter)===null||j===void 0?void 0:j.event)==="*"||((C=(N=k.filter)===null||N===void 0?void 0:N.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===h}).map(k=>k.callback(b,o)):(u=this.bindings[h])===null||u===void 0||u.filter(k=>{var j,N,C,$,T,A;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in k){const B=k.id,H=(j=k.filter)===null||j===void 0?void 0:j.event;return B&&((N=s.ids)===null||N===void 0?void 0:N.includes(B))&&(H==="*"||H?.toLocaleLowerCase()===((C=s.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const B=(T=($=k?.filter)===null||$===void 0?void 0:$.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return B==="*"||B===((A=s?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===h}).map(k=>{if(typeof b=="object"&&"ids"in b){const j=b.data,{schema:N,table:C,commit_timestamp:$,type:T,errors:A}=j;b=Object.assign(Object.assign({},{schema:N,table:C,commit_timestamp:$,eventType:T,new:{},old:{},errors:A}),this._getPayloadRecords(j))}k.callback(b,o)})}_isClosed(){return this.state===Ge.closed}_isJoined(){return this.state===Ge.joined}_isJoining(){return this.state===Ge.joining}_isLeaving(){return this.state===Ge.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,o){const l=n.toLocaleLowerCase(),u={type:l,filter:s,callback:o};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(n,s){const o=n.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&Gl.isEqual(l.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const o in n)if(n[o]!==s[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Dt.close,{},n)}_onError(n){this._on(Dt.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ge.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=ph(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=ph(n.columns,n.old_record)),s}}const fl=()=>{},eo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Vg=[1e3,2e3,5e3,1e4],Gg=1e4,Kg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Jg{constructor(n,s){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Sl,this.transport=null,this.heartbeatIntervalMs=eo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fl,this.ref=0,this.reconnectTimer=null,this.logger=fl,this.conn=null,this.sendBuffer=[],this.serializer=new Ug,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let u;return l?u=l:typeof fetch>"u"?u=(...h)=>Yn(async()=>{const{default:p}=await Promise.resolve().then(()=>Hr);return{default:p}},void 0).then(({default:p})=>p(...h)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...h)=>u(...h)},!(!((o=s?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${Nl.websocket}`,this.httpEndpoint=df(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Og.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$g}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},n?this.conn.close(n,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,o){this.logger(n,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Os.connecting:return Jn.Connecting;case Os.open:return Jn.Open;case Os.closing:return Jn.Closing;default:return Jn.Closed}}isConnected(){return this.connectionState()===Jn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const o=`realtime:${n}`,l=this.getChannels().find(u=>u.topic===o);if(l)return l;{const u=new Gl(`realtime:${n}`,s,this);return this.channels.push(u),u}}push(n){const{topic:s,event:o,payload:l,ref:u}=n,h=()=>{this.encode(n,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${s} ${o} (${u})`,l),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Mg,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},eo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(o=>o.topic===n&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:l,payload:u,ref:h}=s,p=h?`(${h})`:"",m=u.status||"";this.log("receive",`${m} ${o} ${l} ${p}`.trim(),u),this.channels.filter(y=>y._isMember(o)).forEach(y=>y._trigger(l,u,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Dt.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const o=n.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${n}${o}${l}`}_workerObjectUrl(n){let s;if(n)s=n;else{const o=new Blob([Kg],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s;n?s=n:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const l={access_token:s,version:Lg};s&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(Dt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(o=>{try{o(s)}catch(l){this.log("error",`error in ${n} callback`,l)}})}catch(o){this.log("error",`error triggering ${n} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new uf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},eo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,o,l,u,h,p,m,y,g;if(this.transport=(s=n?.transport)!==null&&s!==void 0?s:null,this.timeout=(o=n?.timeout)!==null&&o!==void 0?o:Sl,this.heartbeatIntervalMs=(l=n?.heartbeatIntervalMs)!==null&&l!==void 0?l:eo.HEARTBEAT_INTERVAL,this.worker=(u=n?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(h=n?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(p=n?.heartbeatCallback)!==null&&p!==void 0?p:fl,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=n?.reconnectAfterMs)!==null&&m!==void 0?m:(x=>Vg[x-1]||Gg),this.encode=(y=n?.encode)!==null&&y!==void 0?y:((x,b)=>b(JSON.stringify(x))),this.decode=(g=n?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class Kl extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Ke(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class Qg extends Kl{constructor(n,s,o){super(n),this.name="StorageApiError",this.status=s,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Cl extends Kl{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}var Yg=function(i,n,s,o){function l(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function p(g){try{y(o.next(g))}catch(x){h(x)}}function m(g){try{y(o.throw(g))}catch(x){h(x)}}function y(g){g.done?u(g.value):l(g.value).then(p,m)}y((o=o.apply(i,n||[])).next())})};const hf=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...s)=>Yn(async()=>{const{default:o}=await Promise.resolve().then(()=>Hr);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)},Zg=()=>Yg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yn(()=>Promise.resolve().then(()=>Hr),void 0)).Response:Response}),Tl=i=>{if(Array.isArray(i))return i.map(s=>Tl(s));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([s,o])=>{const l=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[l]=Tl(o)}),n},Xg=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)};var Zn=function(i,n,s,o){function l(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function p(g){try{y(o.next(g))}catch(x){h(x)}}function m(g){try{y(o.throw(g))}catch(x){h(x)}}function y(g){g.done?u(g.value):l(g.value).then(p,m)}y((o=o.apply(i,n||[])).next())})};const pl=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),ev=(i,n,s)=>Zn(void 0,void 0,void 0,function*(){const o=yield Zg();i instanceof o&&!s?.noResolveJson?i.json().then(l=>{const u=i.status||500,h=l?.statusCode||u+"";n(new Qg(pl(l),u,h))}).catch(l=>{n(new Cl(pl(l),l))}):n(new Cl(pl(i),i))}),tv=(i,n,s,o)=>{const l={method:i,headers:n?.headers||{}};return i==="GET"||!o?l:(Xg(o)?(l.headers=Object.assign({"Content-Type":"application/json"},n?.headers),l.body=JSON.stringify(o)):l.body=o,n?.duplex&&(l.duplex=n.duplex),Object.assign(Object.assign({},l),s))};function Bs(i,n,s,o,l,u){return Zn(this,void 0,void 0,function*(){return new Promise((h,p)=>{i(s,tv(n,o,l,u)).then(m=>{if(!m.ok)throw m;return o?.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>ev(m,p,o))})})}function ao(i,n,s,o){return Zn(this,void 0,void 0,function*(){return Bs(i,"GET",n,s,o)})}function qt(i,n,s,o,l){return Zn(this,void 0,void 0,function*(){return Bs(i,"POST",n,o,l,s)})}function Pl(i,n,s,o,l){return Zn(this,void 0,void 0,function*(){return Bs(i,"PUT",n,o,l,s)})}function nv(i,n,s,o){return Zn(this,void 0,void 0,function*(){return Bs(i,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),o)})}function ff(i,n,s,o,l){return Zn(this,void 0,void 0,function*(){return Bs(i,"DELETE",n,o,l,s)})}var lt=function(i,n,s,o){function l(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function p(g){try{y(o.next(g))}catch(x){h(x)}}function m(g){try{y(o.throw(g))}catch(x){h(x)}}function y(g){g.done?u(g.value):l(g.value).then(p,m)}y((o=o.apply(i,n||[])).next())})};const rv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sv{constructor(n,s={},o,l){this.shouldThrowOnError=!1,this.url=n,this.headers=s,this.bucketId=o,this.fetch=hf(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,s,o,l){return lt(this,void 0,void 0,function*(){try{let u;const h=Object.assign(Object.assign({},vh),l);let p=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&o instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",o)):typeof FormData<"u"&&o instanceof FormData?(u=o,u.append("cacheControl",h.cacheControl),m&&u.append("metadata",this.encodeMetadata(m))):(u=o,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,m&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),l?.headers&&(p=Object.assign(Object.assign({},p),l.headers));const y=this._removeEmptyFolders(s),g=this._getFinalPath(y),x=yield(n=="PUT"?Pl:qt)(this.fetch,`${this.url}/object/${g}`,u,Object.assign({headers:p},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:x.Id,fullPath:x.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ke(u))return{data:null,error:u};throw u}})}upload(n,s,o){return lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,o)})}uploadToSignedUrl(n,s,o,l){return lt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),h=this._getFinalPath(u),p=new URL(this.url+`/object/upload/sign/${h}`);p.searchParams.set("token",s);try{let m;const y=Object.assign({upsert:vh.upsert},l),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&o instanceof Blob?(m=new FormData,m.append("cacheControl",y.cacheControl),m.append("",o)):typeof FormData<"u"&&o instanceof FormData?(m=o,m.append("cacheControl",y.cacheControl)):(m=o,g["cache-control"]=`max-age=${y.cacheControl}`,g["content-type"]=y.contentType);const x=yield Pl(this.fetch,p.toString(),m,{headers:g});return{data:{path:u,fullPath:x.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(Ke(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(n,s){return lt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n);const l=Object.assign({},this.headers);s?.upsert&&(l["x-upsert"]="true");const u=yield qt(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:l}),h=new URL(this.url+u.url),p=h.searchParams.get("token");if(!p)throw new Kl("No token returned by API");return{data:{signedUrl:h.toString(),path:n,token:p},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}update(n,s,o){return lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,o)})}move(n,s,o){return lt(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}})}copy(n,s,o){return lt(this,void 0,void 0,function*(){try{return{data:{path:(yield qt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}})}createSignedUrl(n,s,o){return lt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n),u=yield qt(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:s},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const h=o?.download?`&download=${o.download===!0?"":o.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}})}createSignedUrls(n,s,o){return lt(this,void 0,void 0,function*(){try{const l=yield qt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),u=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:l.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${u}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}})}download(n,s){return lt(this,void 0,void 0,function*(){const l=typeof s?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(s?.transform||{}),h=u?`?${u}`:"";try{const p=this._getFinalPath(n);return{data:yield(yield ao(this.fetch,`${this.url}/${l}/${p}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Ke(p))return{data:null,error:p};throw p}})}info(n){return lt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const o=yield ao(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Tl(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}exists(n){return lt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield nv(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o)&&o instanceof Cl){const l=o.originalError;if([400,404].includes(l?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(n,s){const o=this._getFinalPath(n),l=[],u=s?.download?`download=${s.download===!0?"":s.download}`:"";u!==""&&l.push(u);const p=typeof s?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(s?.transform||{});m!==""&&l.push(m);let y=l.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${o}${y}`)}}}remove(n){return lt(this,void 0,void 0,function*(){try{return{data:yield ff(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}list(n,s,o){return lt(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},rv),s),{prefix:n||""});return{data:yield qt(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},o),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ke(l))return{data:null,error:l};throw l}})}listV2(n,s){return lt(this,void 0,void 0,function*(){try{const o=Object.assign({},n);return{data:yield qt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const iv="2.12.1",ov={"X-Client-Info":`storage-js/${iv}`};var Tr=function(i,n,s,o){function l(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function p(g){try{y(o.next(g))}catch(x){h(x)}}function m(g){try{y(o.throw(g))}catch(x){h(x)}}function y(g){g.done?u(g.value):l(g.value).then(p,m)}y((o=o.apply(i,n||[])).next())})};class av{constructor(n,s={},o,l){this.shouldThrowOnError=!1;const u=new URL(n);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},ov),s),this.fetch=hf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Tr(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ke(n))return{data:null,error:n};throw n}})}getBucket(n){return Tr(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}createBucket(n,s={public:!1}){return Tr(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}updateBucket(n,s){return Tr(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ke(o))return{data:null,error:o};throw o}})}emptyBucket(n){return Tr(this,void 0,void 0,function*(){try{return{data:yield qt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}deleteBucket(n){return Tr(this,void 0,void 0,function*(){try{return{data:yield ff(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ke(s))return{data:null,error:s};throw s}})}}class lv extends av{constructor(n,s={},o,l){super(n,s,o,l)}from(n){return new sv(this.url,this.headers,n,this.fetch)}}const uv="2.57.4";let Is="";typeof Deno<"u"?Is="deno":typeof document<"u"?Is="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Is="react-native":Is="node";const cv={"X-Client-Info":`supabase-js-${Is}/${uv}`},dv={headers:cv},hv={schema:"public"},fv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pv={};var mv=function(i,n,s,o){function l(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function p(g){try{y(o.next(g))}catch(x){h(x)}}function m(g){try{y(o.throw(g))}catch(x){h(x)}}function y(g){g.done?u(g.value):l(g.value).then(p,m)}y((o=o.apply(i,n||[])).next())})};const gv=i=>{let n;return i?n=i:typeof fetch>"u"?n=nf:n=fetch,(...s)=>n(...s)},vv=()=>typeof Headers>"u"?rf:Headers,yv=(i,n,s)=>{const o=gv(s),l=vv();return(u,h)=>mv(void 0,void 0,void 0,function*(){var p;const m=(p=yield n())!==null&&p!==void 0?p:i;let y=new l(h?.headers);return y.has("apikey")||y.set("apikey",i),y.has("Authorization")||y.set("Authorization",`Bearer ${m}`),o(u,Object.assign(Object.assign({},h),{headers:y}))})};var xv=function(i,n,s,o){function l(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function p(g){try{y(o.next(g))}catch(x){h(x)}}function m(g){try{y(o.throw(g))}catch(x){h(x)}}function y(g){g.done?u(g.value):l(g.value).then(p,m)}y((o=o.apply(i,n||[])).next())})};function wv(i){return i.endsWith("/")?i:i+"/"}function bv(i,n){var s,o;const{db:l,auth:u,realtime:h,global:p}=i,{db:m,auth:y,realtime:g,global:x}=n,b={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},y),u),realtime:Object.assign(Object.assign({},g),h),storage:{},global:Object.assign(Object.assign(Object.assign({},x),p),{headers:Object.assign(Object.assign({},(s=x?.headers)!==null&&s!==void 0?s:{}),(o=p?.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>xv(this,void 0,void 0,function*(){return""})};return i.accessToken?b.accessToken=i.accessToken:delete b.accessToken,b}function _v(i){const n=i?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wv(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const pf="2.71.1",Lr=30*1e3,Rl=3,ml=Rl*Lr,kv="http://localhost:9999",jv="supabase.auth.token",Sv={"X-Client-Info":`gotrue-js/${pf}`},Il="X-Supabase-Api-Version",mf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Nv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ev=600*1e3;class Jl extends Error{constructor(n,s,o){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function ce(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Cv extends Jl{constructor(n,s,o){super(n,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function Tv(i){return ce(i)&&i.name==="AuthApiError"}class gf extends Jl{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class In extends Jl{constructor(n,s,o,l){super(n,o,l),this.name=s,this.status=o}}class Tn extends In{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Pv(i){return ce(i)&&i.name==="AuthSessionMissingError"}class to extends In{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class no extends In{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class ro extends In{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Rv(i){return ce(i)&&i.name==="AuthImplicitGrantRedirectError"}class yh extends In{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ol extends In{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function gl(i){return ce(i)&&i.name==="AuthRetryableFetchError"}class xh extends In{constructor(n,s,o){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class Al extends In{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const lo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wh=` 	
\r=`.split(""),Iv=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<wh.length;n+=1)i[wh[n].charCodeAt(0)]=-2;for(let n=0;n<lo.length;n+=1)i[lo[n].charCodeAt(0)]=n;return i})();function bh(i,n,s){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;s(lo[o]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;s(lo[o]),n.queuedBits-=6}}function vf(i,n,s){const o=Iv[i];if(o>-1)for(n.queue=n.queue<<6|o,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function _h(i){const n=[],s=h=>{n.push(String.fromCodePoint(h))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=h=>{Lv(h,o,s)};for(let h=0;h<i.length;h+=1)vf(i.charCodeAt(h),l,u);return n.join("")}function Ov(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Av(i,n){for(let s=0;s<i.length;s+=1){let o=i.charCodeAt(s);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(i.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}Ov(o,n)}}function Lv(i,n,s){if(n.utf8seq===0){if(i<=127){s(i);return}for(let o=1;o<6;o+=1)if((i>>7-o&1)===0){n.utf8seq=o;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function $v(i){const n=[],s={queue:0,queuedBits:0},o=l=>{n.push(l)};for(let l=0;l<i.length;l+=1)vf(i.charCodeAt(l),s,o);return new Uint8Array(n)}function Mv(i){const n=[];return Av(i,s=>n.push(s)),new Uint8Array(n)}function Dv(i){const n=[],s={queue:0,queuedBits:0},o=l=>{n.push(l)};return i.forEach(l=>bh(l,s,o)),bh(null,s,o),n.join("")}function Uv(i){return Math.round(Date.now()/1e3)+i}function zv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const n=Math.random()*16|0;return(i=="x"?n:n&3|8).toString(16)})}const Mt=()=>typeof window<"u"&&typeof document<"u",Vn={tested:!1,writable:!1},yf=()=>{if(!Mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vn.tested)return Vn.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Vn.tested=!0,Vn.writable=!0}catch{Vn.tested=!0,Vn.writable=!1}return Vn.writable};function Fv(i){const n={},s=new URL(i);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,u)=>{n[u]=l})}catch{}return s.searchParams.forEach((o,l)=>{n[l]=o}),n}const xf=i=>{let n;return i?n=i:typeof fetch>"u"?n=(...s)=>Yn(async()=>{const{default:o}=await Promise.resolve().then(()=>Hr);return{default:o}},void 0).then(({default:o})=>o(...s)):n=fetch,(...s)=>n(...s)},Bv=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",$r=async(i,n,s)=>{await i.setItem(n,JSON.stringify(s))},Gn=async(i,n)=>{const s=await i.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Cn=async(i,n)=>{await i.removeItem(n)};class ho{constructor(){this.promise=new ho.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}ho.promiseConstructor=Promise;function vl(i){const n=i.split(".");if(n.length!==3)throw new Al("Invalid JWT structure");for(let o=0;o<n.length;o++)if(!Nv.test(n[o]))throw new Al("JWT not in base64url format");return{header:JSON.parse(_h(n[0])),payload:JSON.parse(_h(n[1])),signature:$v(n[2]),raw:{header:n[0],payload:n[1]}}}async function Wv(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function Hv(i,n){return new Promise((o,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await i(u);if(!n(u,null,h)){o(h);return}}catch(h){if(!n(u,h)){l(h);return}}})()})}function qv(i){return("0"+i.toString(16)).substr(-2)}function Vv(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let l="";for(let u=0;u<56;u++)l+=s.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(n),Array.from(n,qv).join("")}async function Gv(i){const s=new TextEncoder().encode(i),o=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(o);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function Kv(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const s=await Gv(i);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pr(i,n,s=!1){const o=Vv();let l=o;s&&(l+="/PASSWORD_RECOVERY"),await $r(i,`${n}-code-verifier`,l);const u=await Kv(o);return[u,o===u?"plain":"s256"]}const Jv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Qv(i){const n=i.headers.get(Il);if(!n||!n.match(Jv))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Yv(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function Zv(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Xv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rr(i){if(!Xv.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yl(){const i={};return new Proxy(i,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kh(i){return JSON.parse(JSON.stringify(i))}var ey=function(i,n){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&n.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(i);l<o.length;l++)n.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(i,o[l])&&(s[o[l]]=i[o[l]]);return s};const Kn=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),ty=[502,503,504];async function jh(i){var n;if(!Bv(i))throw new Ol(Kn(i),0);if(ty.includes(i.status))throw new Ol(Kn(i),i.status);let s;try{s=await i.json()}catch(u){throw new gf(Kn(u),u)}let o;const l=Qv(i);if(l&&l.getTime()>=mf["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new xh(Kn(s),i.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(o==="session_not_found")throw new Tn}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new xh(Kn(s),i.status,s.weak_password.reasons);throw new Cv(Kn(s),i.status||500,o)}const ny=(i,n,s,o)=>{const l={method:i,headers:n?.headers||{}};return i==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),s))};async function pe(i,n,s,o){var l;const u=Object.assign({},o?.headers);u[Il]||(u[Il]=mf["2024-01-01"].name),o?.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const h=(l=o?.query)!==null&&l!==void 0?l:{};o?.redirectTo&&(h.redirect_to=o.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await ry(i,n,s+p,{headers:u,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(m):{data:Object.assign({},m),error:null}}async function ry(i,n,s,o,l,u){const h=ny(n,o,l,u);let p;try{p=await i(s,Object.assign({},h))}catch(m){throw console.error(m),new Ol(Kn(m),0)}if(p.ok||await jh(p),o?.noResolveJson)return p;try{return await p.json()}catch(m){await jh(m)}}function rn(i){var n;let s=null;ay(i)&&(s=Object.assign({},i),i.expires_at||(s.expires_at=Uv(i.expires_in)));const o=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:s,user:o},error:null}}function Sh(i){const n=rn(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(n.data.weak_password=i.weak_password),n}function Pn(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function sy(i){return{data:i,error:null}}function iy(i){const{action_link:n,email_otp:s,hashed_token:o,redirect_to:l,verification_type:u}=i,h=ey(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:s,hashed_token:o,redirect_to:l,verification_type:u},m=Object.assign({},h);return{data:{properties:p,user:m},error:null}}function oy(i){return i}function ay(i){return i.access_token&&i.refresh_token&&i.expires_in}const xl=["global","local","others"];var ly=function(i,n){var s={};for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&n.indexOf(o)<0&&(s[o]=i[o]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(i);l<o.length;l++)n.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(i,o[l])&&(s[o[l]]=i[o[l]]);return s};class uy{constructor({url:n="",headers:s={},fetch:o}){this.url=n,this.headers=s,this.fetch=xf(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,s=xl[0]){if(xl.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xl.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ce(o))return{data:null,error:o};throw o}}async inviteUserByEmail(n,s={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Pn})}catch(o){if(ce(o))return{data:{user:null},error:o};throw o}}async generateLink(n){try{const{options:s}=n,o=ly(n,["options"]),l=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(l.new_email=o?.newEmail,delete l.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:iy,redirectTo:s?.redirectTo})}catch(s){if(ce(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Pn})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,o,l,u,h,p,m;try{const y={nextPage:null,lastPage:0,total:0},g=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=n?.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=n?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:oy});if(g.error)throw g.error;const x=await g.json(),b=(h=g.headers.get("x-total-count"))!==null&&h!==void 0?h:0,k=(m=(p=g.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return k.length>0&&(k.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(j.split(";")[1].split("=")[1]);y[`${C}Page`]=N}),y.total=parseInt(b)),{data:Object.assign(Object.assign({},x),y),error:null}}catch(y){if(ce(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){Rr(n);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Pn})}catch(s){if(ce(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){Rr(n);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:Pn})}catch(o){if(ce(o))return{data:{user:null},error:o};throw o}}async deleteUser(n,s=!1){Rr(n);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:Pn})}catch(o){if(ce(o))return{data:{user:null},error:o};throw o}}async _listFactors(n){Rr(n.userId);try{const{data:s,error:o}=await pe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:o}}catch(s){if(ce(s))return{data:null,error:s};throw s}}async _deleteFactor(n){Rr(n.userId),Rr(n.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}}}function Nh(i={}){return{getItem:n=>i[n]||null,setItem:(n,s)=>{i[n]=s},removeItem:n=>{delete i[n]}}}function cy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ir={debug:!!(globalThis&&yf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wf extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class dy extends wf{}async function hy(i,n,s){Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const o=new globalThis.AbortController;return n>0&&setTimeout(()=>{o.abort(),Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,l.name);try{return await s()}finally{Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,l.name)}}else{if(n===0)throw Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new dy(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Ir.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}cy();const fy={url:kv,storageKey:jv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Eh(i,n,s){return await s()}const Or={};class Ms{constructor(n){var s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ms.nextInstanceID,Ms.nextInstanceID+=1,this.instanceID>0&&Mt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},fy),n);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new uy({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=xf(l.fetch),this.lock=l.lock||Eh,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:Mt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=hy:this.lock=Eh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:yf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nh(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Nh(this.memoryStorage)),Mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var n,s;return(s=(n=Or[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){Or[this.storageKey]=Object.assign(Object.assign({},Or[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=Or[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Or[this.storageKey]=Object.assign(Object.assign({},Or[this.storageKey]),{cachedAt:n})}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pf}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const s=Fv(window.location.href);let o="none";if(this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce"),Mt()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:u}=await this._getSessionFromURL(s,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Rv(u)){const m=(n=u.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:h,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ce(s)?{error:s}:{error:new gf("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,o,l;try{const u=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=n?.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=n?.options)===null||l===void 0?void 0:l.captchaToken}},xform:rn}),{data:h,error:p}=u;if(p||!h)return{data:{user:null,session:null},error:p};const m=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:y,session:m},error:null}}catch(u){if(ce(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(n){var s,o,l;try{let u;if("email"in n){const{email:g,password:x,options:b}=n;let k=null,j=null;this.flowType==="pkce"&&([k,j]=await Pr(this.storage,this.storageKey)),u=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:g,password:x,data:(s=b?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:k,code_challenge_method:j},xform:rn})}else if("phone"in n){const{phone:g,password:x,options:b}=n;u=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:x,data:(o=b?.data)!==null&&o!==void 0?o:{},channel:(l=b?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:rn})}else throw new no("You must provide either an email or phone number and a password");const{data:h,error:p}=u;if(p||!h)return{data:{user:null,session:null},error:p};const m=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:y,session:m},error:null}}catch(u){if(ce(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(n){try{let s;if("email"in n){const{email:u,password:h,options:p}=n;s=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Sh})}else if("phone"in n){const{phone:u,password:h,options:p}=n;s=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:Sh})}else throw new no("You must provide either an email or phone number and a password");const{data:o,error:l}=s;return l?{data:{user:null,session:null},error:l}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new to}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(s){if(ce(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(n){var s,o,l,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;if(s==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(n){var s,o,l,u,h,p,m,y,g,x,b,k;let j,N;if("message"in n)j=n.message,N=n.signature;else{const{chain:C,wallet:$,statement:T,options:A}=n;let B;if(Mt())if(typeof $=="object")B=$;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))B=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof $!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=$}const H=new URL((s=A?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in B&&B.signIn){const L=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),T?{statement:T}:null));let K;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")K=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)K=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)j=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),N=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${H.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(l=(o=A?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=A?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((h=A?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((p=A?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((m=A?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((y=A?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((x=(g=A?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||x===void 0)&&x.length?["Resources",...A.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const L=await B.signMessage(new TextEncoder().encode(j),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=L}}try{const{data:C,error:$}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:Dv(N)},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(k=n.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:rn});if($)throw $;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new to}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:$})}catch(C){if(ce(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(n){const s=await Gn(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(s??"").split("/");try{const{data:u,error:h}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:rn});if(await Cn(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new to}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:h})}catch(u){if(ce(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(n){try{const{options:s,provider:o,token:l,access_token:u,nonce:h}=n,p=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:rn}),{data:m,error:y}=p;return y?{data:{user:null,session:null},error:y}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new to}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:y})}catch(s){if(ce(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(n){var s,o,l,u,h;try{if("email"in n){const{email:p,options:m}=n;let y=null,g=null;this.flowType==="pkce"&&([y,g]=await Pr(this.storage,this.storageKey));const{error:x}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=m?.data)!==null&&s!==void 0?s:{},create_user:(o=m?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:y,code_challenge_method:g},redirectTo:m?.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in n){const{phone:p,options:m}=n,{data:y,error:g}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(h=m?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:y?.message_id},error:g}}throw new no("You must provide either an email or phone number.")}catch(p){if(ce(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(n){var s,o;try{let l,u;"options"in n&&(l=(s=n.options)===null||s===void 0?void 0:s.redirectTo,u=(o=n.options)===null||o===void 0?void 0:o.captchaToken);const{data:h,error:p}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:rn});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,y=h.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:y,session:m},error:null}}catch(l){if(ce(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(n){var s,o,l;try{let u=null,h=null;return this.flowType==="pkce"&&([u,h]=await Pr(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=n?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:sy})}catch(u){if(ce(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)throw o;if(!s)throw new Tn;const{error:l}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:l}})}catch(n){if(ce(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:o,type:l,options:u}=n,{error:h}=await pe(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in n){const{phone:o,type:l,options:u}=n,{data:h,error:p}=await pe(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:p}}throw new no("You must provide either an email or phone number and a type")}catch(s){if(ce(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await Gn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const o=n.expires_at?n.expires_at*1e3-Date.now()<ml:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){const h=await Gn(this.userStorage,this.storageKey+"-user");h?.user?n.user=h.user:n.user=yl()}if(this.storage.isServer&&n.user){let h=this.suppressGetSessionWarning;n=new Proxy(n,{get:(m,y,g)=>(!h&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,y,g))})}return{data:{session:n},error:null}}const{session:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{session:null},error:u}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Pn}):await this._useSession(async s=>{var o,l,u;const{data:h,error:p}=s;if(p)throw p;return!(!((o=h.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tn}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Pn})})}catch(s){if(ce(s))return Pv(s)&&(await this._removeSession(),await Cn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async o=>{const{data:l,error:u}=o;if(u)throw u;if(!l.session)throw new Tn;const h=l.session;let p=null,m=null;this.flowType==="pkce"&&n.email!=null&&([p,m]=await Pr(this.storage,this.storageKey));const{data:y,error:g}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:m}),jwt:h.access_token,xform:Pn});if(g)throw g;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(o){if(ce(o))return{data:{user:null},error:o};throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Tn;const s=Date.now()/1e3;let o=s,l=!0,u=null;const{payload:h}=vl(n.access_token);if(h.exp&&(o=h.exp,l=o<=s),l){const{session:p,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:m}=await this._getUser(n.access_token);if(m)throw m;u={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(s){if(ce(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var o;if(!n){const{data:h,error:p}=s;if(p)throw p;n=(o=h.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new Tn;const{session:l,error:u}=await this._callRefreshToken(n.refresh_token);return u?{data:{user:null,session:null},error:u}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ce(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(n,s){try{if(!Mt())throw new ro("No browser detected.");if(n.error||n.error_description||n.error_code)throw new ro(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new yh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ro("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new yh("No code detected.");const{data:T,error:A}=await this._exchangeCodeForSession(n.code);if(A)throw A;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:u,refresh_token:h,expires_in:p,expires_at:m,token_type:y}=n;if(!u||!p||!h||!y)throw new ro("No session defined in URL");const g=Math.round(Date.now()/1e3),x=parseInt(p);let b=g+x;m&&(b=parseInt(m));const k=b-g;k*1e3<=Lr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${x}s`);const j=b-x;g-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,b,g):g-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,b,g);const{data:N,error:C}=await this._getUser(u);if(C)throw C;const $={provider_token:o,provider_refresh_token:l,access_token:u,expires_in:x,expires_at:b,refresh_token:h,token_type:y,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:$,redirectType:n.type},error:null}}catch(o){if(ce(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await Gn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:l,error:u}=s;if(u)return{error:u};const h=(o=l.session)===null||o===void 0?void 0:o.access_token;if(h){const{error:p}=await this.admin.signOut(h,n);if(p&&!(Tv(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return n!=="others"&&(await this._removeSession(),await Cn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const s=zv(),o={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async s=>{var o,l;try{const{data:{session:u},error:h}=s;if(h)throw h;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,s={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Pr(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(ce(u))return{data:null,error:u};throw u}}async getUserIdentities(){var n;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}}async linkIdentity(n){var s;try{const{data:o,error:l}=await this._useSession(async u=>{var h,p,m,y,g;const{data:x,error:b}=u;if(b)throw b;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",k,{headers:this.headers,jwt:(g=(y=x.session)===null||y===void 0?void 0:y.access_token)!==null&&g!==void 0?g:void 0})});if(l)throw l;return Mt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(ce(o))return{data:{provider:n.provider,url:null},error:o};throw o}}async unlinkIdentity(n){try{return await this._useSession(async s=>{var o,l;const{data:u,error:h}=s;if(h)throw h;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(ce(s))return{data:null,error:s};throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await Hv(async l=>(l>0&&await Wv(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:rn})),(l,u)=>{const h=200*Math.pow(2,l);return u&&gl(u)&&Date.now()+h-o<Lr})}catch(o){if(this._debug(s,"error",o),ce(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",o),Mt()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await Gn(this.storage,this.storageKey);if(l&&this.userStorage){let h=await Gn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:l.user},await $r(this.userStorage,this.storageKey+"-user",h)),l.user=(n=h?.user)!==null&&n!==void 0?n:yl()}else if(l&&!l.user&&!l.user){const h=await Gn(this.storage,this.storageKey+"-user");h&&h?.user?(l.user=h.user,await Cn(this.storage,this.storageKey+"-user"),await $r(this.storage,this.storageKey,l)):l.user=yl()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const u=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<ml;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${ml}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:h}=await this._callRefreshToken(l.refresh_token);h&&(console.error(h),gl(h)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(l.access_token);!p&&h?.user?(l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(o,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var s,o;if(!n)throw new Tn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new ho;const{data:u,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!u.session)throw new Tn;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={session:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(l,"error",u),ce(u)){const h={session:null,error:u};return gl(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(n,s,o=!0){const l=`#_notifyAllSubscribers(${n})`;this._debug(l,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:s});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,s)}catch(m){u.push(m)}});if(await Promise.all(h),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const s=Object.assign({},n),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await $r(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const u=kh(l);await $r(this.storage,this.storageKey,u)}else{const l=kh(s);await $r(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await Cn(this.storage,this.storageKey),await Cn(this.storage,this.storageKey+"-code-verifier"),await Cn(this.storage,this.storageKey+"-user"),this.userStorage&&await Cn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Mt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Lr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-n)/Lr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Lr}ms, refresh threshold is ${Rl} ticks`),l<=Rl&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof wf)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,o){const l=[`provider=${encodeURIComponent(s)}`];if(o?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,h]=await Pr(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});l.push(p.toString())}if(o?.queryParams){const u=new URLSearchParams(o.queryParams);l.push(u.toString())}return o?.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${l.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var o;const{data:l,error:u}=s;return u?{data:null,error:u}:await pe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(ce(s))return{data:null,error:s};throw s}}async _enroll(n){try{return await this._useSession(async s=>{var o,l;const{data:u,error:h}=s;if(h)return{data:null,error:h};const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:m,error:y}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(o=u?.session)===null||o===void 0?void 0:o.access_token});return y?{data:null,error:y}:(n.factorType==="totp"&&(!((l=m?.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(s){if(ce(s))return{data:null,error:s};throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:u}=s;if(u)return{data:null,error:u};const{data:h,error:p}=await pe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:p})})}catch(s){if(ce(s))return{data:null,error:s};throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:u}=s;return u?{data:null,error:u}:await pe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(o=l?.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(ce(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(n){const{data:s,error:o}=await this._challenge({factorId:n.factorId});return o?{data:null,error:o}:await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o=n?.factors||[],l=o.filter(h=>h.factor_type==="totp"&&h.status==="verified"),u=o.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:o,totp:l,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var s,o;const{data:{session:l},error:u}=n;if(u)return{data:null,error:u};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=vl(l.access_token);let p=null;h.aal&&(p=h.aal);let m=p;((o=(s=l.user.factors)===null||s===void 0?void 0:s.filter(x=>x.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(m="aal2");const g=h.amr||[];return{data:{currentLevel:p,nextLevel:m,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(n,s={keys:[]}){let o=s.keys.find(p=>p.kid===n);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(p=>p.kid===n),o&&this.jwks_cached_at+Ev>l)return o;const{data:u,error:h}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,o=u.keys.find(p=>p.kid===n),!o)?null:o}async getClaims(n,s={}){try{let o=n;if(!o){const{data:k,error:j}=await this.getSession();if(j||!k.session)return{data:null,error:j};o=k.session.access_token}const{header:l,payload:u,signature:h,raw:{header:p,payload:m}}=vl(o);s?.allowExpired||Yv(u.exp);const y=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!y){const{error:k}=await this.getUser(o);if(k)throw k;return{data:{claims:u,header:l,signature:h},error:null}}const g=Zv(l.alg),x=await crypto.subtle.importKey("jwk",y,g,!0,["verify"]);if(!await crypto.subtle.verify(g,x,h,Mv(`${p}.${m}`)))throw new Al("Invalid JWT signature");return{data:{claims:u,header:l,signature:h},error:null}}catch(o){if(ce(o))return{data:null,error:o};throw o}}}Ms.nextInstanceID=0;const py=Ms;class my extends py{constructor(n){super(n)}}var gy=function(i,n,s,o){function l(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function p(g){try{y(o.next(g))}catch(x){h(x)}}function m(g){try{y(o.throw(g))}catch(x){h(x)}}function y(g){g.done?u(g.value):l(g.value).then(p,m)}y((o=o.apply(i,n||[])).next())})};class vy{constructor(n,s,o){var l,u,h;this.supabaseUrl=n,this.supabaseKey=s;const p=_v(n);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,y={db:hv,realtime:pv,auth:Object.assign(Object.assign({},fv),{storageKey:m}),global:dv},g=bv(o??{},y);this.storageKey=(l=g.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=g.global.headers)!==null&&u!==void 0?u:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(x,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=g.auth)!==null&&h!==void 0?h:{},this.headers,g.global.fetch),this.fetch=yv(s,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new Ig(new URL("rest/v1",p).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new lv(this.storageUrl.href,this.headers,this.fetch,o?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new _g(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},o={}){return this.rest.rpc(n,s,o)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,s;return gy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:o,storage:l,userStorage:u,storageKey:h,flowType:p,lock:m,debug:y},g,x){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new my({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),g),storageKey:h,autoRefreshToken:n,persistSession:s,detectSessionInUrl:o,storage:l,userStorage:u,flowType:p,lock:m,debug:y,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Jg(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,o)=>{this._handleTokenChanged(s,"CLIENT",o?.access_token)})}_handleTokenChanged(n,s,o){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yy=(i,n,s)=>new vy(i,n,s);function xy(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const n=i.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}xy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wy="https://sowihdefjgpagncacfhy.supabase.co",by="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNvd2loZGVmamdwYWduY2FjZmh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgxMjQ3MjksImV4cCI6MjA4MzcwMDcyOX0.XDE5-zoORpJVimoK6OfkZVi_M1q9Y6FGCZUeUhHOgGE",je=yy(wy,by),qx=Object.freeze(Object.defineProperty({__proto__:null,supabase:je},Symbol.toStringTag,{value:"Module"}));var _y={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ky=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),se=(i,n)=>{const s=_.forwardRef(({color:o="currentColor",size:l=24,strokeWidth:u=2,absoluteStrokeWidth:h,className:p="",children:m,...y},g)=>_.createElement("svg",{ref:g,..._y,width:l,height:l,stroke:o,strokeWidth:h?Number(u)*24/Number(l):u,className:["lucide",`lucide-${ky(i)}`,p].join(" "),...y},[...n.map(([x,b])=>_.createElement(x,b)),...Array.isArray(m)?m:[m]]));return s.displayName=`${i}`,s};const fo=se("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Ql=se("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const bf=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const jy=se("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);const Ds=se("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);const Ch=se("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const Qn=se("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const _f=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const kf=se("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const ut=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Sy=se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Th=se("Clapperboard",[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]]);const Yl=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Ny=se("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);const Ey=se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const Cy=se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Ty=se("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);const Ll=se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const Py=se("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const Ry=se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const jf=se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const Ph=se("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);const Iy=se("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);const Oy=se("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);const Rh=se("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Ih=se("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const Oh=se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const Ay=se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const Ly=se("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const $y=se("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);const Vt=se("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const My=se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const Dy=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Uy=se("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);const Sf=se("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);const Dr=se("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);const zy=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const Ur=se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const Nf=se("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const Fy=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Us=se("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);const By=se("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const Zl=se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const Wy=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const Hy=se("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const qy=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const Vy=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Ef=se("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);const Gy=se("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);const Ky=se("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);const Cf=se("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Jy=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Qy=se("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);const Yy=se("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function Zy({onAuthSuccess:i}){const[n,s]=_.useState("signin"),[o,l]=_.useState(""),[u,h]=_.useState(""),[p,m]=_.useState(!1),[y,g]=_.useState(""),x=async b=>{b.preventDefault(),m(!0),g("");try{if(n==="signup"){const{data:k,error:j}=await je.auth.signUp({email:o,password:u});if(j)throw j;k.user&&i(k.user.id)}else{const{data:k,error:j}=await je.auth.signInWithPassword({email:o,password:u});if(j)throw j;k.user&&i(k.user.id)}}catch(k){const j=k instanceof Error?k.message:"An error occurred";g(j)}finally{m(!1)}};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:[c.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[c.jsx("div",{className:"absolute top-1/4 -left-1/4 w-96 h-96 bg-blue-500/20 rounded-full blur-3xl"}),c.jsx("div",{className:"absolute bottom-1/4 -right-1/4 w-96 h-96 bg-cyan-500/20 rounded-full blur-3xl"})]}),c.jsxs("div",{className:"relative w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("img",{src:"https://res.cloudinary.com/dujh5xuoi/image/upload/v1754423073/%D8%AA%D8%B9%D9%84%D9%91%D9%85_AIFinal_edvr4e.png",alt:"Platform logo",className:"max-h-16 w-auto object-contain mx-auto mb-4"}),c.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Learning Hub"}),c.jsx("p",{className:"text-slate-400",children:"Master AI through interactive journeys"})]}),c.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl p-8 border border-white/10 shadow-xl",children:[c.jsxs("div",{className:"flex gap-2 p-1 bg-slate-800/50 rounded-lg mb-6",children:[c.jsx("button",{type:"button",onClick:()=>s("signin"),className:`flex-1 py-2.5 rounded-md text-sm font-medium transition-all ${n==="signin"?"bg-white text-slate-900":"text-slate-400 hover:text-white"}`,children:"Sign In"}),c.jsx("button",{type:"button",onClick:()=>s("signup"),className:`flex-1 py-2.5 rounded-md text-sm font-medium transition-all ${n==="signup"?"bg-white text-slate-900":"text-slate-400 hover:text-white"}`,children:"Sign Up"})]}),c.jsxs("form",{onSubmit:x,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(Dy,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),c.jsx("input",{type:"email",value:o,onChange:b=>l(b.target.value),placeholder:"you@example.com",required:!0,className:"w-full pl-12 pr-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(My,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),c.jsx("input",{type:"password",value:u,onChange:b=>h(b.target.value),placeholder:"Enter your password",required:!0,minLength:6,className:"w-full pl-12 pr-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]})]}),y&&c.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:[c.jsx(fo,{className:"w-4 h-4 flex-shrink-0"}),c.jsx("span",{children:y})]}),c.jsx("button",{type:"submit",disabled:p,className:"w-full flex items-center justify-center gap-2 py-3 bg-gradient-to-r from-blue-600 to-cyan-500 text-white font-medium rounded-xl hover:from-blue-700 hover:to-cyan-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-slate-900 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:p?c.jsx(Vt,{className:"w-5 h-5 animate-spin"}):c.jsxs(c.Fragment,{children:[n==="signin"?"Sign In":"Create Account",c.jsx(bf,{className:"w-5 h-5"})]})})]})]}),c.jsx("p",{className:"text-center text-slate-500 text-sm mt-6",children:"By continuing, you agree to our Terms of Service and Privacy Policy."})]})]})}function Xy(){const[i,n]=_.useState({enabled:!0,contentModel:"gpt-4o",helpModel:"gpt-4o-mini",isLoading:!0});_.useEffect(()=>{s()},[]);const s=async()=>{try{const{data:o,error:l}=await je.from("system_settings").select("setting_key, setting_value").in("setting_key",["ai_enabled","ai_content_model","ai_help_model"]);if(l){console.error("Error loading AI settings:",l),n(u=>({...u,isLoading:!1}));return}if(o){let u=!0,h="gpt-4o",p="gpt-4o-mini";o.forEach(m=>{switch(m.setting_key){case"ai_enabled":u=m.setting_value==="true";break;case"ai_content_model":h=m.setting_value;break;case"ai_help_model":p=m.setting_value;break}}),n({enabled:u,contentModel:h,helpModel:p,isLoading:!1})}}catch(o){console.error("Error loading AI settings:",o),n(l=>({...l,isLoading:!1}))}};return i}function Vx(){return c.jsxs("div",{className:"flex flex-col items-center justify-center p-8 bg-slate-800/50 rounded-xl border border-slate-700",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-500/20 flex items-center justify-center mb-4",children:c.jsx("svg",{className:"w-8 h-8 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),c.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"AI Features Disabled"}),c.jsx("p",{className:"text-slate-400 text-center max-w-md",children:"AI content generation has been disabled by the administrator. Contact your administrator to enable AI features."})]})}const Tf=_.createContext(null);function ex({children:i}){const[n,s]=_.useState([]),o=_.useCallback((u,h,p=4e3)=>{const m=`toast_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,y={id:m,type:u,message:h,duration:p};s(g=>[...g,y]),p>0&&setTimeout(()=>{s(g=>g.filter(x=>x.id!==m))},p)},[]),l=_.useCallback(u=>{s(h=>h.filter(p=>p.id!==u))},[]);return c.jsx(Tf.Provider,{value:{toasts:n,showToast:o,dismissToast:l},children:i})}function Xl(){const i=_.useContext(Tf);if(!i)throw new Error("useToast must be used within a ToastProvider");return i}function tx(i){switch(i){case"success":return c.jsx(_f,{className:"w-5 h-5"});case"error":return c.jsx(fo,{className:"w-5 h-5"});case"warning":return c.jsx(Ql,{className:"w-5 h-5"});default:return c.jsx(Ay,{className:"w-5 h-5"})}}function nx(i){switch(i){case"success":return"bg-emerald-500/20 border-emerald-500/30 text-emerald-300";case"error":return"bg-red-500/20 border-red-500/30 text-red-300";case"warning":return"bg-amber-500/20 border-amber-500/30 text-amber-300";default:return"bg-blue-500/20 border-blue-500/30 text-blue-300"}}function rx({toast:i,onDismiss:n}){const[s,o]=_.useState(!1),l=()=>{o(!0),setTimeout(n,200)};return c.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg border backdrop-blur-sm transition-all duration-200 ${s?"opacity-0 translate-x-4":"opacity-100 translate-x-0"} ${nx(i.type)}`,children:[tx(i.type),c.jsx("span",{className:"font-medium flex-1",children:i.message}),c.jsx("button",{onClick:l,className:"ml-2 opacity-60 hover:opacity-100 transition-opacity","aria-label":"Dismiss notification",children:c.jsx(Jy,{className:"w-4 h-4"})})]})}function sx(){const{toasts:i,dismissToast:n}=Xl();return i.length===0?null:c.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-2 max-w-md",children:i.map(s=>c.jsx(rx,{toast:s,onDismiss:()=>n(s.id)},s.id))})}const ix=_.memo(function({title:n,description:s,level:o,estimatedDuration:l,moduleCount:u,coverImage:h,progress:p=0,onStart:m,disabled:y=!1}){const g={beginner:"bg-emerald-100 text-emerald-700",intermediate:"bg-amber-100 text-amber-700",advanced:"bg-rose-100 text-rose-700"},x=p===100,b=p>0&&p<100,k=y?"Track not available":x?`Review track: ${n}`:b?`Continue track: ${n}`:`Start track: ${n}`;return c.jsxs("article",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden hover:shadow-md transition-shadow group","aria-labelledby":`track-title-${n.replace(/\s+/g,"-").toLowerCase()}`,children:[c.jsxs("div",{className:"aspect-video bg-gradient-to-br from-slate-800 to-slate-900 relative overflow-hidden",children:[h?c.jsx("img",{src:h,alt:"",className:"w-full h-full object-cover opacity-80","aria-hidden":"true"}):c.jsx("div",{className:"absolute inset-0 flex items-center justify-center","aria-hidden":"true",children:c.jsx("div",{className:"w-20 h-20 rounded-2xl bg-white/10 flex items-center justify-center backdrop-blur-sm",children:c.jsx(Ds,{className:"w-10 h-10 text-white/80"})})}),p>0&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-black/30",role:"progressbar","aria-valuenow":p,"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Progress: ${p}%`,children:c.jsx("div",{className:"h-full bg-emerald-500 transition-all duration-300",style:{width:`${p}%`}})}),c.jsx("div",{className:"absolute top-4 left-4",children:c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${g[o]}`,children:o.charAt(0).toUpperCase()+o.slice(1)})}),x&&c.jsx("div",{className:"absolute top-4 right-4","aria-label":"Completed",children:c.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500 flex items-center justify-center",children:c.jsx(Qn,{className:"w-5 h-5 text-white","aria-hidden":"true"})})})]}),c.jsxs("div",{className:"p-6",children:[c.jsx("h3",{id:`track-title-${n.replace(/\s+/g,"-").toLowerCase()}`,className:"text-xl font-bold text-slate-900 mb-2 group-hover:text-blue-600 transition-colors",children:n}),c.jsx("p",{className:"text-slate-600 text-sm mb-4 line-clamp-2",children:s}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500 mb-4","aria-label":"Track details",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(Yl,{className:"w-4 h-4","aria-hidden":"true"}),c.jsxs("span",{children:[l," min"]})]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(Ds,{className:"w-4 h-4","aria-hidden":"true"}),c.jsxs("span",{children:[u," ",u===1?"module":"modules"]})]})]}),c.jsx("button",{onClick:m,disabled:y,"aria-label":k,className:`w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl font-medium transition-all focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${y?"bg-slate-200 text-slate-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:y?"Not Available":x?c.jsxs(c.Fragment,{children:["Review",c.jsx(ut,{className:"w-5 h-5","aria-hidden":"true"})]}):b?c.jsxs(c.Fragment,{children:["Continue",c.jsx(Dr,{className:"w-5 h-5","aria-hidden":"true"})]}):c.jsxs(c.Fragment,{children:["Start Learning",c.jsx(Dr,{className:"w-5 h-5","aria-hidden":"true"})]})})]})]})});function Ah(i,n){const s=n[i.fact],o=i.value;switch(i.op){case"eq":return s===o;case"neq":return s!==o;case"gt":return typeof s=="number"&&typeof o=="number"&&s>o;case"gte":return typeof s=="number"&&typeof o=="number"&&s>=o;case"lt":return typeof s=="number"&&typeof o=="number"&&s<o;case"lte":return typeof s=="number"&&typeof o=="number"&&s<=o;case"contains":return Array.isArray(s)||typeof s=="string"&&typeof o=="string"?s.includes(o):!1;case"in":return Array.isArray(o)?o.includes(s):!1;default:return!1}}function $l(i,n){return i.all?i.all.every(s=>"fact"in s?Ah(s,n):$l(s,n)):i.any?i.any.some(s=>"fact"in s?Ah(s,n):$l(s,n)):!0}function ox(i,n){return i.condition?$l(i.condition,n):!0}function ax(i,n,s){const o=n.filter(u=>u.from===i).sort((u,h)=>(h.priority??0)-(u.priority??0));for(const u of o)if(ox(u,s))return u.to;return o.find(u=>!u.condition)?.to??null}function Lh(i,n){const s={};if(i.score!==void 0&&i.score!==null&&(s["quiz.scorePercent"]=i.score),i.weak_topics&&i.weak_topics.length>0&&(s["quiz.weakTopics"]=i.weak_topics),n?.questions){const o=n.questions.length;s["quiz.totalCount"]=o,i.score!==void 0&&i.score!==null&&(s["quiz.correctCount"]=Math.round(i.score/100*o))}return i.attempts_count!==void 0&&(s["block.attemptsCount"]=i.attempts_count),i.time_spent_seconds!==void 0&&(s["block.timeSpentSeconds"]=i.time_spent_seconds),i.status&&(s["block.status"]=i.status),i.output_json&&Object.entries(i.output_json).forEach(([o,l])=>{s[`output.${o}`]=l}),s}const Pf=_.createContext({direction:"ltr",isRTL:!1,primaryLanguage:"en",textAlign:"text-left",flexDirection:"flex-row",marginStart:"ml",marginEnd:"mr",paddingStart:"pl",paddingEnd:"pr"});function lx({direction:i,primaryLanguage:n="en",children:s}){const o=i==="rtl",l={direction:i,isRTL:o,primaryLanguage:n,textAlign:o?"text-right":"text-left",flexDirection:o?"flex-row-reverse":"flex-row",marginStart:o?"mr":"ml",marginEnd:o?"ml":"mr",paddingStart:o?"pr":"pl",paddingEnd:o?"pl":"pr"};return c.jsx(Pf.Provider,{value:l,children:c.jsx("div",{dir:i,className:o?"font-arabic":"",children:s})})}function ux(){return _.useContext(Pf)}function cx({term:i,contextSnippet:n,trackId:s,moduleId:o}){const[l,u]=_.useState(!1),[h,p]=_.useState(null),[m,y]=_.useState(!1),[g,x]=_.useState(null),[b,k]=_.useState(null),j=_.useRef(null),N=_.useRef(null);_.useEffect(()=>{if(l&&j.current){const T=j.current.getBoundingClientRect(),A=window.innerHeight,B=150,L=A-T.bottom<B&&T.top>B;k({top:L?T.top-B-8:T.bottom+8,left:Math.max(16,Math.min(T.left,window.innerWidth-280)),arrowPosition:L?"bottom":"top"})}},[l]),_.useEffect(()=>{const T=A=>{N.current&&!N.current.contains(A.target)&&j.current&&!j.current.contains(A.target)&&u(!1)};return l&&(document.addEventListener("mousedown",T),document.addEventListener("touchstart",T)),()=>{document.removeEventListener("mousedown",T),document.removeEventListener("touchstart",T)}},[l]);const C=async()=>{if(!h){y(!0),x(null);try{const T=await fetch("https://sowihdefjgpagncacfhy.supabase.co/functions/v1/glossary-explain",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNvd2loZGVmamdwYWduY2FjZmh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgxMjQ3MjksImV4cCI6MjA4MzcwMDcyOX0.XDE5-zoORpJVimoK6OfkZVi_M1q9Y6FGCZUeUhHOgGE"},body:JSON.stringify({term:i,contextSnippet:n,trackId:s,moduleId:o})});if(!T.ok)throw new Error("Failed to fetch explanation");const A=await T.json();p(A.explanation)}catch(T){x("  "),console.error("Glossary fetch error:",T)}finally{y(!1)}}},$=()=>{u(!l),!l&&!h&&C()};return c.jsxs(c.Fragment,{children:[c.jsx("span",{ref:j,className:"english-term",onClick:$,onKeyDown:T=>T.key==="Enter"&&$(),role:"button",tabIndex:0,"aria-expanded":l,"aria-haspopup":"dialog",children:i}),l&&b&&c.jsxs("div",{ref:N,className:"glossary-popup fixed",style:{top:b.top,left:b.left,width:"260px"},role:"dialog","aria-label":` ${i}`,children:[c.jsx("div",{className:"glossary-popup-arrow",style:{[b.arrowPosition==="top"?"top":"bottom"]:"-6px",left:"20px",transform:b.arrowPosition==="top"?"rotate(45deg)":"rotate(225deg)"}}),c.jsxs("div",{className:"flex items-center gap-2 mb-2 pb-2 border-b border-slate-700",children:[c.jsx(Ds,{className:"w-4 h-4 text-blue-400"}),c.jsx("span",{className:"font-english text-blue-300 font-medium",children:i})]}),c.jsxs("div",{className:"arabic-content text-sm",children:[m&&c.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[c.jsx(Vt,{className:"w-4 h-4 animate-spin"}),c.jsx("span",{children:" ..."})]}),g&&c.jsx("div",{className:"text-red-400 text-sm",children:g}),h&&!m&&c.jsx("p",{className:"text-slate-200 leading-relaxed",children:h})]})]})]})}const dx=/\b([A-Za-z][A-Za-z0-9]*(?:\s+[A-Za-z][A-Za-z0-9]*){0,3})\b/g,hx=new Set(["a","an","the","is","are","was","were","be","been","being","have","has","had","do","does","did","will","would","could","should","may","might","must","shall","can","need","dare","ought","used","to","of","in","for","on","with","at","by","from","up","about","into","over","after","and","or","but","if","then","else","when","where","why","how","all","each","every","both","few","more","most","other","some","such","no","nor","not","only","own","same","so","than","too","very","just","also","now","here","there","this","that","these","those","i","you","he","she","it","we","they","me","him","her","us","them","my","your","his","its","our","their","what","which","who","whom"]),fx=[/^[A-Z]{2,}$/,/^[A-Z][a-z]+[A-Z]/,/\d/,/^(API|SDK|UI|UX|CSS|HTML|JS|JSON|XML|SQL|HTTP|REST|GraphQL|Git|npm|AI|ML|GPT|LLM|RAG|NLP|CNN|RNN|LSTM|GAN|VAE|RL|DL|IoT|AWS|GCP|Azure|Docker|K8s|Kubernetes|React|Vue|Angular|Node|Python|Java|Go|Rust|Swift|Kotlin|TypeScript|JavaScript|PHP|Ruby|Scala|Clojure|Haskell|Elixir|Erlang|C|CPP|CSharp|FSharp|VB|Perl|Lua|Dart|Flutter|Android|iOS|macOS|Windows|Linux|Unix|Ubuntu|Debian|Fedora|CentOS|RedHat|SUSE|Arch|Alpine|Mint|Elementary|Pop|Manjaro|Kali|Parrot|BlackArch|Tails|Qubes|Whonix)$/i];function px(i){const n=i.toLowerCase();if(hx.has(n)||i.length<2)return!1;for(const s of fx)if(s.test(i))return!0;return!!(i.length>=4&&/^[A-Z]/.test(i))}function mx(i,n,s){const l=Math.max(0,n-100),u=Math.min(i.length,n+s+100);let h=i.slice(l,u);return l>0&&(h="..."+h),u<i.length&&(h=h+"..."),h}function gx({children:i,trackId:n,moduleId:s,className:o=""}){const l=_.useMemo(()=>{const u=i,h=[];let p=0;const m=[...u.matchAll(dx)];for(const y of m){const g=y[1],x=y.index;if(!px(g))continue;x>p&&h.push(u.slice(p,x));const b=mx(u,x,g.length);h.push(c.jsx(cx,{term:g,contextSnippet:b,trackId:n,moduleId:s},`${g}-${x}`)),p=x+g.length}return p<u.length&&h.push(u.slice(p)),h.length>0?h:u},[i,n,s]);return c.jsx("div",{className:`arabic-content ${o}`,children:l})}function vx({content:i,onComplete:n,isCompleted:s,trackId:o,moduleId:l}){const{isRTL:u,direction:h,primaryLanguage:p}=ux(),[m,y]=_.useState(0),[g,x]=_.useState(!1);_.useEffect(()=>{const C=document.getElementById("read-content-scroll");if(!C)return;const $=()=>{C.scrollHeight<=C.clientHeight&&(x(!0),y(100))},T=()=>{const A=C.scrollHeight-C.clientHeight;if(A<=0){x(!0),y(100);return}const B=C.scrollTop/A*100;y(Math.min(100,B)),B>=90&&x(!0)};return $(),C.addEventListener("scroll",T),window.addEventListener("resize",$),()=>{C.removeEventListener("scroll",T),window.removeEventListener("resize",$)}},[i.markdown]);const b=C=>{const $=C.split(`
`),T=[];let A=!1,B="";return $.forEach((H,L)=>{if(H.startsWith("```")){A?(T.push(c.jsx("pre",{className:"bg-slate-900 text-slate-100 p-4 rounded-lg overflow-x-auto my-4 text-sm font-mono",children:c.jsx("code",{children:B})},`code-${L}`)),B="",A=!1):(A=!0,H.slice(3));return}if(A){B+=(B?`
`:"")+H;return}if(H.startsWith("### "))T.push(c.jsx("h3",{className:"text-lg font-semibold text-slate-800 mt-6 mb-3",children:H.slice(4)},L));else if(H.startsWith("## "))T.push(c.jsx("h2",{className:"text-xl font-bold text-slate-900 mt-8 mb-4",children:H.slice(3)},L));else if(H.startsWith("# "))T.push(c.jsx("h1",{className:"text-2xl font-bold text-slate-900 mt-8 mb-4",children:H.slice(2)},L));else if(H.startsWith("- ")||H.startsWith("* "))T.push(c.jsx("li",{className:"text-slate-700 ml-4 mb-2 list-disc",children:j(H.slice(2))},L));else if(H.match(/^\d+\. /)){const K=H.replace(/^\d+\. /,"");T.push(c.jsx("li",{className:"text-slate-700 ml-4 mb-2 list-decimal",children:j(K)},L))}else H.startsWith("> ")?T.push(c.jsx("blockquote",{className:"border-l-4 border-blue-500 pl-4 py-2 my-4 bg-blue-50 text-slate-700 italic",children:j(H.slice(2))},L)):H.trim()===""?T.push(c.jsx("div",{className:"h-4"},L)):T.push(c.jsx("p",{className:"text-slate-700 leading-relaxed mb-4",children:j(H)},L))}),T},k=(C,$)=>u&&typeof C=="string"?c.jsx(gx,{trackId:o,moduleId:l,className:"inline",children:C},$):C,j=C=>{const $=[];let T=C,A=0;for(;T.length>0;){const B=T.match(/\*\*(.+?)\*\*/),H=T.match(/\*(.+?)\*/),L=T.match(/`(.+?)`/),K=T.match(/\[(.+?)\]\((.+?)\)/),V=[B?{type:"bold",match:B,index:B.index}:null,H?{type:"italic",match:H,index:H.index}:null,L?{type:"code",match:L,index:L.index}:null,K?{type:"link",match:K,index:K.index}:null].filter(Boolean).sort((F,Y)=>F.index-Y.index);if(V.length===0){$.push(u?k(T,A++):T);break}const D=V[0];if(D.index>0){const F=T.slice(0,D.index);$.push(u?k(F,A++):F)}switch(D.type){case"bold":$.push(c.jsx("strong",{className:"font-semibold text-slate-900",children:u?k(D.match[1],A++):D.match[1]},A++)),T=T.slice(D.index+D.match[0].length);break;case"italic":$.push(c.jsx("em",{className:"italic",children:u?k(D.match[1],A++):D.match[1]},A++)),T=T.slice(D.index+D.match[0].length);break;case"code":$.push(c.jsx("code",{className:"bg-slate-100 px-1.5 py-0.5 rounded text-sm font-mono text-slate-800",children:D.match[1]},A++)),T=T.slice(D.index+D.match[0].length);break;case"link":$.push(c.jsx("a",{href:D.match[2],target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:D.match[1]},A++)),T=T.slice(D.index+D.match[0].length);break}}return $},N={continue:u?"":"Continue",complete:u?" ":"Mark as Complete",scroll:u?"  ":"Scroll to continue",minRead:u?" ":"min read"};return c.jsxs("div",{className:"flex flex-col h-full bg-white",dir:h,children:[c.jsxs("div",{className:"border-b border-slate-200 px-6 py-4",children:[c.jsxs("div",{className:`flex items-center gap-3 mb-2 ${u?"flex-row-reverse":""}`,children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:c.jsx(Ds,{className:"w-5 h-5 text-blue-600"})}),c.jsxs("div",{className:u?"text-right":"",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-900",children:i.title}),i.estimatedReadTime&&c.jsxs("div",{className:`flex items-center gap-1 text-sm text-slate-500 ${u?"flex-row-reverse":""}`,children:[c.jsx(Yl,{className:"w-4 h-4"}),c.jsxs("span",{children:[i.estimatedReadTime," ",N.minRead]})]})]})]}),c.jsx("div",{className:"h-1 bg-slate-100 rounded-full overflow-hidden",children:c.jsx("div",{className:`h-full bg-blue-500 transition-all duration-300 ${u?"ml-auto":""}`,style:{width:`${m}%`,marginLeft:u?"auto":void 0,marginRight:u?"0":void 0}})})]}),c.jsx("div",{id:"read-content-scroll",className:`flex-1 overflow-y-auto px-6 py-6 ${u?"arabic-content":""}`,children:c.jsx("div",{className:"max-w-3xl mx-auto",children:b(i.markdown)})}),c.jsx("div",{className:"border-t border-slate-200 px-6 py-4 bg-slate-50",children:c.jsxs("button",{onClick:n,disabled:!g&&!s,className:`
            w-full flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-medium transition-all
            ${u?"flex-row-reverse":""}
            ${g||s?"bg-blue-600 text-white hover:bg-blue-700 shadow-sm":"bg-slate-200 text-slate-400 cursor-not-allowed"}
          `,children:[s?N.continue:g?N.complete:N.scroll,u?c.jsx(kf,{className:"w-5 h-5"}):c.jsx(ut,{className:"w-5 h-5"})]})})]})}function yx({content:i,onComplete:n,isCompleted:s}){const[o,l]=_.useState(!1),[u,h]=_.useState(!1),[p,m]=_.useState(0),[y,g]=_.useState(!1),[x,b]=_.useState(!1),k=_.useRef(null),j=_.useRef(null),N=i.url.includes("youtube.com")||i.url.includes("youtu.be"),C=i.url.includes("vimeo.com"),$=V=>{const D=V.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&]+)/);return D?D[1]:null},T=V=>{const D=V.match(/vimeo\.com\/(\d+)/);return D?D[1]:null};_.useEffect(()=>{if(k.current){const V=k.current,D=()=>{const ue=V.currentTime/V.duration*100;m(ue),ue>=80&&g(!0)},F=()=>l(!0),Y=()=>l(!1),ae=()=>{l(!1),g(!0)};return V.addEventListener("timeupdate",D),V.addEventListener("play",F),V.addEventListener("pause",Y),V.addEventListener("ended",ae),()=>{V.removeEventListener("timeupdate",D),V.removeEventListener("play",F),V.removeEventListener("pause",Y),V.removeEventListener("ended",ae)}}},[]);const A=()=>{k.current&&(o?k.current.pause():k.current.play())},B=()=>{k.current&&(k.current.muted=!u,h(!u))},H=()=>{k.current&&(document.fullscreenElement?document.exitFullscreen():k.current.requestFullscreen())},L=V=>{if(k.current&&j.current){const D=j.current.getBoundingClientRect(),F=(V.clientX-D.left)/D.width*100;k.current.currentTime=F/100*k.current.duration}},K=V=>{const D=Math.floor(V/60),F=Math.floor(V%60);return`${D}:${F.toString().padStart(2,"0")}`};return c.jsxs("div",{className:"flex flex-col h-full bg-slate-900",children:[c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsxs("div",{className:"relative flex-1 bg-black flex items-center justify-center",children:[N?c.jsx("iframe",{className:"w-full h-full",src:`https://www.youtube.com/embed/${$(i.url)}?rel=0&modestbranding=1`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,onLoad:()=>g(!0)}):C?c.jsx("iframe",{className:"w-full h-full",src:`https://player.vimeo.com/video/${T(i.url)}`,allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0,onLoad:()=>g(!0)}):c.jsx("video",{ref:k,className:"w-full h-full object-contain",src:i.url,playsInline:!0}),!N&&!C&&!o&&c.jsx("button",{onClick:A,className:"absolute inset-0 flex items-center justify-center bg-black/30 hover:bg-black/40 transition-colors",children:c.jsx("div",{className:"w-20 h-20 rounded-full bg-white/90 flex items-center justify-center shadow-xl",children:c.jsx(Dr,{className:"w-10 h-10 text-slate-900 ml-1"})})})]}),!N&&!C&&c.jsxs("div",{className:"bg-slate-800 px-4 py-3",children:[c.jsx("div",{ref:j,className:"h-1.5 bg-slate-600 rounded-full cursor-pointer mb-3",onClick:L,children:c.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all",style:{width:`${p}%`}})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:A,className:"w-10 h-10 rounded-full bg-slate-700 hover:bg-slate-600 flex items-center justify-center transition-colors",children:o?c.jsx(Sf,{className:"w-5 h-5 text-white"}):c.jsx(Dr,{className:"w-5 h-5 text-white ml-0.5"})}),c.jsx("button",{onClick:B,className:"w-10 h-10 rounded-full bg-slate-700 hover:bg-slate-600 flex items-center justify-center transition-colors",children:u?c.jsx(Ky,{className:"w-5 h-5 text-white"}):c.jsx(Gy,{className:"w-5 h-5 text-white"})}),c.jsxs("span",{className:"text-sm text-slate-300",children:[k.current?K(k.current.currentTime):"0:00"," / "," ",i.duration?K(i.duration):k.current?K(k.current.duration||0):"0:00"]})]}),c.jsx("button",{onClick:H,className:"w-10 h-10 rounded-full bg-slate-700 hover:bg-slate-600 flex items-center justify-center transition-colors",children:c.jsx(Uy,{className:"w-5 h-5 text-white"})})]})]})]}),c.jsxs("div",{className:"bg-slate-800 border-t border-slate-700",children:[c.jsxs("div",{className:"px-6 py-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:c.jsx(Ef,{className:"w-5 h-5 text-blue-400"})}),c.jsx("h2",{className:"text-xl font-bold text-white",children:i.title})]}),i.transcript&&c.jsx("button",{onClick:()=>b(!x),className:"text-sm text-blue-400 hover:text-blue-300 mt-2",children:x?"Hide transcript":"Show transcript"}),x&&i.transcript&&c.jsx("div",{className:"mt-4 p-4 bg-slate-900 rounded-lg max-h-48 overflow-y-auto",children:c.jsx("p",{className:"text-sm text-slate-300 leading-relaxed whitespace-pre-wrap",children:i.transcript})})]}),c.jsx("div",{className:"px-6 py-4 border-t border-slate-700",children:c.jsxs("button",{onClick:n,disabled:!y&&!s,className:`
              w-full flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-medium transition-all
              ${y||s?"bg-blue-600 text-white hover:bg-blue-700":"bg-slate-700 text-slate-400 cursor-not-allowed"}
            `,children:[s?"Continue":y?"Mark as Complete":"Watch video to continue",c.jsx(ut,{className:"w-5 h-5"})]})})]})]})}function xx({content:i,onComplete:n,isCompleted:s}){const[o,l]=_.useState(!0),[u,h]=_.useState(!1),[p,m]=_.useState(!1),y=()=>{l(!1)},g=()=>{l(!1),m(!0)};return c.jsxs("div",{className:"flex flex-col h-full bg-white",children:[c.jsx("div",{className:"border-b border-slate-200 px-6 py-4",children:c.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:i.title})}),c.jsx("div",{className:"flex-1 overflow-auto p-6",children:c.jsx("div",{className:"max-w-4xl mx-auto",children:i.url?c.jsxs("div",{className:"relative",children:[o&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-100 rounded-xl",children:c.jsx(Vt,{className:"w-8 h-8 text-slate-400 animate-spin"})}),p?c.jsxs("div",{className:"flex flex-col items-center justify-center py-12 bg-slate-100 rounded-xl",children:[c.jsx(Oh,{className:"w-12 h-12 text-slate-400 mb-4"}),c.jsx("p",{className:"text-slate-500",children:"Failed to load image"})]}):c.jsxs("div",{className:"relative group",children:[c.jsx("img",{src:i.url,alt:i.alt||i.title,className:`w-full rounded-xl shadow-lg transition-transform cursor-pointer ${u?"scale-150 cursor-zoom-out":"cursor-zoom-in"}`,onLoad:y,onError:g,onClick:()=>h(!u)}),c.jsx("button",{onClick:()=>h(!u),className:"absolute top-4 right-4 p-2 bg-black/50 text-white rounded-lg opacity-0 group-hover:opacity-100 transition-opacity",children:u?c.jsx(Yy,{className:"w-5 h-5"}):c.jsx(Qy,{className:"w-5 h-5"})})]}),i.caption&&c.jsx("p",{className:"mt-4 text-center text-slate-600 italic",children:i.caption})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center py-12 bg-slate-100 rounded-xl",children:[c.jsx(Oh,{className:"w-12 h-12 text-slate-400 mb-4"}),c.jsx("p",{className:"text-slate-500",children:"No image set"})]})})}),c.jsx("div",{className:"border-t border-slate-200 px-6 py-4",children:c.jsx("div",{className:"max-w-4xl mx-auto flex justify-end",children:c.jsxs("button",{onClick:n,disabled:s,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-medium transition-all ${s?"bg-emerald-100 text-emerald-700 cursor-default":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[s?"Completed":"Continue",c.jsx(ut,{className:"w-5 h-5"})]})})})]})}function wx({content:i,onComplete:n,previousAttempt:s}){const[o,l]=_.useState(0),[u,h]=_.useState({}),[p,m]=_.useState(!1),[y,g]=_.useState(!1),[x,b]=_.useState([]),[k,j]=_.useState(null);_.useEffect(()=>{let F=[...i.questions];i.shuffleQuestions&&(F=F.sort(()=>Math.random()-.5)),b(F)},[i.questions,i.shuffleQuestions]);const N=x[o],C=i.passingScore??50,$=N&&u[N.id]!==void 0,T=N&&u[N.id]===N.correctIndex,A=()=>N?i.shuffleChoices?N.choices.map((Y,ae)=>({choice:Y,originalIndex:ae})).sort(()=>Math.random()-.5):N.choices.map((F,Y)=>({choice:F,originalIndex:Y})):[],[B]=_.useState([]);i.shuffleChoices||N?.choices.map((F,Y)=>({choice:F,originalIndex:Y})),_.useEffect(()=>{if(N&&i.shuffleChoices){const F=N.choices.map((Y,ae)=>({choice:Y,originalIndex:ae}));B.length=0,B.push(...F.sort(()=>Math.random()-.5))}},[o,N,i.shuffleChoices]);const H=F=>{$||(h({...u,[N.id]:F}),g(!0))},L=()=>{g(!1),o<x.length-1?l(o+1):K()},K=()=>{let F=0;const Y=new Set;x.forEach(we=>{u[we.id]===we.correctIndex?F++:we.tags.forEach(ke=>Y.add(ke))});const ae=Math.round(F/x.length*100),ue={score:ae,correctCount:F,totalCount:x.length,answers:u,weakTopics:Array.from(Y),passed:ae>=C};j(ue),m(!0)},V=()=>{h({}),l(0),m(!1),g(!1),j(null),i.shuffleQuestions&&b([...i.questions].sort(()=>Math.random()-.5))},D=()=>{k&&n(k)};return p&&k?c.jsx("div",{className:"flex flex-col h-full bg-white",children:c.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:c.jsxs("div",{className:"max-w-md w-full text-center",children:[c.jsx("div",{className:`w-24 h-24 mx-auto mb-6 rounded-full flex items-center justify-center ${k.passed?"bg-emerald-100":"bg-amber-100"}`,children:k.passed?c.jsx(jy,{className:"w-12 h-12 text-emerald-600"}):c.jsx(Rh,{className:"w-12 h-12 text-amber-600"})}),c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:k.passed?"Great job!":"Keep learning!"}),c.jsx("p",{className:"text-slate-600 mb-6",children:k.passed?"You've demonstrated good understanding of this material.":"Don't worry, we'll help you understand the concepts better."}),c.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 mb-6",children:[c.jsxs("div",{className:"text-5xl font-bold text-slate-900 mb-2",children:[k.score,"%"]}),c.jsxs("div",{className:"text-slate-500",children:[k.correctCount," of ",k.totalCount," correct"]}),c.jsx("div",{className:"mt-4 h-3 bg-slate-200 rounded-full overflow-hidden",children:c.jsx("div",{className:`h-full rounded-full transition-all ${k.passed?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${k.score}%`}})}),c.jsxs("div",{className:"mt-2 text-sm text-slate-500",children:["Passing score: ",C,"%"]})]}),k.weakTopics.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-sm font-medium text-slate-700 mb-2",children:"Topics to review:"}),c.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:k.weakTopics.map(F=>c.jsx("span",{className:"px-3 py-1 bg-amber-100 text-amber-800 rounded-full text-sm",children:F},F))})]}),c.jsxs("div",{className:"flex gap-3",children:[i.allowRetry!==!1&&!k.passed&&c.jsxs("button",{onClick:V,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-medium bg-slate-100 text-slate-700 hover:bg-slate-200 transition-colors",children:[c.jsx(Ur,{className:"w-5 h-5"}),"Try Again"]}),c.jsxs("button",{onClick:D,className:`flex-1 flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-medium transition-colors ${k.passed?"bg-blue-600 text-white hover:bg-blue-700":"bg-amber-500 text-white hover:bg-amber-600"}`,children:[k.passed?"Continue":"Get Help",c.jsx(ut,{className:"w-5 h-5"})]})]})]})})}):N?c.jsxs("div",{className:"flex flex-col h-full bg-white",children:[c.jsxs("div",{className:"border-b border-slate-200 px-6 py-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center",children:c.jsx(Rh,{className:"w-5 h-5 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-bold text-slate-900",children:i.title}),i.description&&c.jsx("p",{className:"text-sm text-slate-500",children:i.description})]})]}),c.jsxs("div",{className:"text-sm font-medium text-slate-500",children:[o+1," / ",x.length]})]}),c.jsx("div",{className:"flex gap-1.5",children:x.map((F,Y)=>c.jsx("div",{className:`h-1.5 flex-1 rounded-full transition-colors ${Y<o?u[x[Y].id]===x[Y].correctIndex?"bg-emerald-500":"bg-red-500":Y===o?"bg-blue-500":"bg-slate-200"}`},Y))})]}),c.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-8",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-6",children:N.prompt}),c.jsx("div",{className:"space-y-3",children:(i.shuffleChoices?A():N.choices.map((F,Y)=>({choice:F,originalIndex:Y}))).map(({choice:F,originalIndex:Y})=>{const ae=u[N.id]===Y,ue=Y===N.correctIndex,we=$;let ke="bg-white hover:bg-slate-50 border-slate-200",Ne="text-slate-700",ye=null;return we?ue?(ke="bg-emerald-50 border-emerald-500",Ne="text-emerald-900",ye=c.jsx(Qn,{className:"w-6 h-6 text-emerald-600"})):ae&&!ue&&(ke="bg-red-50 border-red-500",Ne="text-red-900",ye=c.jsx(Cf,{className:"w-6 h-6 text-red-600"})):ae&&(ke="bg-blue-50 border-blue-500",Ne="text-blue-900"),c.jsxs("button",{onClick:()=>H(Y),disabled:$,className:`w-full flex items-center gap-4 p-4 rounded-xl border-2 transition-all ${ke} ${$?"cursor-default":"cursor-pointer"}`,children:[c.jsx("div",{className:`w-8 h-8 rounded-full border-2 flex items-center justify-center font-medium ${we?ue?"border-emerald-500 bg-emerald-500 text-white":ae?"border-red-500 bg-red-500 text-white":"border-slate-300 text-slate-500":ae?"border-blue-500 bg-blue-500 text-white":"border-slate-300 text-slate-500"}`,children:String.fromCharCode(65+Y)}),c.jsx("span",{className:`flex-1 text-left font-medium ${Ne}`,children:F}),ye]},Y)})}),y&&N.explanation&&c.jsxs("div",{className:`mt-6 p-4 rounded-lg ${T?"bg-emerald-50 border border-emerald-200":"bg-amber-50 border border-amber-200"}`,children:[c.jsx("h4",{className:`font-medium mb-1 ${T?"text-emerald-800":"text-amber-800"}`,children:T?"Correct!":"Not quite right"}),c.jsx("p",{className:`text-sm ${T?"text-emerald-700":"text-amber-700"}`,children:N.explanation})]})]})}),$&&c.jsx("div",{className:"border-t border-slate-200 px-6 py-4 bg-slate-50",children:c.jsxs("button",{onClick:L,className:"w-full flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-medium bg-blue-600 text-white hover:bg-blue-700 transition-colors",children:[o<x.length-1?"Next Question":"See Results",c.jsx(ut,{className:"w-5 h-5"})]})})]}):c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full"})})}function bx({content:i,onComplete:n,previousOutput:s}){const[o,l]=_.useState(new Set(s?.completedSteps||[])),[u,h]=_.useState(!1),[p,m]=_.useState({}),[y,g]=_.useState(null),[x,b]=_.useState({}),[k,j]=_.useState(s?.validationHistory||{}),N=i.steps.every(L=>o.has(L.id)),C=L=>{const K=new Set(o);K.has(L)?K.delete(L):K.add(L),l(K)},$=()=>{n({completedSteps:Array.from(o),validationHistory:k})},T=(L,K)=>{m(V=>({...V,[L]:K})),b(V=>({...V,[L]:null}))},A=async L=>{const K=p[L.id]?.trim();if(K){g(L.id);try{const V=await fetch("https://sowihdefjgpagncacfhy.supabase.co/functions/v1/mission-validate",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNvd2loZGVmamdwYWduY2FjZmh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgxMjQ3MjksImV4cCI6MjA4MzcwMDcyOX0.XDE5-zoORpJVimoK6OfkZVi_M1q9Y6FGCZUeUhHOgGE"},body:JSON.stringify({question:L.instruction,userAnswer:K,expectedCriteria:L.expectedCriteria||"The answer should demonstrate understanding of the concept."})});if(!V.ok)throw new Error("Validation failed");const D=await V.json();b(Y=>({...Y,[L.id]:D}));const F={answer:K,correct:D.correct,feedback:D.feedback,score:D.score,timestamp:new Date().toISOString()};j(Y=>({...Y,[L.id]:[...Y[L.id]||[],F]})),D.correct&&l(Y=>new Set([...Y,L.id]))}catch(V){console.error("AI validation error:",V),b(D=>({...D,[L.id]:{correct:!1,feedback:"Unable to validate your answer. Please try again.",score:0}}))}finally{g(null)}}},B=L=>{b(K=>({...K,[L]:null})),m(K=>({...K,[L]:""})),l(K=>{const V=new Set(K);return V.delete(L),V})},H=L=>{const K=o.has(L.id),V=y===L.id,D=x[L.id],F=k[L.id]?.length||0;switch(L.verificationMethod){case"ai_validate":return c.jsxs("div",{className:"mt-3 space-y-3",children:[!K&&c.jsxs(c.Fragment,{children:[L.inputType==="textarea"?c.jsx("textarea",{value:p[L.id]||"",onChange:Y=>T(L.id,Y.target.value),placeholder:"Type your answer here...",rows:4,disabled:V,className:"w-full px-4 py-3 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none disabled:bg-slate-50 disabled:text-slate-400"}):c.jsx("input",{type:"text",value:p[L.id]||"",onChange:Y=>T(L.id,Y.target.value),placeholder:"Type your answer here...",disabled:V,className:"w-full px-4 py-3 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:bg-slate-50 disabled:text-slate-400"}),c.jsx("button",{onClick:()=>A(L),disabled:V||!p[L.id]?.trim(),className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors",children:V?c.jsxs(c.Fragment,{children:[c.jsx(Vt,{className:"w-4 h-4 animate-spin"}),"Checking..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Nf,{className:"w-4 h-4"}),"Submit Answer"]})})]}),D&&c.jsx("div",{className:`p-4 rounded-lg ${D.correct?"bg-emerald-50 border border-emerald-200":"bg-red-50 border border-red-200"}`,children:c.jsxs("div",{className:"flex items-start gap-3",children:[D.correct?c.jsx(Qn,{className:"w-5 h-5 text-emerald-600 flex-shrink-0 mt-0.5"}):c.jsx(Cf,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:`font-medium ${D.correct?"text-emerald-800":"text-red-800"}`,children:D.correct?"Correct!":"Not quite right"}),c.jsxs("span",{className:`text-sm px-2 py-0.5 rounded ${D.correct?"bg-emerald-200 text-emerald-800":"bg-red-200 text-red-800"}`,children:["Score: ",D.score,"%"]})]}),c.jsx("p",{className:`text-sm ${D.correct?"text-emerald-700":"text-red-700"}`,children:D.feedback}),!D.correct&&c.jsxs("button",{onClick:()=>B(L.id),className:"mt-3 flex items-center gap-1 text-sm text-red-600 hover:text-red-800 font-medium",children:[c.jsx(Ur,{className:"w-4 h-4"}),"Try Again"]})]})]})}),F>0&&c.jsxs("div",{className:"text-xs text-slate-500",children:[F," attempt",F!==1?"s":""," made"]})]});case"screenshot":return c.jsx("div",{className:"mt-2",children:c.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-slate-100 hover:bg-slate-200 rounded-lg cursor-pointer text-sm text-slate-600 transition-colors w-fit",children:[c.jsx(qy,{className:"w-4 h-4"}),u?"Screenshot uploaded":"Upload screenshot",c.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:()=>{h(!0),C(L.id)}})]})});case"url_check":return c.jsx("div",{className:"mt-2",children:c.jsx("input",{type:"url",placeholder:"Paste URL here...",className:"w-full px-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onChange:Y=>{Y.target.value&&C(L.id)}})});default:return null}};return c.jsxs("div",{className:"flex flex-col h-full bg-white",children:[c.jsx("div",{className:"border-b border-slate-200 px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-orange-100 flex items-center justify-center",children:c.jsx(Zl,{className:"w-5 h-5 text-orange-600"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-slate-900",children:i.title}),i.description&&c.jsx("p",{className:"text-sm text-slate-500",children:i.description})]})]})}),c.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 border border-orange-200 rounded-xl p-6 mb-6",children:[c.jsx("h3",{className:"font-semibold text-orange-900 mb-2",children:"Your Mission"}),c.jsx("p",{className:"text-orange-800",children:"Complete the following steps to proceed. This is a hands-on activity that will help reinforce your learning."})]}),i.externalUrl&&c.jsxs("a",{href:i.externalUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-4 bg-blue-50 border border-blue-200 rounded-xl mb-6 hover:bg-blue-100 transition-colors group",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:c.jsx(Ll,{className:"w-5 h-5 text-blue-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium text-blue-900",children:"Open external resource"}),c.jsx("div",{className:"text-sm text-blue-600 truncate",children:i.externalUrl})]}),c.jsx(ut,{className:"w-5 h-5 text-blue-400 group-hover:translate-x-1 transition-transform"})]}),c.jsx("div",{className:"space-y-4",children:i.steps.map((L,K)=>{const V=o.has(L.id);return c.jsx("div",{className:`p-4 rounded-xl border-2 transition-all ${V?"bg-emerald-50 border-emerald-300":"bg-white border-slate-200"}`,children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("button",{onClick:()=>{(L.verificationMethod==="self_report"||!L.verificationMethod)&&C(L.id)},disabled:L.verificationMethod==="ai_validate",className:`mt-0.5 flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors ${V?"border-emerald-500 bg-emerald-500":L.verificationMethod==="ai_validate"?"border-slate-200 bg-slate-50 cursor-default":"border-slate-300 hover:border-slate-400"}`,children:V?c.jsx(Qn,{className:"w-4 h-4 text-white"}):c.jsx(Sy,{className:"w-4 h-4 text-transparent"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["Step ",K+1]}),L.verificationMethod==="ai_validate"&&c.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-blue-100 text-blue-700 rounded",children:"AI Validated"})]}),c.jsx("p",{className:`font-medium mt-1 ${V?"text-emerald-800":"text-slate-900"}`,children:L.instruction}),H(L)]})]})},L.id)})}),i.completionMessage&&N&&c.jsx("div",{className:"mt-6 p-4 bg-emerald-50 border border-emerald-200 rounded-xl",children:c.jsx("p",{className:"text-emerald-800 font-medium",children:i.completionMessage})})]})}),c.jsxs("div",{className:"border-t border-slate-200 px-6 py-4 bg-slate-50",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("span",{className:"text-sm text-slate-500",children:[o.size," of ",i.steps.length," steps completed"]}),c.jsx("span",{className:`text-sm font-medium ${N?"text-emerald-600":"text-slate-400"}`,children:N?"Ready to continue!":"Complete all steps"})]}),c.jsxs("button",{onClick:$,disabled:!N,className:`w-full flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-medium transition-all ${N?"bg-blue-600 text-white hover:bg-blue-700":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:["Continue",c.jsx(ut,{className:"w-5 h-5"})]})]})]})}function _x({content:i,onComplete:n,previousOutput:s}){const[o,l]=_.useState(s||{}),[u,h]=_.useState({}),[p,m]=_.useState(new Set),y=(j,N)=>{if(j.required&&(!N||typeof N=="string"&&!N.trim()))return"This field is required";if(j.validation&&typeof N=="string"){if(j.validation.minLength&&N.length<j.validation.minLength)return`Must be at least ${j.validation.minLength} characters`;if(j.validation.maxLength&&N.length>j.validation.maxLength)return`Must be no more than ${j.validation.maxLength} characters`;if(j.validation.pattern&&!new RegExp(j.validation.pattern).test(N))return"Invalid format"}return null},g=(j,N)=>{l({...o,[j]:N});const C=i.fields.find($=>$.id===j);if(C&&p.has(j)){const $=y(C,N);h({...u,[j]:$||""})}},x=j=>{m(new Set([...p,j]));const N=i.fields.find(C=>C.id===j);if(N){const C=y(N,o[j]);h({...u,[j]:C||""})}},b=()=>{const j={};let N=!1;i.fields.forEach(C=>{const $=y(C,o[C.id]);$&&(j[C.id]=$,N=!0)}),h(j),m(new Set(i.fields.map(C=>C.id))),N||n(o)},k=j=>{const $=`w-full px-4 py-3 border rounded-lg text-slate-900 placeholder-slate-400 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent ${u[j.id]&&p.has(j.id)?"border-red-500 bg-red-50":"border-slate-200 bg-white"}`;switch(j.type){case"text":return c.jsx("input",{type:"text",value:o[j.id]||"",onChange:T=>g(j.id,T.target.value),onBlur:()=>x(j.id),placeholder:j.placeholder,className:$});case"textarea":return c.jsx("textarea",{value:o[j.id]||"",onChange:T=>g(j.id,T.target.value),onBlur:()=>x(j.id),placeholder:j.placeholder,rows:4,className:`${$} resize-none`});case"select":return c.jsxs("select",{value:o[j.id]||"",onChange:T=>g(j.id,T.target.value),onBlur:()=>x(j.id),className:$,children:[c.jsx("option",{value:"",children:j.placeholder||"Select an option..."}),j.options?.map(T=>c.jsx("option",{value:T,children:T},T))]});case"checkbox":return c.jsx("div",{className:"space-y-2",children:j.options?.map(T=>{const A=o[j.id]||[],B=A.includes(T);return c.jsxs("label",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg cursor-pointer hover:bg-slate-100 transition-colors",children:[c.jsx("input",{type:"checkbox",checked:B,onChange:()=>{const H=B?A.filter(L=>L!==T):[...A,T];g(j.id,H)},className:"w-5 h-5 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),c.jsx("span",{className:"text-slate-700",children:T})]},T)})});case"radio":return c.jsx("div",{className:"space-y-2",children:j.options?.map(T=>c.jsxs("label",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg cursor-pointer hover:bg-slate-100 transition-colors",children:[c.jsx("input",{type:"radio",name:j.id,checked:o[j.id]===T,onChange:()=>g(j.id,T),className:"w-5 h-5 border-slate-300 text-blue-600 focus:ring-blue-500"}),c.jsx("span",{className:"text-slate-700",children:T})]},T))});default:return null}};return c.jsxs("div",{className:"flex flex-col h-full bg-white",children:[c.jsx("div",{className:"border-b border-slate-200 px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-teal-100 flex items-center justify-center",children:c.jsx(jf,{className:"w-5 h-5 text-teal-600"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-slate-900",children:i.title}),i.description&&c.jsx("p",{className:"text-sm text-slate-500",children:i.description})]})]})}),c.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:c.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:i.fields.map(j=>{const N=u[j.id],C=N&&p.has(j.id);return c.jsxs("div",{children:[c.jsx("label",{className:"block mb-2",children:c.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[j.label,j.required&&c.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})}),k(j),C&&c.jsxs("div",{className:"flex items-center gap-1.5 mt-2 text-red-600",children:[c.jsx(fo,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:N})]})]},j.id)})})}),c.jsx("div",{className:"border-t border-slate-200 px-6 py-4 bg-slate-50",children:c.jsxs("button",{onClick:b,className:"w-full flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-medium bg-blue-600 text-white hover:bg-blue-700 transition-colors",children:[i.submitLabel||"Submit",c.jsx(ut,{className:"w-5 h-5"})]})})]})}function kx({content:i,weakTopics:n,wrongQuestions:s,onComplete:o}){const{enabled:l,helpModel:u,isLoading:h}=Xy(),[p,m]=_.useState([]),[y,g]=_.useState(""),[x,b]=_.useState(!1),[k,j]=_.useState(!1),[N,C]=_.useState("gpt-4o-mini"),$=_.useRef(null),T=_.useRef(null),A=i.maxTurns??5,B=2,H=p.filter(F=>F.role==="user").length;_.useEffect(()=>{H>=B&&j(!0)},[H]),_.useEffect(()=>{$.current?.scrollIntoView({behavior:"smooth"})},[p]),_.useEffect(()=>{h||L()},[h]),_.useEffect(()=>{!h&&u&&C(u)},[h,u]);const L=async()=>{b(!0);let F="";i.mode==="targeted_remediation"&&s&&s.length>0?(F=`I noticed you had trouble with some questions. Let me help explain the concepts:

`,s.slice(0,3).forEach((ae,ue)=>{F+=`**Question ${ue+1}:** ${ae.prompt}
`,F+=`Your answer: ${ae.userAnswer}
`,F+=`Correct answer: ${ae.correctAnswer}
`,ae.explanation&&(F+=`${ae.explanation}
`),F+=`
`}),n&&n.length>0&&(F+=`
The main topics we should review: **${n.join(", ")}**

`),F+="Would you like me to explain any of these concepts in more detail? Feel free to ask questions!"):i.mode==="guided_explanation"?F="I'm here to help guide you through this material. What would you like me to explain? You can ask about specific concepts or request examples.":F="Hi! I'm your AI learning assistant. I'm here to help you understand the material better. What questions do you have?",m([{role:"assistant",content:F}]),b(!1)},K=async()=>{if(!y.trim()||x||H>=A)return;const F={role:"user",content:y.trim()};m(Y=>[...Y,F]),g(""),b(!0);try{const Y=await fetch("https://sowihdefjgpagncacfhy.supabase.co/functions/v1/ai-help",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNvd2loZGVmamdwYWduY2FjZmh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgxMjQ3MjksImV4cCI6MjA4MzcwMDcyOX0.XDE5-zoORpJVimoK6OfkZVi_M1q9Y6FGCZUeUhHOgGE"},body:JSON.stringify({messages:[...p,F],mode:i.mode,weakTopics:n,wrongQuestions:s,model:N})});if(!Y.ok)throw new Error("Failed to get AI response");const ue={role:"assistant",content:(await Y.json()).response};m(we=>[...we,ue])}catch{const ae={role:"assistant",content:"I apologize, but I'm having trouble connecting right now. Let me provide a brief explanation based on what we've discussed. Please try asking again or continue when ready."};m(ue=>[...ue,ae])}finally{b(!1)}},V=F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),K())},D=()=>{o({conversationHistory:p})};return h?c.jsxs("div",{className:"flex flex-col h-full bg-slate-900 items-center justify-center",children:[c.jsx(Vt,{className:"w-10 h-10 text-blue-500 animate-spin"}),c.jsx("p",{className:"text-slate-400 mt-4",children:"Loading AI assistant..."})]}):l?c.jsxs("div",{className:"flex flex-col h-full bg-slate-900",children:[c.jsx("div",{className:"border-b border-slate-700 px-6 py-4 bg-slate-800",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-400 flex items-center justify-center",children:c.jsx(Us,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:i.title}),c.jsx("p",{className:"text-sm text-slate-400",children:i.mode==="targeted_remediation"?"Personalized help based on your quiz results":i.mode==="guided_explanation"?"Interactive guided learning":"Ask me anything about the material"})]})]})}),c.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:c.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[p.map((F,Y)=>c.jsxs("div",{className:`flex gap-4 ${F.role==="user"?"flex-row-reverse":""}`,children:[c.jsx("div",{className:`w-10 h-10 rounded-lg flex-shrink-0 flex items-center justify-center ${F.role==="assistant"?"bg-gradient-to-br from-blue-500 to-cyan-400":"bg-slate-600"}`,children:F.role==="assistant"?c.jsx(Ch,{className:"w-5 h-5 text-white"}):c.jsx(Vy,{className:"w-5 h-5 text-white"})}),c.jsx("div",{className:`flex-1 max-w-[80%] rounded-2xl px-5 py-4 ${F.role==="assistant"?"bg-slate-800 text-slate-100":"bg-blue-600 text-white"}`,children:c.jsx("div",{className:"text-sm max-w-none",children:F.content.split(`
`).map((ae,ue)=>{if(ae.startsWith("**")&&ae.endsWith("**"))return c.jsx("p",{className:"font-semibold text-white mb-2",children:ae.slice(2,-2)},ue);if(ae.includes("**")){const we=ae.split(/\*\*(.+?)\*\*/g);return c.jsx("p",{className:"mb-2",children:we.map((ke,Ne)=>Ne%2===1?c.jsx("strong",{className:"text-white",children:ke},Ne):ke)},ue)}return ae?c.jsx("p",{className:"mb-2",children:ae},ue):c.jsx("br",{},ue)})})})]},Y)),x&&c.jsxs("div",{className:"flex gap-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-400 flex items-center justify-center",children:c.jsx(Ch,{className:"w-5 h-5 text-white"})}),c.jsx("div",{className:"bg-slate-800 rounded-2xl px-5 py-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Vt,{className:"w-4 h-4 text-slate-400 animate-spin"}),c.jsx("span",{className:"text-slate-400 text-sm",children:"Thinking..."})]})})]}),c.jsx("div",{ref:$})]})}),c.jsx("div",{className:"border-t border-slate-700 px-6 py-4 bg-slate-800",children:c.jsxs("div",{className:"max-w-3xl mx-auto",children:[H<A?c.jsx("div",{className:"flex gap-3 mb-4",children:c.jsxs("div",{className:"flex-1 relative",children:[c.jsx("textarea",{ref:T,value:y,onChange:F=>g(F.target.value),onKeyDown:V,placeholder:H===0?"Ask a question about the concepts...":"Continue the conversation...",rows:1,className:"w-full px-4 py-3 pr-12 bg-slate-700 border border-slate-600 rounded-xl text-white placeholder-slate-400 resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:x}),c.jsx("button",{onClick:K,disabled:!y.trim()||x,className:"absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-lg bg-blue-600 hover:bg-blue-700 disabled:bg-slate-600 disabled:cursor-not-allowed flex items-center justify-center transition-colors",children:c.jsx(Nf,{className:"w-4 h-4 text-white"})})]})}):c.jsx("div",{className:"text-center py-2 mb-4",children:c.jsx("p",{className:"text-slate-400 text-sm",children:"You've reached the conversation limit. Click continue to proceed."})}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-sm text-slate-500",children:[H," / ",A," messages",!k&&c.jsxs("span",{className:"ml-2 text-amber-400",children:["(ask at least ",B-H," more to continue)"]})]}),c.jsxs("button",{onClick:D,disabled:!k,className:`flex items-center gap-2 px-6 py-2.5 rounded-lg font-medium transition-all ${k?"bg-blue-600 text-white hover:bg-blue-700":"bg-slate-700 text-slate-400 cursor-not-allowed"}`,children:["Continue",c.jsx(ut,{className:"w-5 h-5"})]})]})]})})]}):c.jsxs("div",{className:"flex flex-col h-full bg-slate-900",children:[c.jsx("div",{className:"border-b border-slate-700 px-6 py-4 bg-slate-800",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-blue-500 to-cyan-400 flex items-center justify-center",children:c.jsx(Us,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:i.title}),c.jsx("p",{className:"text-sm text-slate-400",children:"AI-powered learning assistance"})]})]})}),c.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:c.jsxs("div",{className:"text-center max-w-md",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-500/20 flex items-center justify-center mx-auto mb-4",children:c.jsx(Ql,{className:"w-8 h-8 text-amber-400"})}),c.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"AI Assistant Unavailable"}),c.jsx("p",{className:"text-slate-400 mb-6",children:"The AI help feature is currently disabled. You can continue with the course by clicking the button below."}),c.jsxs("button",{onClick:()=>o({conversationHistory:[]}),className:"flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors mx-auto",children:["Continue",c.jsx(ut,{className:"w-5 h-5"})]})]})})]})}function jx({content:i,facts:n,onComplete:s,allowRetry:o=!0}){const[l,u]=_.useState(null),[h,p]=_.useState(!0);_.useEffect(()=>{m()},[]);const m=()=>{p(!0),setTimeout(()=>{const x=n["quiz.scorePercent"],b=n["block.attemptsCount"],k=n["quiz.weakTopics"];let j=!0,N="Great progress! You can continue to the next section.";x!==void 0&&(x>=70?(j=!0,N=`Excellent work! You scored ${x}% and demonstrated strong understanding.`):x>=50?(j=!0,N=`Good job! You scored ${x}%. You can continue, but consider reviewing the material.`):(j=!1,N=`You scored ${x}%. Let's review the concepts you found challenging.`)),!j&&b&&b>=3&&(N=`After ${b} attempts, let's take a different approach and get some personalized help.`),!j&&k&&k.length>0&&(N+=` We'll focus on: ${k.join(", ")}.`),u({passed:j,score:x,message:N}),p(!1)},1500)},y=()=>{l&&s(l.passed)},g=()=>{s(!1)};return h?c.jsx("div",{className:"flex flex-col h-full bg-white items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-blue-100 flex items-center justify-center animate-pulse",children:c.jsx(Iy,{className:"w-10 h-10 text-blue-600"})}),c.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"Evaluating Progress"}),c.jsx("p",{className:"text-slate-500",children:"Checking your understanding..."}),c.jsxs("div",{className:"mt-8 flex items-center justify-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-600 animate-bounce",style:{animationDelay:"0ms"}}),c.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-600 animate-bounce",style:{animationDelay:"150ms"}}),c.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-600 animate-bounce",style:{animationDelay:"300ms"}})]})]})}):l?c.jsx("div",{className:"flex flex-col h-full bg-white",children:c.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:c.jsxs("div",{className:"max-w-md w-full text-center",children:[c.jsx("div",{className:`w-24 h-24 mx-auto mb-6 rounded-full flex items-center justify-center ${l.passed?"bg-emerald-100":"bg-amber-100"}`,children:l.passed?c.jsx(Qn,{className:"w-12 h-12 text-emerald-600"}):c.jsx(Ql,{className:"w-12 h-12 text-amber-600"})}),c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:i.title}),i.description&&c.jsx("p",{className:"text-slate-500 mb-4",children:i.description}),c.jsxs("div",{className:`p-6 rounded-xl mb-6 ${l.passed?"bg-emerald-50 border border-emerald-200":"bg-amber-50 border border-amber-200"}`,children:[l.score!==void 0&&c.jsxs("div",{className:"mb-4",children:[c.jsxs("div",{className:`text-4xl font-bold ${l.passed?"text-emerald-700":"text-amber-700"}`,children:[l.score,"%"]}),c.jsx("div",{className:"text-sm text-slate-500 mt-1",children:"Your Score"})]}),c.jsx("p",{className:`${l.passed?"text-emerald-800":"text-amber-800"}`,children:l.message})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:y,className:`w-full flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-medium transition-colors ${l.passed?"bg-blue-600 text-white hover:bg-blue-700":"bg-amber-500 text-white hover:bg-amber-600"}`,children:[l.passed?"Continue":"Get Help",c.jsx(bf,{className:"w-5 h-5"})]}),!l.passed&&o&&c.jsxs("button",{onClick:g,className:"w-full flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-medium bg-slate-100 text-slate-700 hover:bg-slate-200 transition-colors",children:[c.jsx(Ur,{className:"w-5 h-5"}),"Try Again"]})]})]})})}):null}function Sx({content:i,onComplete:n,isCompleted:s}){const[o,l]=_.useState(i.autoplay??!0),[u,h]=_.useState(!1),[p,m]=_.useState(0);_.useEffect(()=>{if(o){const b=setInterval(()=>{m(k=>k>=100?(i.loop||(l(!1),h(!0)),i.loop?0:100):k+1)},50);return()=>clearInterval(b)}},[o,i.loop]);const y=()=>{l(!o)},g=()=>{m(0),l(!0)},x=()=>{switch(i.animationType){case"lottie":return c.jsx("div",{className:"relative w-full h-full flex items-center justify-center bg-slate-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"w-48 h-48 mx-auto mb-4 bg-gradient-to-br from-blue-400 to-cyan-400 rounded-3xl flex items-center justify-center animate-pulse",children:c.jsx(Th,{className:"w-20 h-20 text-white"})}),c.jsxs("p",{className:"text-slate-500 text-sm",children:["Lottie animation: ",i.url]})]})});case"video":return c.jsx("video",{className:"w-full h-full object-contain bg-black",src:i.url,autoPlay:i.autoplay,loop:i.loop,muted:!0,playsInline:!0,onEnded:()=>h(!0)});case"interactive":return c.jsx("div",{className:"relative w-full h-full flex items-center justify-center bg-gradient-to-br from-slate-900 to-slate-800",children:c.jsxs("div",{className:"text-center text-white",children:[c.jsx("div",{className:"w-32 h-32 mx-auto mb-6 rounded-full border-4 border-blue-400 flex items-center justify-center",style:{background:`conic-gradient(from 0deg, #3b82f6 ${p*3.6}deg, transparent ${p*3.6}deg)`},children:c.jsx("div",{className:"w-24 h-24 rounded-full bg-slate-800 flex items-center justify-center",children:c.jsxs("span",{className:"text-2xl font-bold",children:[Math.round(p),"%"]})})}),c.jsx("p",{className:"text-slate-300",children:"Interactive animation"})]})});default:return null}};return c.jsxs("div",{className:"flex flex-col h-full bg-slate-900",children:[c.jsx("div",{className:"border-b border-slate-700 px-6 py-4 bg-slate-800",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-cyan-500/20 flex items-center justify-center",children:c.jsx(Th,{className:"w-5 h-5 text-cyan-400"})}),c.jsx("h2",{className:"text-xl font-bold text-white",children:i.title})]})}),c.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[x(),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:!o&&p===0&&i.animationType!=="video"&&c.jsx("button",{onClick:y,className:"w-20 h-20 rounded-full bg-white/90 flex items-center justify-center shadow-xl pointer-events-auto hover:bg-white transition-colors",children:c.jsx(Dr,{className:"w-10 h-10 text-slate-900 ml-1"})})})]}),c.jsxs("div",{className:"bg-slate-800 border-t border-slate-700",children:[i.animationType!=="video"&&c.jsxs("div",{className:"px-6 py-3 border-b border-slate-700",children:[c.jsx("div",{className:"h-1.5 bg-slate-700 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-cyan-500 transition-all duration-100",style:{width:`${p}%`}})}),c.jsxs("div",{className:"flex items-center justify-center gap-3 mt-3",children:[c.jsx("button",{onClick:y,className:"w-10 h-10 rounded-full bg-slate-700 hover:bg-slate-600 flex items-center justify-center transition-colors",children:o?c.jsx(Sf,{className:"w-5 h-5 text-white"}):c.jsx(Dr,{className:"w-5 h-5 text-white ml-0.5"})}),c.jsx("button",{onClick:g,className:"w-10 h-10 rounded-full bg-slate-700 hover:bg-slate-600 flex items-center justify-center transition-colors",children:c.jsx(Ur,{className:"w-5 h-5 text-white"})})]})]}),c.jsx("div",{className:"px-6 py-4",children:c.jsxs("button",{onClick:n,disabled:!u&&!s&&i.animationType!=="interactive",className:`w-full flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-medium transition-all ${u||s||i.animationType==="interactive"?"bg-blue-600 text-white hover:bg-blue-700":"bg-slate-700 text-slate-400 cursor-not-allowed"}`,children:[s?"Continue":"Mark as Complete",c.jsx(ut,{className:"w-5 h-5"})]})})]})]})}const Nx={javascript:"bg-yellow-500",typescript:"bg-blue-500",python:"bg-green-500",java:"bg-orange-500",csharp:"bg-purple-500",cpp:"bg-pink-500",c:"bg-gray-500",ruby:"bg-red-500",go:"bg-cyan-500",rust:"bg-orange-600",php:"bg-indigo-500",swift:"bg-orange-400",kotlin:"bg-purple-400",sql:"bg-blue-400",html:"bg-orange-500",css:"bg-blue-500",json:"bg-gray-400",bash:"bg-green-600",shell:"bg-green-600",markdown:"bg-slate-500"};function Ex({content:i,onComplete:n,isCompleted:s}){const[o,l]=_.useState(!1),u=i.showLineNumbers??!0,h=async()=>{try{await navigator.clipboard.writeText(i.code),l(!0),setTimeout(()=>l(!1),2e3)}catch(g){console.error("Failed to copy:",g)}},p=i.code.split(`
`),m=new Set(i.highlightLines||[]),y=Nx[i.language.toLowerCase()]||"bg-slate-500";return c.jsxs("div",{className:"flex flex-col h-full bg-white",children:[c.jsx("div",{className:"border-b border-slate-200 px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center",children:c.jsx(Ny,{className:"w-5 h-5 text-slate-200"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"text-xl font-bold text-slate-900",children:i.title}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx("span",{className:`px-2 py-0.5 ${y} text-white text-xs font-medium rounded`,children:i.language}),i.description&&c.jsx("span",{className:"text-sm text-slate-500",children:i.description})]})]})]})}),c.jsx("div",{className:"flex-1 overflow-auto p-6",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"relative rounded-xl overflow-hidden bg-slate-900 shadow-lg",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-slate-800 border-b border-slate-700",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"flex gap-1.5",children:[c.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),c.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),c.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),c.jsx("span",{className:"text-xs text-slate-400 ml-2",children:i.language})]}),c.jsx("button",{onClick:h,className:"flex items-center gap-1.5 px-2 py-1 text-xs text-slate-400 hover:text-white hover:bg-slate-700 rounded transition-colors",children:o?c.jsxs(c.Fragment,{children:[c.jsx(_f,{className:"w-3.5 h-3.5 text-green-400"}),c.jsx("span",{className:"text-green-400",children:"Copied!"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Ey,{className:"w-3.5 h-3.5"}),c.jsx("span",{children:"Copy"})]})})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsx("pre",{className:"p-4 text-sm",children:c.jsx("code",{children:p.map((g,x)=>{const b=x+1,k=m.has(b);return c.jsxs("div",{className:`flex ${k?"bg-yellow-500/10 -mx-4 px-4":""}`,children:[u&&c.jsx("span",{className:"select-none text-slate-500 text-right pr-4 min-w-[3rem]",children:b}),c.jsx("span",{className:`flex-1 ${k?"text-yellow-200":"text-slate-100"}`,children:g||" "})]},x)})})})})]}),i.description&&c.jsx("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg border border-slate-200",children:c.jsx("p",{className:"text-slate-700 text-sm",children:i.description})})]})}),c.jsx("div",{className:"border-t border-slate-200 px-6 py-4",children:c.jsx("div",{className:"max-w-4xl mx-auto flex justify-end",children:c.jsxs("button",{onClick:n,disabled:s,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-medium transition-all ${s?"bg-emerald-100 text-emerald-700 cursor-default":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[s?"Completed":"Continue",c.jsx(ut,{className:"w-5 h-5"})]})})})]})}function Cx({content:i,onComplete:n,previousOutput:s}){const[o,l]=_.useState(s?.userSolution||""),[u,h]=_.useState(s?.solutionViewed||!1),[p,m]=_.useState(s?.hintsViewed||0),[y,g]=_.useState(!1),x=i.hints||[],b=()=>{p<x.length&&(m(p+1),g(!0))},k=()=>{h(!u)},j=()=>{n({userSolution:o,hintsViewed:p,solutionViewed:u})},N=o.trim().length>0||u;return c.jsxs("div",{className:"flex flex-col h-full bg-white",children:[c.jsx("div",{className:"border-b border-slate-200 px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-violet-100 flex items-center justify-center",children:c.jsx(Ty,{className:"w-5 h-5 text-violet-600"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-slate-900",children:i.title}),i.description&&c.jsx("p",{className:"text-sm text-slate-500",children:i.description})]})]})}),c.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:c.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-violet-50 to-purple-50 border border-violet-200 rounded-xl p-6",children:[c.jsxs("h3",{className:"font-semibold text-violet-900 mb-3 flex items-center gap-2",children:[c.jsx("span",{className:"w-6 h-6 rounded-full bg-violet-200 flex items-center justify-center text-xs font-bold text-violet-700",children:"?"}),"Problem"]}),c.jsx("div",{className:"text-violet-800 whitespace-pre-wrap",children:i.problem})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Your Solution"}),c.jsx("textarea",{value:o,onChange:C=>l(C.target.value),rows:8,placeholder:"Write your solution here...",className:"w-full px-4 py-3 border border-slate-200 rounded-xl text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent resize-none font-mono text-sm"})]}),x.length>0&&c.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ly,{className:"w-5 h-5 text-amber-600"}),c.jsxs("span",{className:"font-medium text-amber-900",children:["Hints (",p," / ",x.length,")"]})]}),p<x.length&&c.jsx("button",{onClick:b,className:"px-3 py-1.5 text-sm bg-amber-200 text-amber-800 rounded-lg hover:bg-amber-300 transition-colors font-medium",children:"Show Hint"})]}),y&&p>0&&c.jsx("div",{className:"space-y-2",children:x.slice(0,p).map((C,$)=>c.jsxs("div",{className:"flex gap-3 p-3 bg-white/50 rounded-lg",children:[c.jsx("span",{className:"w-5 h-5 rounded-full bg-amber-200 flex-shrink-0 flex items-center justify-center text-xs font-bold text-amber-700",children:$+1}),c.jsx("p",{className:"text-amber-800 text-sm",children:C})]},$))}),p>0&&c.jsx("button",{onClick:()=>g(!y),className:"mt-2 text-sm text-amber-700 hover:text-amber-900",children:y?"Hide hints":"Show hints"})]}),c.jsxs("div",{className:"border border-slate-200 rounded-xl overflow-hidden",children:[c.jsxs("button",{onClick:k,className:"w-full flex items-center justify-between p-4 bg-slate-50 hover:bg-slate-100 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Qn,{className:"w-5 h-5 text-emerald-600"}),c.jsx("span",{className:"font-medium text-slate-900",children:"Solution"})]}),c.jsx("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:u?c.jsxs(c.Fragment,{children:[c.jsx(Py,{className:"w-4 h-4"}),"Hide"]}):c.jsxs(c.Fragment,{children:[c.jsx(Ry,{className:"w-4 h-4"}),"Show"]})})]}),u&&c.jsxs("div",{className:"p-4 border-t border-slate-200",children:[c.jsx("div",{className:"bg-emerald-50 border border-emerald-200 rounded-lg p-4 mb-4",children:c.jsx("pre",{className:"whitespace-pre-wrap text-emerald-800 font-mono text-sm",children:i.solution})}),i.solutionExplanation&&c.jsxs("div",{className:"mt-4",children:[c.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Explanation"}),c.jsx("p",{className:"text-slate-700 text-sm whitespace-pre-wrap",children:i.solutionExplanation})]})]})]})]})}),c.jsx("div",{className:"border-t border-slate-200 px-6 py-4 bg-slate-50",children:c.jsxs("div",{className:"flex items-center justify-between max-w-3xl mx-auto",children:[c.jsx("div",{className:"text-sm text-slate-500",children:o.trim()?"Solution written":u?"Solution viewed":"Write your solution or view the answer"}),c.jsxs("button",{onClick:j,disabled:!N,className:`flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all ${N?"bg-blue-600 text-white hover:bg-blue-700":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:["Continue",c.jsx(ut,{className:"w-5 h-5"})]})]})})]})}const Tx={link:$y,download:Cy,video:Ef,document:jf},$h={link:{bg:"bg-blue-100",icon:"text-blue-600",hover:"hover:bg-blue-50"},download:{bg:"bg-emerald-100",icon:"text-emerald-600",hover:"hover:bg-emerald-50"},video:{bg:"bg-rose-100",icon:"text-rose-600",hover:"hover:bg-rose-50"},document:{bg:"bg-amber-100",icon:"text-amber-600",hover:"hover:bg-amber-50"}};function Px({content:i,onComplete:n,previousOutput:s}){const[o,l]=_.useState(new Set(s?.viewedResources||[])),u=g=>{if(l(x=>new Set([...x,g.id])),g.type==="download"){const x=document.createElement("a");x.href=g.url,x.download=g.title,x.target="_blank",document.body.appendChild(x),x.click(),document.body.removeChild(x)}else window.open(g.url,"_blank","noopener,noreferrer")},h=()=>{n({viewedResources:Array.from(o)})},p=o.size,m=i.resources.length,y=m>0?p/m*100:0;return c.jsxs("div",{className:"flex flex-col h-full bg-white",children:[c.jsxs("div",{className:"border-b border-slate-200 px-6 py-4",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 flex items-center justify-center",children:c.jsx(Oy,{className:"w-5 h-5 text-indigo-600"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-slate-900",children:i.title}),i.description&&c.jsx("p",{className:"text-sm text-slate-500",children:i.description})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex-1 h-1.5 bg-slate-100 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-300",style:{width:`${y}%`}})}),c.jsxs("span",{className:"text-sm text-slate-500",children:[p," / ",m," viewed"]})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:c.jsx("div",{className:"max-w-3xl mx-auto",children:i.resources.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[c.jsx(Ph,{className:"w-12 h-12 text-slate-300 mb-4"}),c.jsx("p",{className:"text-slate-500",children:"No resources available"})]}):c.jsx("div",{className:"space-y-3",children:i.resources.map(g=>{const x=Tx[g.type]||Ph,b=$h[g.type]||$h.link,k=o.has(g.id);return c.jsxs("button",{onClick:()=>u(g),className:`w-full flex items-center gap-4 p-4 rounded-xl border transition-all text-left group ${k?"border-emerald-200 bg-emerald-50/50":`border-slate-200 ${b.hover}`}`,children:[c.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 ${k?"bg-emerald-100":b.bg}`,children:k?c.jsx(Qn,{className:"w-6 h-6 text-emerald-600"}):c.jsx(x,{className:`w-6 h-6 ${b.icon}`})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h3",{className:"font-medium text-slate-900 truncate",children:g.title}),g.type==="download"&&c.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-slate-100 text-slate-600 rounded",children:"Download"})]}),g.description&&c.jsx("p",{className:"text-sm text-slate-500 mt-1 line-clamp-2",children:g.description}),c.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-slate-400",children:[c.jsx(Ll,{className:"w-3 h-3"}),c.jsx("span",{className:"truncate",children:g.url})]})]}),c.jsx(Ll,{className:`w-5 h-5 flex-shrink-0 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5 ${k?"text-emerald-500":"text-slate-400"}`})]},g.id)})})})}),c.jsx("div",{className:"border-t border-slate-200 px-6 py-4 bg-slate-50",children:c.jsxs("div",{className:"flex items-center justify-between max-w-3xl mx-auto",children:[c.jsx("div",{className:"text-sm text-slate-500",children:p===m?"All resources viewed!":`${m-p} resource${m-p!==1?"s":""} remaining`}),c.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-6 py-3 rounded-lg font-medium bg-blue-600 text-white hover:bg-blue-700 transition-colors",children:["Continue",c.jsx(ut,{className:"w-5 h-5"})]})]})})]})}function Rf({journeyVersionId:i,userId:n,graph:s,onComplete:o,onExit:l,trackDirection:u,trackLanguage:h}){const{showToast:p}=Xl(),[m,y]=_.useState(null),[g,x]=_.useState(null),[b,k]=_.useState(null),[j,N]=_.useState(!0),[C,$]=_.useState(null),[T,A]=_.useState(new Map),[B,H]=_.useState({}),[L,K]=_.useState(!1),[V,D]=_.useState(null),[F,Y]=_.useState(u||"ltr"),[ae,ue]=_.useState(h||"en"),[we,ke]=_.useState(),[Ne,ye]=_.useState(),G=_.useRef(Date.now());_.useEffect(()=>{J(),ne()},[]);const ne=async()=>{try{const{data:re}=await je.from("journey_versions").select("module_id").eq("id",i).single();if(!re)return;ye(re.module_id);const{data:Ce}=await je.from("modules").select("track_id").eq("id",re.module_id).single();if(!Ce||(ke(Ce.track_id),u))return;const{data:me}=await je.from("tracks").select("direction, primary_language").eq("id",Ce.track_id).single();me&&(Y(me.direction||"ltr"),ue(me.primary_language||"en"))}catch(re){console.error("Error loading track settings:",re)}},J=async()=>{N(!0),$(null);try{const{data:re,error:Ce}=await je.from("user_journey_runs").select("*").eq("user_id",n).eq("journey_version_id",i).neq("status","completed").neq("status","abandoned").maybeSingle();if(Ce)throw console.error("Failed to fetch existing run:",Ce),new Error("Failed to load your progress. Please try again.");let me=re;if(!me){const{data:gt,error:it}=await je.from("user_journey_runs").insert({user_id:n,journey_version_id:i,current_block_id:s.startBlockId,status:"in_progress",started_at:new Date().toISOString()}).select().single();if(it)throw console.error("Failed to create journey run:",it),new Error("Failed to start your journey. Please try again.");me=gt}y(me);const{data:Pe,error:We}=await je.from("user_block_states").select("*").eq("run_id",me.id);if(We&&console.error("Failed to load block states:",We),Pe){const gt=new Map;Pe.forEach(it=>{gt.set(it.block_id,it)}),A(gt)}const Ut=me.current_block_id||s.startBlockId;await P(Ut,me.id)}catch(re){console.error("Journey initialization error:",re);const Ce=re instanceof Error?re.message:"Failed to initialize journey";$(Ce),p("error",Ce)}finally{N(!1)}},P=async(re,Ce)=>{const me=s.blocks.find(We=>We.id===re);if(!me){console.error("Block not found:",re);return}x(me),G.current=Date.now(),await je.from("user_journey_runs").update({current_block_id:re}).eq("id",Ce);let Pe=T.get(re);if(Pe){if(Pe.status==="not_started"){const{data:We}=await je.from("user_block_states").update({status:"in_progress",started_at:new Date().toISOString()}).eq("id",Pe.id).select().single();We&&(Pe=We,A(Ut=>new Map(Ut).set(re,We)))}}else{const{data:We,error:Ut}=await je.from("user_block_states").insert({run_id:Ce,block_id:re,status:"in_progress",started_at:new Date().toISOString()}).select().single();!Ut&&We&&(Pe=We,A(gt=>new Map(gt).set(re,We)))}k(Pe||null)},M=_.useCallback(async(re,Ce,me)=>{if(!g||!m||!b)return;const Pe=Math.floor((Date.now()-G.current)/1e3),{data:We}=await je.from("user_block_states").update({status:"completed",output_json:re||{},score:Ce??null,weak_topics:me||[],time_spent_seconds:(b.time_spent_seconds||0)+Pe,completed_at:new Date().toISOString(),attempts_count:(b.attempts_count||0)+1}).eq("id",b.id).select().single();We&&A(it=>new Map(it).set(g.id,We));const Ut=Lh({score:Ce,weak_topics:me,attempts_count:(b.attempts_count||0)+1,time_spent_seconds:(b.time_spent_seconds||0)+Pe,status:"completed",output_json:re},g.type==="quiz"?g.content:void 0),gt=ax(g.id,s.edges,Ut);if(gt)await P(gt,m.id);else{await je.from("user_journey_runs").update({status:"completed",completed_at:new Date().toISOString()}).eq("id",m.id);const it=Array.from(T.values());We&&it.push(We);const qr=it.reduce((vt,Xn)=>vt+(Xn.time_spent_seconds||0),0),Kt=it.filter(vt=>vt.score!==null).map(vt=>vt.score),ln=Kt.length>0?Kt.reduce((vt,Xn)=>vt+Xn,0)/Kt.length:0;D({totalTime:qr,blocksCompleted:it.filter(vt=>vt.status==="completed").length,averageScore:Math.round(ln)}),K(!0)}},[g,m,b,s.edges,T]),de=_.useCallback(async re=>{if(!g)return;const Ce=g.content;if(re.passed)H({});else{const me=Ce.questions.filter(Pe=>re.answers[Pe.id]!==Pe.correctIndex).map(Pe=>({prompt:Pe.prompt,userAnswer:Pe.choices[re.answers[Pe.id]]||"No answer",correctAnswer:Pe.choices[Pe.correctIndex],explanation:Pe.explanation}));H({wrongQuestions:me,weakTopics:re.weakTopics})}await M({answers:re.answers,passed:re.passed},re.score,re.weakTopics)},[g,M]),he=_.useCallback(async re=>{await M({passed:re},re?100:0)},[M]),ge=async()=>{if(m)try{const{error:re}=await je.from("user_block_states").delete().eq("run_id",m.id);if(re)throw console.error("Failed to clear block states:",re),new Error("Failed to reset progress");const{error:Ce}=await je.from("user_journey_runs").update({status:"in_progress",current_block_id:s.startBlockId,completed_at:null}).eq("id",m.id);if(Ce)throw console.error("Failed to reset journey run:",Ce),new Error("Failed to restart journey");A(new Map),K(!1),D(null),p("success","Journey restarted! Good luck!"),await P(s.startBlockId,m.id)}catch(re){console.error("Restart journey error:",re),p("error","Failed to restart journey. Please try again.")}},ve=re=>{const Ce=Math.floor(re/60),me=re%60;return Ce>0?`${Ce}m ${me}s`:`${me}s`},Ee=()=>{if(!g||!b)return null;const re=b.status==="completed";switch(g.type){case"read":return c.jsx(vx,{content:g.content,onComplete:()=>M(),isCompleted:re,trackId:we,moduleId:Ne});case"video":return c.jsx(yx,{content:g.content,onComplete:()=>M(),isCompleted:re});case"image":return c.jsx(xx,{content:g.content,onComplete:()=>M(),isCompleted:re});case"quiz":return c.jsx(wx,{content:g.content,onComplete:de,previousAttempt:b.output_json?.answers?{score:b.score||0,correctCount:Math.round((b.score||0)/100*g.content.questions.length),totalCount:g.content.questions.length,answers:b.output_json.answers,weakTopics:b.weak_topics||[],passed:(b.score||0)>=(g.content.passingScore??50)}:void 0});case"mission":return c.jsx(bx,{content:g.content,onComplete:me=>M(me),previousOutput:b.output_json});case"form":return c.jsx(_x,{content:g.content,onComplete:me=>M(me),previousOutput:b.output_json});case"ai_help":return c.jsx(kx,{content:g.content,weakTopics:B.weakTopics,wrongQuestions:B.wrongQuestions,onComplete:me=>M(me)});case"checkpoint":const Ce=Lh(b);return c.jsx(jx,{content:g.content,facts:Ce,onComplete:he});case"animation":return c.jsx(Sx,{content:g.content,onComplete:()=>M(),isCompleted:re});case"code":return c.jsx(Ex,{content:g.content,onComplete:()=>M(),isCompleted:re});case"exercise":return c.jsx(Cx,{content:g.content,onComplete:me=>M(me),previousOutput:b.output_json});case"resource":return c.jsx(Px,{content:g.content,onComplete:me=>M(me),previousOutput:b.output_json});default:return c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("p",{className:"text-slate-500",children:["Unknown block type: ",g.type]})})}};if(j)return c.jsx("div",{className:"flex items-center justify-center h-screen bg-slate-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Vt,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-slate-600",children:"Loading your journey..."})]})});if(C)return c.jsx("div",{className:"flex items-center justify-center h-screen bg-slate-100",children:c.jsxs("div",{className:"text-center max-w-md px-4",children:[c.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:c.jsx(fo,{className:"w-8 h-8 text-red-600"})}),c.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-2",children:"Unable to Load Journey"}),c.jsx("p",{className:"text-slate-600 mb-6",children:C}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("button",{onClick:()=>J(),className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:[c.jsx(Ur,{className:"w-5 h-5"}),"Try Again"]}),c.jsxs("button",{onClick:l,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-slate-200 text-slate-700 rounded-xl font-semibold hover:bg-slate-300 transition-colors",children:[c.jsx(Ih,{className:"w-5 h-5"}),"Back to Dashboard"]})]})]})});if(L)return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 via-blue-700 to-cyan-600 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl max-w-lg w-full p-8 text-center",children:[c.jsxs("div",{className:"relative mb-6",children:[c.jsx("div",{className:"w-24 h-24 mx-auto bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center shadow-lg",children:c.jsx(Hy,{className:"w-12 h-12 text-white"})}),c.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center animate-bounce",children:c.jsx(Us,{className:"w-4 h-4 text-white"})})]}),c.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:"Journey Complete!"}),c.jsx("p",{className:"text-slate-600 mb-8",children:"Congratulations! You've successfully completed this learning journey."}),V&&c.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[c.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[c.jsx("div",{className:"w-10 h-10 mx-auto mb-2 bg-blue-100 rounded-lg flex items-center justify-center",children:c.jsx(Zl,{className:"w-5 h-5 text-blue-600"})}),c.jsx("div",{className:"text-2xl font-bold text-slate-900",children:V.blocksCompleted}),c.jsx("div",{className:"text-xs text-slate-500",children:"Blocks Completed"})]}),c.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[c.jsx("div",{className:"w-10 h-10 mx-auto mb-2 bg-amber-100 rounded-lg flex items-center justify-center",children:c.jsx(By,{className:"w-5 h-5 text-amber-600"})}),c.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[V.averageScore,"%"]}),c.jsx("div",{className:"text-xs text-slate-500",children:"Average Score"})]}),c.jsxs("div",{className:"bg-slate-50 rounded-xl p-4",children:[c.jsx("div",{className:"w-10 h-10 mx-auto mb-2 bg-emerald-100 rounded-lg flex items-center justify-center",children:c.jsx(Yl,{className:"w-5 h-5 text-emerald-600"})}),c.jsx("div",{className:"text-2xl font-bold text-slate-900",children:ve(V.totalTime)}),c.jsx("div",{className:"text-xs text-slate-500",children:"Time Spent"})]})]}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("button",{onClick:o,className:"w-full flex items-center justify-center gap-2 px-6 py-4 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors",children:[c.jsx(Ih,{className:"w-5 h-5"}),"Back to Dashboard"]}),c.jsxs("button",{onClick:ge,className:"w-full flex items-center justify-center gap-2 px-6 py-4 bg-slate-100 text-slate-700 rounded-xl font-semibold hover:bg-slate-200 transition-colors",children:[c.jsx(Ur,{className:"w-5 h-5"}),"Restart Journey"]})]})]})});const be=Array.from(T.values()).filter(re=>re.status==="completed").length,Te=be/s.blocks.length*100,Ue=F==="rtl";return c.jsx(lx,{direction:F,primaryLanguage:ae,children:c.jsxs("div",{className:"flex flex-col h-screen bg-slate-100",children:[c.jsxs("header",{className:`bg-white border-b border-slate-200 px-4 py-3 flex items-center justify-between ${Ue?"flex-row-reverse":""}`,children:[c.jsxs("button",{onClick:l,className:`flex items-center gap-2 text-slate-600 hover:text-slate-900 transition-colors ${Ue?"flex-row-reverse":""}`,children:[c.jsx(kf,{className:`w-5 h-5 ${Ue?"rotate-180":""}`}),c.jsx("span",{className:"font-medium",children:Ue?"":"Exit"})]}),c.jsxs("div",{className:`flex items-center gap-4 ${Ue?"flex-row-reverse":""}`,children:[c.jsx("div",{className:"w-48 h-2 bg-slate-200 rounded-full overflow-hidden",children:c.jsx("div",{className:`h-full bg-blue-600 transition-all duration-300 ${Ue?"mr-auto":""}`,style:{width:`${Te}%`,marginLeft:Ue?"auto":void 0,marginRight:Ue?"0":void 0}})}),c.jsxs("span",{className:"text-sm text-slate-500 font-medium",children:[be," / ",s.blocks.length]})]})]}),c.jsx("main",{className:"flex-1 overflow-hidden",children:Ee()})]})})}const Rx=Object.freeze(Object.defineProperty({__proto__:null,JourneyRunner:Rf},Symbol.toStringTag,{value:"Module"})),Ix={startBlockId:"welcome",blocks:[{id:"welcome",type:"read",content:{title:"Welcome to GenAI Fundamentals",markdown:`# Introduction to Generative AI

Welcome to this foundational module on **Generative AI**. In this journey, you'll learn the core concepts that power modern AI systems like ChatGPT, Claude, and other large language models.

## What You'll Learn

- What generative AI is and how it differs from traditional AI
- How language models process and generate text
- Key concepts: tokens, prompts, and context windows
- Practical applications and limitations

## Prerequisites

No prior AI experience is required! We'll start from the basics and build up your understanding step by step.

## Time Commitment

This module takes approximately **15-20 minutes** to complete. You'll encounter:

- Reading sections like this one
- A short quiz to check your understanding
- An optional hands-on mission

> **Tip:** Take your time with each section. Understanding these fundamentals will help you use AI tools more effectively.

Let's begin your AI learning journey!`,estimatedReadTime:3}},{id:"what-is-genai",type:"read",content:{title:"What is Generative AI?",markdown:`# Understanding Generative AI

**Generative AI** refers to artificial intelligence systems that can create new content - text, images, music, code, and more. Unlike traditional AI that classifies or analyzes existing data, generative AI produces entirely new outputs.

## Traditional AI vs Generative AI

**Traditional AI** (Discriminative):
- Classifies emails as spam or not spam
- Detects objects in photos
- Predicts stock prices

**Generative AI**:
- Writes entire emails from scratch
- Creates new images from descriptions
- Writes code based on requirements

## How Does It Work?

At its core, generative AI learns **patterns** from massive amounts of data. When you give it a prompt (input), it generates output by predicting what should come next based on those learned patterns.

\`\`\`
Input: "Write a haiku about coding"

Output: "Fingers on keyboard,
Logic flows like mountain streams,
Bugs become features."
\`\`\`

## Key Components

1. **Training Data**: Massive datasets of text, images, or other content
2. **Neural Network**: The "brain" that learns patterns
3. **Parameters**: Billions of adjustable weights that store knowledge
4. **Inference**: The process of generating new content

## Why Now?

Three factors enabled the AI revolution:

- **Data**: The internet provides unlimited training material
- **Compute**: GPUs can process data in parallel
- **Research**: Transformer architecture breakthrough (2017)

> **Remember**: Generative AI doesn't "understand" like humans do - it's an extremely sophisticated pattern matcher.`,estimatedReadTime:4}},{id:"tokens-explained",type:"read",content:{title:"Understanding Tokens",markdown:`# Tokens: The Building Blocks of AI

Before an AI can process your text, it must break it into smaller pieces called **tokens**. Understanding tokens is crucial for using AI effectively.

## What is a Token?

A token is a chunk of text that the AI treats as a single unit. It's not quite a word, not quite a character - it's somewhere in between.

**Examples:**

| Text | Tokens | Count |
|------|--------|-------|
| "Hello" | "Hello" | 1 |
| "Hello world" | "Hello", " world" | 2 |
| "ChatGPT" | "Chat", "G", "PT" | 3 |
| "absolutely" | "absol", "utely" | 2 |

## Why Tokens Matter

### 1. Cost
Most AI services charge per token. More tokens = higher cost.

### 2. Context Limits
Every AI has a maximum **context window** - the total tokens it can handle in one conversation.

- GPT-4: ~128,000 tokens
- Claude: ~200,000 tokens
- Older models: ~4,000 tokens

### 3. Output Quality
Understanding tokenization helps you write better prompts.

## Rules of Thumb

- **1 token  4 characters** in English
- **1 token  0.75 words**
- **100 tokens  75 words**

\`\`\`python
# A rough estimation
text = "The quick brown fox jumps over the lazy dog"
estimated_tokens = len(text) / 4  #  11 tokens
\`\`\`

## Common Gotchas

- Numbers often become multiple tokens: "2024"  "20", "24"
- Code can be token-heavy due to symbols
- Non-English languages often use more tokens

> **Pro Tip**: When working with AI, keep prompts concise. Every extra word costs tokens and can reduce output quality.`,estimatedReadTime:4}},{id:"quiz-basics",type:"quiz",content:{title:"Knowledge Check",description:"Test your understanding of GenAI fundamentals",passingScore:50,allowRetry:!0,shuffleQuestions:!1,questions:[{id:"q1",prompt:"What makes Generative AI different from traditional AI?",choices:["It only works with images","It creates new content rather than just classifying existing data","It requires less computing power","It can only process text"],correctIndex:1,explanation:"Generative AI is distinguished by its ability to create new content (text, images, code) rather than just analyzing or classifying existing data.",tags:["generative-ai","fundamentals"]},{id:"q2",prompt:"Approximately how many characters does one token represent in English?",choices:["1 character","4 characters","10 characters","1 word"],correctIndex:1,explanation:"A rough rule of thumb is that 1 token  4 characters in English, or about 0.75 words.",tags:["tokens"]},{id:"q3",prompt:'What is a "context window" in AI?',choices:["The visual interface of the AI","The maximum number of tokens an AI can process in one conversation","The time limit for AI responses","The programming language used by the AI"],correctIndex:1,explanation:"The context window is the maximum number of tokens (input + output) that an AI can handle in a single conversation or request.",tags:["tokens","context"]},{id:"q4",prompt:"Which breakthrough enabled the modern AI revolution?",choices:["The invention of the internet","The Transformer architecture (2017)","The first computer","Social media platforms"],correctIndex:1,explanation:"While data and compute were important, the Transformer architecture introduced in 2017 was the key research breakthrough that enabled modern large language models.",tags:["fundamentals","history"]}]}},{id:"ai-help-remediation",type:"ai_help",content:{title:"Let's Review Together",mode:"targeted_remediation",maxTurns:5}},{id:"mission-chatgpt",type:"mission",content:{title:"Try ChatGPT Yourself",description:"Now that you understand the basics, let's put your knowledge into practice!",steps:[{id:"step1",instruction:"Go to chat.openai.com and create a free account (or log in)",verificationMethod:"self_report"},{id:"step2",instruction:"Ask ChatGPT to explain what tokens are in simple terms",verificationMethod:"self_report"},{id:"step3",instruction:"Ask it to estimate how many tokens are in a sentence you provide",verificationMethod:"self_report"}],externalUrl:"https://chat.openai.com",completionMessage:"Excellent! You've now had hands-on experience with a generative AI system. Notice how it responded to your prompts - that's the pattern-matching in action!"}},{id:"completion",type:"read",content:{title:"Module Complete!",markdown:`# Congratulations!

You've completed the **GenAI Fundamentals** module. Let's recap what you learned:

## Key Takeaways

1. **Generative AI** creates new content by learning patterns from data
2. **Tokens** are the basic units AI uses to process text (~4 characters each)
3. **Context windows** limit how much an AI can "remember" in a conversation
4. Modern AI was enabled by data, compute, and the Transformer architecture

## What's Next?

In the next module, you'll learn about:
- **Prompt Engineering**: How to write effective prompts
- **AI Limitations**: Understanding what AI can and can't do
- **Practical Applications**: Real-world use cases

## Keep Practicing

The best way to learn AI is by using it. Continue experimenting with:
- ChatGPT (chat.openai.com)
- Claude (claude.ai)
- Other AI tools you encounter

> **Remember**: AI is a tool. The more you understand how it works, the more effectively you can use it.

---

Thank you for completing this module! Your journey into AI has just begun.`,estimatedReadTime:2}}],edges:[{from:"welcome",to:"what-is-genai"},{from:"what-is-genai",to:"tokens-explained"},{from:"tokens-explained",to:"quiz-basics"},{from:"quiz-basics",to:"mission-chatgpt",condition:{all:[{fact:"quiz.scorePercent",op:"gte",value:50}]},priority:10},{from:"quiz-basics",to:"ai-help-remediation",condition:{all:[{fact:"quiz.scorePercent",op:"lt",value:50}]},priority:10},{from:"ai-help-remediation",to:"quiz-basics"},{from:"mission-chatgpt",to:"completion"}]};function Ox({userId:i,onLogout:n,onOpenAdmin:s,settingsKey:o}){const l=Wr(),{showToast:u}=Xl(),[h,p]=_.useState([]),[m,y]=_.useState(!0),[g,x]=_.useState(!1),[b,k]=_.useState(null),[j,N]=_.useState({totalCompleted:0,totalInProgress:0,streakDays:0}),[C,$]=_.useState("Learning Hub");_.useEffect(()=>{A(),B()},[]),_.useEffect(()=>{T()},[o]);const T=async()=>{try{const{data:D,error:F}=await je.from("system_settings").select("setting_key, setting_value").eq("setting_key","platform_name").maybeSingle();!F&&D&&$(D.setting_value)}catch(D){console.error("Error loading platform settings:",D)}},A=async()=>{y(!0);const{data:D,error:F}=await je.from("tracks").select(`
        *,
        modules (
          id,
          title,
          order_index,
          journey_versions (
            id,
            version,
            status,
            graph_json
          )
        )
      `).order("created_at",{ascending:!0});if(F){console.error("Error loading tracks:",F),y(!1);return}if(D&&D.length>0){const Y=await Promise.all(D.map(async ae=>{const ue=ae.modules||[];let we,ke;if(ue.length>0){const G=ue[0].journey_versions?.find(ne=>ne.status==="published");G&&(we=G.id,ke=G.graph_json)}let Ne=0;if(we&&ke){const{data:ye}=await je.from("user_journey_runs").select("id, status").eq("user_id",i).eq("journey_version_id",we).order("created_at",{ascending:!1}).limit(1);if(ye&&ye.length>0){const G=ye[0];if(G.status==="completed")Ne=100;else{const{data:ne}=await je.from("user_block_states").select("status").eq("run_id",G.id);if(ne&&ke.blocks){const J=ne.filter(P=>P.status==="completed").length;Ne=Math.round(J/ke.blocks.length*100)}}}}return{...ae,modules:ue,progress:Ne,journeyVersionId:we,graphJson:ke}}));p(Y)}y(!1)},B=async()=>{const{data:D}=await je.from("user_journey_runs").select("id").eq("user_id",i).eq("status","completed"),{data:F}=await je.from("user_journey_runs").select("id").eq("user_id",i).eq("status","in_progress");N({totalCompleted:D?.length||0,totalInProgress:F?.length||0,streakDays:Math.floor(Math.random()*7)+1})},H=async()=>{x(!0);try{const{data:D,error:F}=await je.from("tracks").insert({title:"GenAI Fundamentals",description:"Learn the core concepts of Generative AI, including how language models work, tokens, prompts, and practical applications.",level:"beginner",tags:JSON.stringify(["AI","Fundamentals","LLM"]),estimated_duration_minutes:20}).select().single();if(F||!D)throw new Error(F?.message||"Failed to create track");const{data:Y,error:ae}=await je.from("modules").insert({track_id:D.id,title:"Introduction to GenAI",description:"Your first steps into the world of Generative AI",order_index:0,estimated_duration_minutes:20}).select().single();if(ae||!Y)throw new Error(ae?.message||"Failed to create module");const{data:ue,error:we}=await je.from("journey_versions").insert({module_id:Y.id,version:1,status:"published",graph_json:Ix}).select().single();if(we||!ue)throw new Error(we?.message||"Failed to create journey version");const{error:ke}=await je.from("tracks").update({published_version_id:ue.id}).eq("id",D.id);ke&&console.error("Failed to update track with published version:",ke),u("success","Sample track created successfully! You can now start learning."),await A()}catch(D){console.error("Seeding error:",D),u("error","Failed to create sample track. Please try again.")}finally{x(!1)}},L=D=>{D.journeyVersionId&&l(`/journey?v=${D.journeyVersionId}`)},K=()=>{k(null),A(),B()},V=()=>{k(null),A()};return b?c.jsx(Rf,{journeyVersionId:b.journeyVersionId,userId:i,graph:b.graph,onComplete:K,onExit:V}):c.jsxs("div",{className:"min-h-screen bg-slate-50",children:[c.jsx("header",{className:"bg-white border-b border-slate-200",role:"banner",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("img",{src:"https://res.cloudinary.com/dujh5xuoi/image/upload/v1754423073/%D8%AA%D8%B9%D9%84%D9%91%D9%85_AIFinal_edvr4e.png",alt:"Platform logo",className:"max-h-10 w-auto object-contain"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-slate-900",children:C}),c.jsx("p",{className:"text-sm text-slate-500",children:"Your AI-powered learning journey"})]})]}),c.jsxs("nav",{className:"flex items-center gap-2",role:"navigation","aria-label":"User actions",children:[c.jsx("button",{onClick:s,className:"p-2 rounded-lg transition-colors text-slate-500 hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-label":"Open Admin Panel",children:c.jsx(Fy,{className:"w-5 h-5","aria-hidden":"true"})}),c.jsx("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-900 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded-lg","aria-label":"Sign out of your account",children:"Sign Out"})]})]})})}),c.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[c.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 flex items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-100 flex items-center justify-center",children:c.jsx(Zl,{className:"w-6 h-6 text-emerald-600"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-slate-900",children:j.totalCompleted}),c.jsx("div",{className:"text-sm text-slate-500",children:"Completed"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 flex items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center",children:c.jsx(Wy,{className:"w-6 h-6 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-slate-900",children:j.totalInProgress}),c.jsx("div",{className:"text-sm text-slate-500",children:"In Progress"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-200 flex items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-100 flex items-center justify-center",children:c.jsx(Us,{className:"w-6 h-6 text-amber-600"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-2xl font-bold text-slate-900",children:[j.streakDays," days"]}),c.jsx("div",{className:"text-sm text-slate-500",children:"Learning Streak"})]})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Continue Learning"}),c.jsx("p",{className:"text-slate-600",children:"Pick up where you left off or start a new track"})]}),m?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):h.length===0?c.jsxs("div",{className:"text-center py-12 bg-white rounded-xl border border-slate-200",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-100 flex items-center justify-center mx-auto mb-4",children:c.jsx(Ds,{className:"w-8 h-8 text-slate-400"})}),c.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No tracks available"}),c.jsx("p",{className:"text-slate-500 mb-6",children:"Get started by creating your first learning track"}),c.jsxs("button",{onClick:H,disabled:g,className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[g?c.jsx(zy,{className:"w-5 h-5 animate-spin"}):c.jsx(Us,{className:"w-5 h-5"}),g?"Creating...":"Create Sample Track"]})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(D=>c.jsx(ix,{title:D.title,description:D.description||"",level:D.level,estimatedDuration:D.estimated_duration_minutes,moduleCount:D.modules?.length||1,coverImage:D.cover_image_url||void 0,progress:D.progress,onStart:()=>L(D),disabled:!D.journeyVersionId},D.id))})]})]})}const Ax=_.lazy(()=>Yn(()=>import("./index-DADcY8kr.js"),[]).then(i=>({default:i.AdminPage}))),Lx=_.lazy(()=>Yn(()=>Promise.resolve().then(()=>Rx),void 0).then(i=>({default:i.JourneyRunner})));function If(){return c.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Vt,{className:"w-10 h-10 text-blue-500 animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-slate-400",children:"Loading..."})]})})}const Of=_.createContext(null);function po(){const i=_.useContext(Of);if(!i)throw new Error("useAuth must be used within AuthProvider");return i}function wl({children:i}){const{userId:n}=po();return n?c.jsx(c.Fragment,{children:i}):c.jsx(_l,{to:"/login",replace:!0})}function $x(){const{userId:i}=po(),n=Wr(),[s,o]=_.useState(null),[l,u]=_.useState(!0),[h,p]=_.useState(null);return _.useEffect(()=>{(async()=>{const g=new URLSearchParams(window.location.search).get("v");if(!g){p("No journey version specified"),u(!1);return}try{const{data:x,error:b}=await je.from("journey_versions").select("id, graph_json").eq("id",g).single();if(b||!x){p("Journey not found"),u(!1);return}o({versionId:x.id,graph:x.graph_json})}catch{p("Failed to load journey")}finally{u(!1)}})()},[]),l?c.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:c.jsx(Vt,{className:"w-10 h-10 text-blue-500 animate-spin"})}):h||!s||!i?c.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-red-400 mb-4",children:h||"Unable to load journey"}),c.jsx("button",{onClick:()=>n("/"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Dashboard"})]})}):c.jsx(_.Suspense,{fallback:c.jsx(If,{}),children:c.jsx(Lx,{journeyVersionId:s.versionId,userId:i,graph:s.graph,onComplete:()=>n("/"),onExit:()=>n("/")})})}function Mx(){const[i,n]=_.useState(null),[s,o]=_.useState(!0),[l,u]=_.useState(0),h=()=>{u(g=>g+1)};_.useEffect(()=>{p();const{data:{subscription:g}}=je.auth.onAuthStateChange((x,b)=>{x==="SIGNED_IN"&&b?.user?n(b.user.id):x==="SIGNED_OUT"&&n(null)});return()=>{g.unsubscribe()}},[]);const p=async()=>{const{data:{session:g}}=await je.auth.getSession();g?.user&&n(g.user.id),o(!1)},m=g=>{n(g)},y=async()=>{await je.auth.signOut(),n(null)};return s?c.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:c.jsx(Vt,{className:"w-10 h-10 text-blue-500 animate-spin"})}):c.jsx(ex,{children:c.jsxs(Of.Provider,{value:{userId:i,settingsKey:l,refreshSettings:h,logout:y},children:[c.jsxs(M0,{children:[c.jsx(Ar,{path:"/login",element:i?c.jsx(_l,{to:"/",replace:!0}):c.jsx(Zy,{onAuthSuccess:m})}),c.jsx(Ar,{path:"/",element:c.jsx(wl,{children:c.jsx(Dx,{})})}),c.jsx(Ar,{path:"/admin/*",element:c.jsx(wl,{children:c.jsx(Ux,{})})}),c.jsx(Ar,{path:"/journey",element:c.jsx(wl,{children:c.jsx($x,{})})}),c.jsx(Ar,{path:"*",element:c.jsx(_l,{to:"/",replace:!0})})]}),c.jsx(sx,{})]})})}function Dx(){const{userId:i,settingsKey:n,logout:s}=po(),o=Wr();return i?c.jsx(Ox,{userId:i,onLogout:s,onOpenAdmin:()=>o("/admin"),settingsKey:n}):null}function Ux(){const{refreshSettings:i}=po(),n=Wr();return c.jsx(_.Suspense,{fallback:c.jsx(If,{}),children:c.jsx(Ax,{onExit:()=>n("/"),onSettingsChanged:i})})}zm.createRoot(document.getElementById("root")).render(c.jsx(_.StrictMode,{children:c.jsx(ag,{children:c.jsx(Mx,{})})}));export{Ql as A,Ds as B,kf as C,Cy as D,Yl as E,jf as F,qx as G,Rh as H,Oh as I,Vt as L,Sf as P,Ur as R,Us as S,Zl as T,qy as U,Ef as V,Jy as X,Yn as _,Rn as a,Fy as b,se as c,_f as d,Xl as e,ut as f,$y as g,Ny as h,Dr as i,c as j,Xy as k,Vx as l,fo as m,Oy as n,Ty as o,Ch as p,Iy as q,_ as r,je as s,Qn as t,Wr as u,Th as v,bf as w,zy as x,Ey as y,Wy as z};
